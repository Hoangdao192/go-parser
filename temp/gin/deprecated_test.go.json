{"children":[],"start":168,"end":771,"code":"package gin\n\nimport (\n\t\"bytes\"\n\t\"net/http\"\n\t\"net/http/httptest\"\n\t\"testing\"\n\t\"github.com/gin-gonic/gin/binding\"\n\t\"github.com/stretchr/testify/assert\"\n)\n\nfunc TestBindWith(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tc, _ := CreateTestContext(w)\n\tc.Request, _ = http.NewRequest(\"POST\", \"/?foo=bar\u0026bar=foo\", bytes.NewBufferString(\"foo=unused\"))\n\tvar obj struct {\n\t\tFoo\tstring\t`form:\"foo\"`\n\t\tBar\tstring\t`form:\"bar\"`\n\t}\n\tcaptureOutput(t, func() {\n\t\tassert.NoError(t, c.BindWith(\u0026obj, binding.Form))\n\t})\n\tassert.Equal(t, \"foo\", obj.Bar)\n\tassert.Equal(t, \"bar\", obj.Foo)\n\tassert.Equal(t, 0, w.Body.Len())\n}\n","nodeType":"File","column":0,"line":0,"doc":null,"package":168,"name":{"children":[],"start":176,"end":179,"code":"gin","nodeType":"Identifier","column":0,"line":0,"namePos":176,"name":"gin","object":null},"declarations":[{"children":[],"start":181,"end":319,"code":"import (\n\t\"bytes\"\n\t\"net/http\"\n\t\"net/http/httptest\"\n\t\"testing\"\n\t\"github.com/gin-gonic/gin/binding\"\n\t\"github.com/stretchr/testify/assert\"\n)","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":181,"token":75,"lparen":188,"specifications":[{"children":[],"start":191,"end":198,"code":"\"bytes\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":191,"end":198,"code":"\"bytes\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":191,"kind":9,"value":"\"bytes\""},"comment":null,"endPosition":0},{"children":[],"start":200,"end":210,"code":"\"net/http\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":200,"end":210,"code":"\"net/http\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":200,"kind":9,"value":"\"net/http\""},"comment":null,"endPosition":0},{"children":[],"start":212,"end":231,"code":"\"net/http/httptest\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":212,"end":231,"code":"\"net/http/httptest\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":212,"kind":9,"value":"\"net/http/httptest\""},"comment":null,"endPosition":0},{"children":[],"start":233,"end":242,"code":"\"testing\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":233,"end":242,"code":"\"testing\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":233,"kind":9,"value":"\"testing\""},"comment":null,"endPosition":0},{"children":[],"start":245,"end":279,"code":"\"github.com/gin-gonic/gin/binding\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":245,"end":279,"code":"\"github.com/gin-gonic/gin/binding\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":245,"kind":9,"value":"\"github.com/gin-gonic/gin/binding\""},"comment":null,"endPosition":0},{"children":[],"start":281,"end":317,"code":"\"github.com/stretchr/testify/assert\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":281,"end":317,"code":"\"github.com/stretchr/testify/assert\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":281,"kind":9,"value":"\"github.com/stretchr/testify/assert\""},"comment":null,"endPosition":0}],"rparen":318},{"children":[],"start":321,"end":771,"code":"func TestBindWith(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tc, _ := CreateTestContext(w)\n\tc.Request, _ = http.NewRequest(\"POST\", \"/?foo=bar\u0026bar=foo\", bytes.NewBufferString(\"foo=unused\"))\n\tvar obj struct {\n\t\tFoo\tstring\t`form:\"foo\"`\n\t\tBar\tstring\t`form:\"bar\"`\n\t}\n\tcaptureOutput(t, func() {\n\t\tassert.NoError(t, c.BindWith(\u0026obj, binding.Form))\n\t})\n\tassert.Equal(t, \"foo\", obj.Bar)\n\tassert.Equal(t, \"bar\", obj.Foo)\n\tassert.Equal(t, 0, w.Body.Len())\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":326,"end":338,"code":"TestBindWith","nodeType":"Identifier","column":0,"line":0,"namePos":326,"name":"TestBindWith","object":null},"type":{"children":[],"start":321,"end":352,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":321,"TypeParams":null,"Params":{"children":[],"start":338,"end":352,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":338,"list":[{"children":[],"start":339,"end":351,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":339,"end":340,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":339,"name":"t","object":null}],"type":{"children":[],"start":341,"end":351,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":341,"expression":{"children":[],"start":342,"end":351,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":342,"end":349,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":342,"name":"testing","object":null},"sel":{"children":[],"start":350,"end":351,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":350,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":351},"Results":null},"body":{"children":[],"start":353,"end":771,"code":"{\n\tw := httptest.NewRecorder()\n\tc, _ := CreateTestContext(w)\n\tc.Request, _ = http.NewRequest(\"POST\", \"/?foo=bar\u0026bar=foo\", bytes.NewBufferString(\"foo=unused\"))\n\tvar obj struct {\n\t\tFoo\tstring\t`form:\"foo\"`\n\t\tBar\tstring\t`form:\"bar\"`\n\t}\n\tcaptureOutput(t, func() {\n\t\tassert.NoError(t, c.BindWith(\u0026obj, binding.Form))\n\t})\n\tassert.Equal(t, \"foo\", obj.Bar)\n\tassert.Equal(t, \"bar\", obj.Foo)\n\tassert.Equal(t, 0, w.Body.Len())\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":353,"list":[{"children":[],"start":356,"end":383,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":356,"end":357,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":356,"name":"w","object":null}],"tokenPos":358,"token":47,"rhs":[{"children":[],"start":361,"end":383,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":361,"end":381,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":361,"end":369,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":361,"name":"httptest","object":null},"sel":{"children":[],"start":370,"end":381,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":370,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":385,"end":413,"code":"c, _ := CreateTestContext(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":385,"end":386,"code":"c","nodeType":"Identifier","column":0,"line":0,"namePos":385,"name":"c","object":null},{"children":[],"start":388,"end":389,"code":"_","nodeType":"Identifier","column":0,"line":0,"namePos":388,"name":"_","object":null}],"tokenPos":390,"token":47,"rhs":[{"children":[],"start":393,"end":413,"code":"CreateTestContext(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":393,"end":410,"code":"CreateTestContext","nodeType":"Identifier","column":0,"line":0,"namePos":393,"name":"CreateTestContext","object":null},"lparen":0,"args":[{"children":[],"start":411,"end":412,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":411,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":416,"end":512,"code":"c.Request, _ = http.NewRequest(\"POST\", \"/?foo=bar\u0026bar=foo\", bytes.NewBufferString(\"foo=unused\"))","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":416,"end":425,"code":"c.Request","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":416,"end":417,"code":"c","nodeType":"Identifier","column":0,"line":0,"namePos":416,"name":"c","object":null},"sel":{"children":[],"start":418,"end":425,"code":"Request","nodeType":"Identifier","column":0,"line":0,"namePos":418,"name":"Request","object":null}},{"children":[],"start":427,"end":428,"code":"_","nodeType":"Identifier","column":0,"line":0,"namePos":427,"name":"_","object":null}],"tokenPos":429,"token":42,"rhs":[{"children":[],"start":431,"end":512,"code":"http.NewRequest(\"POST\", \"/?foo=bar\u0026bar=foo\", bytes.NewBufferString(\"foo=unused\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":431,"end":446,"code":"http.NewRequest","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":431,"end":435,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":431,"name":"http","object":null},"sel":{"children":[],"start":436,"end":446,"code":"NewRequest","nodeType":"Identifier","column":0,"line":0,"namePos":436,"name":"NewRequest","object":null}},"lparen":0,"args":[{"children":[],"start":447,"end":453,"code":"\"POST\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":447,"kind":9,"value":"\"POST\""},{"children":[],"start":455,"end":474,"code":"\"/?foo=bar\u0026bar=foo\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":455,"kind":9,"value":"\"/?foo=bar\u0026bar=foo\""},{"children":[],"start":476,"end":511,"code":"bytes.NewBufferString(\"foo=unused\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":476,"end":497,"code":"bytes.NewBufferString","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":476,"end":481,"code":"bytes","nodeType":"Identifier","column":0,"line":0,"namePos":476,"name":"bytes","object":null},"sel":{"children":[],"start":482,"end":497,"code":"NewBufferString","nodeType":"Identifier","column":0,"line":0,"namePos":482,"name":"NewBufferString","object":null}},"lparen":0,"args":[{"children":[],"start":498,"end":510,"code":"\"foo=unused\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":498,"kind":9,"value":"\"foo=unused\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}]},{"children":[],"start":515,"end":586,"code":"var obj struct {\n\tFoo\tstring\t`form:\"foo\"`\n\tBar\tstring\t`form:\"bar\"`\n}","nodeType":"DeclarationStatement","column":0,"line":0,"declaration":{"children":[],"start":515,"end":586,"code":"var obj struct {\n\tFoo\tstring\t`form:\"foo\"`\n\tBar\tstring\t`form:\"bar\"`\n}","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":515,"token":85,"lparen":0,"specifications":[{"children":[],"start":519,"end":586,"code":"obj struct {\n\tFoo\tstring\t`form:\"foo\"`\n\tBar\tstring\t`form:\"bar\"`\n}","nodeType":"ValueSpecification","column":0,"line":0,"doc":null,"names":[{"children":[],"start":519,"end":522,"code":"obj","nodeType":"Identifier","column":0,"line":0,"namePos":519,"name":"obj","object":null}],"type":{"children":[],"start":523,"end":586,"code":"struct {\n\tFoo\tstring\t`form:\"foo\"`\n\tBar\tstring\t`form:\"bar\"`\n}","nodeType":"StructType","column":0,"line":0,"struct":523,"fields":{"children":[],"start":530,"end":586,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":530,"list":[{"children":[],"start":534,"end":557,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":534,"end":537,"code":"Foo","nodeType":"Identifier","column":0,"line":0,"namePos":534,"name":"Foo","object":null}],"type":{"children":[],"start":538,"end":544,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":538,"name":"string","object":null},"tag":{"children":[],"start":545,"end":557,"code":"`form:\"foo\"`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":545,"kind":9,"value":"`form:\"foo\"`"},"comment":null},{"children":[],"start":560,"end":583,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":560,"end":563,"code":"Bar","nodeType":"Identifier","column":0,"line":0,"namePos":560,"name":"Bar","object":null}],"type":{"children":[],"start":564,"end":570,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":564,"name":"string","object":null},"tag":{"children":[],"start":571,"end":583,"code":"`form:\"bar\"`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":571,"kind":9,"value":"`form:\"bar\"`"},"comment":null}],"closing":585},"incomplete":false},"values":[],"comment":null}],"rparen":0}},{"children":[],"start":588,"end":669,"code":"captureOutput(t, func() {\n\tassert.NoError(t, c.BindWith(\u0026obj, binding.Form))\n})","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":588,"end":669,"code":"captureOutput(t, func() {\n\tassert.NoError(t, c.BindWith(\u0026obj, binding.Form))\n})","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":588,"end":601,"code":"captureOutput","nodeType":"Identifier","column":0,"line":0,"namePos":588,"name":"captureOutput","object":null},"lparen":0,"args":[{"children":[],"start":602,"end":603,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":602,"name":"t","object":null},{"children":[],"start":605,"end":668,"code":"func() {\n\tassert.NoError(t, c.BindWith(\u0026obj, binding.Form))\n}","nodeType":"FunctionLiteral","column":0,"line":0,"type":{"children":[],"start":605,"end":611,"code":"func()","nodeType":"FunctionType","column":0,"line":0,"Function":605,"TypeParams":null,"Params":{"children":[],"start":609,"end":611,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":609,"list":[],"closing":610},"Results":null},"body":{"children":[],"start":612,"end":668,"code":"{\n\tassert.NoError(t, c.BindWith(\u0026obj, binding.Form))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":612,"list":[{"children":[],"start":616,"end":665,"code":"assert.NoError(t, c.BindWith(\u0026obj, binding.Form))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":616,"end":665,"code":"assert.NoError(t, c.BindWith(\u0026obj, binding.Form))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":616,"end":630,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":616,"end":622,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":616,"name":"assert","object":null},"sel":{"children":[],"start":623,"end":630,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":623,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":631,"end":632,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":631,"name":"t","object":null},{"children":[],"start":634,"end":664,"code":"c.BindWith(\u0026obj, binding.Form)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":634,"end":644,"code":"c.BindWith","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":634,"end":635,"code":"c","nodeType":"Identifier","column":0,"line":0,"namePos":634,"name":"c","object":null},"sel":{"children":[],"start":636,"end":644,"code":"BindWith","nodeType":"Identifier","column":0,"line":0,"namePos":636,"name":"BindWith","object":null}},"lparen":0,"args":[{"children":[],"start":645,"end":649,"code":"\u0026obj","nodeType":"UnaryExpression","column":0,"line":0,"opPos":645,"op":17,"expression":{"children":[],"start":646,"end":649,"code":"obj","nodeType":"Identifier","column":0,"line":0,"namePos":646,"name":"obj","object":null}},{"children":[],"start":651,"end":663,"code":"binding.Form","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":651,"end":658,"code":"binding","nodeType":"Identifier","column":0,"line":0,"namePos":651,"name":"binding","object":null},"sel":{"children":[],"start":659,"end":663,"code":"Form","nodeType":"Identifier","column":0,"line":0,"namePos":659,"name":"Form","object":null}}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":667}}],"ellipsis":0,"rparen":0}},{"children":[],"start":671,"end":702,"code":"assert.Equal(t, \"foo\", obj.Bar)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":671,"end":702,"code":"assert.Equal(t, \"foo\", obj.Bar)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":671,"end":683,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":671,"end":677,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":671,"name":"assert","object":null},"sel":{"children":[],"start":678,"end":683,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":678,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":684,"end":685,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":684,"name":"t","object":null},{"children":[],"start":687,"end":692,"code":"\"foo\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":687,"kind":9,"value":"\"foo\""},{"children":[],"start":694,"end":701,"code":"obj.Bar","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":694,"end":697,"code":"obj","nodeType":"Identifier","column":0,"line":0,"namePos":694,"name":"obj","object":null},"sel":{"children":[],"start":698,"end":701,"code":"Bar","nodeType":"Identifier","column":0,"line":0,"namePos":698,"name":"Bar","object":null}}],"ellipsis":0,"rparen":0}},{"children":[],"start":704,"end":735,"code":"assert.Equal(t, \"bar\", obj.Foo)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":704,"end":735,"code":"assert.Equal(t, \"bar\", obj.Foo)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":704,"end":716,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":704,"end":710,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":704,"name":"assert","object":null},"sel":{"children":[],"start":711,"end":716,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":711,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":717,"end":718,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":717,"name":"t","object":null},{"children":[],"start":720,"end":725,"code":"\"bar\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":720,"kind":9,"value":"\"bar\""},{"children":[],"start":727,"end":734,"code":"obj.Foo","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":727,"end":730,"code":"obj","nodeType":"Identifier","column":0,"line":0,"namePos":727,"name":"obj","object":null},"sel":{"children":[],"start":731,"end":734,"code":"Foo","nodeType":"Identifier","column":0,"line":0,"namePos":731,"name":"Foo","object":null}}],"ellipsis":0,"rparen":0}},{"children":[],"start":737,"end":769,"code":"assert.Equal(t, 0, w.Body.Len())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":737,"end":769,"code":"assert.Equal(t, 0, w.Body.Len())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":737,"end":749,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":737,"end":743,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":737,"name":"assert","object":null},"sel":{"children":[],"start":744,"end":749,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":744,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":750,"end":751,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":750,"name":"t","object":null},{"children":[],"start":753,"end":754,"code":"0","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":753,"kind":5,"value":"0"},{"children":[],"start":756,"end":768,"code":"w.Body.Len()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":756,"end":766,"code":"w.Body.Len","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":756,"end":762,"code":"w.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":756,"end":757,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":756,"name":"w","object":null},"sel":{"children":[],"start":758,"end":762,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":758,"name":"Body","object":null}},"sel":{"children":[],"start":763,"end":766,"code":"Len","nodeType":"Identifier","column":0,"line":0,"namePos":763,"name":"Len","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":770}}],"fileStart":1,"fileEnd":772,"scope":{"outer":null,"objects":null},"imports":[],"unresolved":[],"comments":[],"goVersion":""}