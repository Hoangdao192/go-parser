{"children":[],"start":168,"end":4938,"code":"package gin\n\nimport (\n\t\"net/http\"\n\t\"net/http/httptest\"\n\t\"testing\"\n\t\"github.com/stretchr/testify/assert\"\n)\n\nvar (\n\t_\tResponseWriter\t\t= \u0026responseWriter{}\n\t_\thttp.ResponseWriter\t= \u0026responseWriter{}\n\t_\thttp.ResponseWriter\t= ResponseWriter(\u0026responseWriter{})\n\t_\thttp.Hijacker\t\t= ResponseWriter(\u0026responseWriter{})\n\t_\thttp.Flusher\t\t= ResponseWriter(\u0026responseWriter{})\n\t_\thttp.CloseNotifier\t= ResponseWriter(\u0026responseWriter{})\n)\n\nfunc init() {\n\tSetMode(TestMode)\n}\nfunc TestResponseWriterUnwrap(t *testing.T) {\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{ResponseWriter: testWriter}\n\tassert.Same(t, testWriter, writer.Unwrap())\n}\nfunc TestResponseWriterReset(t *testing.T) {\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{}\n\tvar w ResponseWriter = writer\n\twriter.reset(testWriter)\n\tassert.Equal(t, -1, writer.size)\n\tassert.Equal(t, http.StatusOK, writer.status)\n\tassert.Equal(t, testWriter, writer.ResponseWriter)\n\tassert.Equal(t, -1, w.Size())\n\tassert.Equal(t, http.StatusOK, w.Status())\n\tassert.False(t, w.Written())\n}\nfunc TestResponseWriterWriteHeader(t *testing.T) {\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{}\n\twriter.reset(testWriter)\n\tw := ResponseWriter(writer)\n\tw.WriteHeader(http.StatusMultipleChoices)\n\tassert.False(t, w.Written())\n\tassert.Equal(t, http.StatusMultipleChoices, w.Status())\n\tassert.NotEqual(t, http.StatusMultipleChoices, testWriter.Code)\n\tw.WriteHeader(-1)\n\tassert.Equal(t, http.StatusMultipleChoices, w.Status())\n}\nfunc TestResponseWriterWriteHeadersNow(t *testing.T) {\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{}\n\twriter.reset(testWriter)\n\tw := ResponseWriter(writer)\n\tw.WriteHeader(http.StatusMultipleChoices)\n\tw.WriteHeaderNow()\n\tassert.True(t, w.Written())\n\tassert.Equal(t, 0, w.Size())\n\tassert.Equal(t, http.StatusMultipleChoices, testWriter.Code)\n\twriter.size = 10\n\tw.WriteHeaderNow()\n\tassert.Equal(t, 10, w.Size())\n}\nfunc TestResponseWriterWrite(t *testing.T) {\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{}\n\twriter.reset(testWriter)\n\tw := ResponseWriter(writer)\n\tn, err := w.Write([]byte(\"hola\"))\n\tassert.Equal(t, 4, n)\n\tassert.Equal(t, 4, w.Size())\n\tassert.Equal(t, http.StatusOK, w.Status())\n\tassert.Equal(t, http.StatusOK, testWriter.Code)\n\tassert.Equal(t, \"hola\", testWriter.Body.String())\n\tassert.NoError(t, err)\n\tn, err = w.Write([]byte(\" adios\"))\n\tassert.Equal(t, 6, n)\n\tassert.Equal(t, 10, w.Size())\n\tassert.Equal(t, \"hola adios\", testWriter.Body.String())\n\tassert.NoError(t, err)\n}\nfunc TestResponseWriterHijack(t *testing.T) {\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{}\n\twriter.reset(testWriter)\n\tw := ResponseWriter(writer)\n\tassert.Panics(t, func() {\n\t\t_, _, err := w.Hijack()\n\t\tassert.NoError(t, err)\n\t})\n\tassert.True(t, w.Written())\n\tassert.Panics(t, func() {\n\t\tw.CloseNotify()\n\t})\n\tw.Flush()\n}\nfunc TestResponseWriterFlush(t *testing.T) {\n\ttestServer := httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n\t\twriter := \u0026responseWriter{}\n\t\twriter.reset(w)\n\t\twriter.WriteHeader(http.StatusInternalServerError)\n\t\twriter.Flush()\n\t}))\n\tdefer testServer.Close()\n\tresp, err := http.Get(testServer.URL)\n\tassert.NoError(t, err)\n\tassert.Equal(t, http.StatusInternalServerError, resp.StatusCode)\n}\nfunc TestResponseWriterStatusCode(t *testing.T) {\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{}\n\twriter.reset(testWriter)\n\tw := ResponseWriter(writer)\n\tw.WriteHeader(http.StatusOK)\n\tw.WriteHeaderNow()\n\tassert.Equal(t, http.StatusOK, w.Status())\n\tassert.True(t, w.Written())\n\tw.WriteHeader(http.StatusUnauthorized)\n\tassert.Equal(t, http.StatusOK, w.Status())\n}\n\ntype mockPusherResponseWriter struct{ http.ResponseWriter }\n\nfunc (m *mockPusherResponseWriter) Push(target string, opts *http.PushOptions) error {\n\treturn nil\n}\n\ntype nonPusherResponseWriter struct{ http.ResponseWriter }\n\nfunc TestPusherWithPusher(t *testing.T) {\n\trw := \u0026mockPusherResponseWriter{}\n\tw := \u0026responseWriter{ResponseWriter: rw}\n\tpusher := w.Pusher()\n\tassert.NotNil(t, pusher, \"Expected pusher to be non-nil\")\n}\nfunc TestPusherWithoutPusher(t *testing.T) {\n\trw := \u0026nonPusherResponseWriter{}\n\tw := \u0026responseWriter{ResponseWriter: rw}\n\tpusher := w.Pusher()\n\tassert.Nil(t, pusher, \"Expected pusher to be nil\")\n}\n","nodeType":"File","column":0,"line":0,"doc":null,"package":168,"name":{"children":[],"start":176,"end":179,"code":"gin","nodeType":"Identifier","column":0,"line":0,"namePos":176,"name":"gin","object":null},"declarations":[{"children":[],"start":181,"end":274,"code":"import (\n\t\"net/http\"\n\t\"net/http/httptest\"\n\t\"testing\"\n\t\"github.com/stretchr/testify/assert\"\n)","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":181,"token":75,"lparen":188,"specifications":[{"children":[],"start":191,"end":201,"code":"\"net/http\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":191,"end":201,"code":"\"net/http\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":191,"kind":9,"value":"\"net/http\""},"comment":null,"endPosition":0},{"children":[],"start":203,"end":222,"code":"\"net/http/httptest\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":203,"end":222,"code":"\"net/http/httptest\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":203,"kind":9,"value":"\"net/http/httptest\""},"comment":null,"endPosition":0},{"children":[],"start":224,"end":233,"code":"\"testing\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":224,"end":233,"code":"\"testing\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":224,"kind":9,"value":"\"testing\""},"comment":null,"endPosition":0},{"children":[],"start":236,"end":272,"code":"\"github.com/stretchr/testify/assert\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":236,"end":272,"code":"\"github.com/stretchr/testify/assert\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":236,"kind":9,"value":"\"github.com/stretchr/testify/assert\""},"comment":null,"endPosition":0}],"rparen":273},{"children":[],"start":455,"end":784,"code":"var (\n\t_\tResponseWriter\t\t= \u0026responseWriter{}\n\t_\thttp.ResponseWriter\t= \u0026responseWriter{}\n\t_\thttp.ResponseWriter\t= ResponseWriter(\u0026responseWriter{})\n\t_\thttp.Hijacker\t\t= ResponseWriter(\u0026responseWriter{})\n\t_\thttp.Flusher\t\t= ResponseWriter(\u0026responseWriter{})\n\t_\thttp.CloseNotifier\t= ResponseWriter(\u0026responseWriter{})\n)","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":455,"token":85,"lparen":459,"specifications":[{"children":[],"start":462,"end":503,"code":"_ ResponseWriter = \u0026responseWriter{}","nodeType":"ValueSpecification","column":0,"line":0,"doc":null,"names":[{"children":[],"start":462,"end":463,"code":"_","nodeType":"Identifier","column":0,"line":0,"namePos":462,"name":"_","object":null}],"type":{"children":[],"start":464,"end":478,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":464,"name":"ResponseWriter","object":null},"values":[{"children":[],"start":486,"end":503,"code":"\u0026responseWriter{}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":486,"op":17,"expression":{"children":[],"start":487,"end":503,"code":"responseWriter{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":487,"end":501,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":487,"name":"responseWriter","object":null},"lbrace":501,"elements":[],"rbrace":502,"incomplete":false}}],"comment":null},{"children":[],"start":505,"end":546,"code":"_ http.ResponseWriter = \u0026responseWriter{}","nodeType":"ValueSpecification","column":0,"line":0,"doc":null,"names":[{"children":[],"start":505,"end":506,"code":"_","nodeType":"Identifier","column":0,"line":0,"namePos":505,"name":"_","object":null}],"type":{"children":[],"start":507,"end":526,"code":"http.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":507,"end":511,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":507,"name":"http","object":null},"sel":{"children":[],"start":512,"end":526,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":512,"name":"ResponseWriter","object":null}},"values":[{"children":[],"start":529,"end":546,"code":"\u0026responseWriter{}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":529,"op":17,"expression":{"children":[],"start":530,"end":546,"code":"responseWriter{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":530,"end":544,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":530,"name":"responseWriter","object":null},"lbrace":544,"elements":[],"rbrace":545,"incomplete":false}}],"comment":null},{"children":[],"start":548,"end":605,"code":"_ http.ResponseWriter = ResponseWriter(\u0026responseWriter{})","nodeType":"ValueSpecification","column":0,"line":0,"doc":null,"names":[{"children":[],"start":548,"end":549,"code":"_","nodeType":"Identifier","column":0,"line":0,"namePos":548,"name":"_","object":null}],"type":{"children":[],"start":550,"end":569,"code":"http.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":550,"end":554,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":550,"name":"http","object":null},"sel":{"children":[],"start":555,"end":569,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":555,"name":"ResponseWriter","object":null}},"values":[{"children":[],"start":572,"end":605,"code":"ResponseWriter(\u0026responseWriter{})","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":572,"end":586,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":572,"name":"ResponseWriter","object":null},"lparen":0,"args":[{"children":[],"start":587,"end":604,"code":"\u0026responseWriter{}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":587,"op":17,"expression":{"children":[],"start":588,"end":604,"code":"responseWriter{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":588,"end":602,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":588,"name":"responseWriter","object":null},"lbrace":602,"elements":[],"rbrace":603,"incomplete":false}}],"ellipsis":0,"rparen":0}],"comment":null},{"children":[],"start":607,"end":664,"code":"_ http.Hijacker = ResponseWriter(\u0026responseWriter{})","nodeType":"ValueSpecification","column":0,"line":0,"doc":null,"names":[{"children":[],"start":607,"end":608,"code":"_","nodeType":"Identifier","column":0,"line":0,"namePos":607,"name":"_","object":null}],"type":{"children":[],"start":609,"end":622,"code":"http.Hijacker","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":609,"end":613,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":609,"name":"http","object":null},"sel":{"children":[],"start":614,"end":622,"code":"Hijacker","nodeType":"Identifier","column":0,"line":0,"namePos":614,"name":"Hijacker","object":null}},"values":[{"children":[],"start":631,"end":664,"code":"ResponseWriter(\u0026responseWriter{})","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":631,"end":645,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":631,"name":"ResponseWriter","object":null},"lparen":0,"args":[{"children":[],"start":646,"end":663,"code":"\u0026responseWriter{}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":646,"op":17,"expression":{"children":[],"start":647,"end":663,"code":"responseWriter{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":647,"end":661,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":647,"name":"responseWriter","object":null},"lbrace":661,"elements":[],"rbrace":662,"incomplete":false}}],"ellipsis":0,"rparen":0}],"comment":null},{"children":[],"start":666,"end":723,"code":"_ http.Flusher = ResponseWriter(\u0026responseWriter{})","nodeType":"ValueSpecification","column":0,"line":0,"doc":null,"names":[{"children":[],"start":666,"end":667,"code":"_","nodeType":"Identifier","column":0,"line":0,"namePos":666,"name":"_","object":null}],"type":{"children":[],"start":668,"end":680,"code":"http.Flusher","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":668,"end":672,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":668,"name":"http","object":null},"sel":{"children":[],"start":673,"end":680,"code":"Flusher","nodeType":"Identifier","column":0,"line":0,"namePos":673,"name":"Flusher","object":null}},"values":[{"children":[],"start":690,"end":723,"code":"ResponseWriter(\u0026responseWriter{})","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":690,"end":704,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":690,"name":"ResponseWriter","object":null},"lparen":0,"args":[{"children":[],"start":705,"end":722,"code":"\u0026responseWriter{}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":705,"op":17,"expression":{"children":[],"start":706,"end":722,"code":"responseWriter{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":706,"end":720,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":706,"name":"responseWriter","object":null},"lbrace":720,"elements":[],"rbrace":721,"incomplete":false}}],"ellipsis":0,"rparen":0}],"comment":null},{"children":[],"start":725,"end":782,"code":"_ http.CloseNotifier = ResponseWriter(\u0026responseWriter{})","nodeType":"ValueSpecification","column":0,"line":0,"doc":null,"names":[{"children":[],"start":725,"end":726,"code":"_","nodeType":"Identifier","column":0,"line":0,"namePos":725,"name":"_","object":null}],"type":{"children":[],"start":727,"end":745,"code":"http.CloseNotifier","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":727,"end":731,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":727,"name":"http","object":null},"sel":{"children":[],"start":732,"end":745,"code":"CloseNotifier","nodeType":"Identifier","column":0,"line":0,"namePos":732,"name":"CloseNotifier","object":null}},"values":[{"children":[],"start":749,"end":782,"code":"ResponseWriter(\u0026responseWriter{})","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":749,"end":763,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":749,"name":"ResponseWriter","object":null},"lparen":0,"args":[{"children":[],"start":764,"end":781,"code":"\u0026responseWriter{}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":764,"op":17,"expression":{"children":[],"start":765,"end":781,"code":"responseWriter{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":765,"end":779,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":765,"name":"responseWriter","object":null},"lbrace":779,"elements":[],"rbrace":780,"incomplete":false}}],"ellipsis":0,"rparen":0}],"comment":null}],"rparen":783},{"children":[],"start":786,"end":820,"code":"func init() {\n\tSetMode(TestMode)\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":791,"end":795,"code":"init","nodeType":"Identifier","column":0,"line":0,"namePos":791,"name":"init","object":null},"type":{"children":[],"start":786,"end":797,"code":"func()","nodeType":"FunctionType","column":0,"line":0,"Function":786,"TypeParams":null,"Params":{"children":[],"start":795,"end":797,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":795,"list":[],"closing":796},"Results":null},"body":{"children":[],"start":798,"end":820,"code":"{\n\tSetMode(TestMode)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":798,"list":[{"children":[],"start":801,"end":818,"code":"SetMode(TestMode)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":801,"end":818,"code":"SetMode(TestMode)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":801,"end":808,"code":"SetMode","nodeType":"Identifier","column":0,"line":0,"namePos":801,"name":"SetMode","object":null},"lparen":0,"args":[{"children":[],"start":809,"end":817,"code":"TestMode","nodeType":"Identifier","column":0,"line":0,"namePos":809,"name":"TestMode","object":null}],"ellipsis":0,"rparen":0}}],"rbrace":819}},{"children":[],"start":822,"end":1007,"code":"func TestResponseWriterUnwrap(t *testing.T) {\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{ResponseWriter: testWriter}\n\tassert.Same(t, testWriter, writer.Unwrap())\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":827,"end":851,"code":"TestResponseWriterUnwrap","nodeType":"Identifier","column":0,"line":0,"namePos":827,"name":"TestResponseWriterUnwrap","object":null},"type":{"children":[],"start":822,"end":865,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":822,"TypeParams":null,"Params":{"children":[],"start":851,"end":865,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":851,"list":[{"children":[],"start":852,"end":864,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":852,"end":853,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":852,"name":"t","object":null}],"type":{"children":[],"start":854,"end":864,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":854,"expression":{"children":[],"start":855,"end":864,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":855,"end":862,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":855,"name":"testing","object":null},"sel":{"children":[],"start":863,"end":864,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":863,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":864},"Results":null},"body":{"children":[],"start":866,"end":1007,"code":"{\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{ResponseWriter: testWriter}\n\tassert.Same(t, testWriter, writer.Unwrap())\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":866,"list":[{"children":[],"start":869,"end":905,"code":"testWriter := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":869,"end":879,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":869,"name":"testWriter","object":null}],"tokenPos":880,"token":47,"rhs":[{"children":[],"start":883,"end":905,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":883,"end":903,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":883,"end":891,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":883,"name":"httptest","object":null},"sel":{"children":[],"start":892,"end":903,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":892,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":907,"end":960,"code":"writer := \u0026responseWriter{ResponseWriter: testWriter}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":907,"end":913,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":907,"name":"writer","object":null}],"tokenPos":914,"token":47,"rhs":[{"children":[],"start":917,"end":960,"code":"\u0026responseWriter{ResponseWriter: testWriter}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":917,"op":17,"expression":{"children":[],"start":918,"end":960,"code":"responseWriter{ResponseWriter: testWriter}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":918,"end":932,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":918,"name":"responseWriter","object":null},"lbrace":932,"elements":[{"children":[],"start":933,"end":959,"code":"ResponseWriter: testWriter","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":933,"end":947,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":933,"name":"ResponseWriter","object":null},"colon":0,"value":{"children":[],"start":949,"end":959,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":949,"name":"testWriter","object":null}}],"rbrace":959,"incomplete":false}}]},{"children":[],"start":962,"end":1005,"code":"assert.Same(t, testWriter, writer.Unwrap())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":962,"end":1005,"code":"assert.Same(t, testWriter, writer.Unwrap())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":962,"end":973,"code":"assert.Same","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":962,"end":968,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":962,"name":"assert","object":null},"sel":{"children":[],"start":969,"end":973,"code":"Same","nodeType":"Identifier","column":0,"line":0,"namePos":969,"name":"Same","object":null}},"lparen":0,"args":[{"children":[],"start":974,"end":975,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":974,"name":"t","object":null},{"children":[],"start":977,"end":987,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":977,"name":"testWriter","object":null},{"children":[],"start":989,"end":1004,"code":"writer.Unwrap()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":989,"end":1002,"code":"writer.Unwrap","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":989,"end":995,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":989,"name":"writer","object":null},"sel":{"children":[],"start":996,"end":1002,"code":"Unwrap","nodeType":"Identifier","column":0,"line":0,"namePos":996,"name":"Unwrap","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":1006}},{"children":[],"start":1009,"end":1418,"code":"func TestResponseWriterReset(t *testing.T) {\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{}\n\tvar w ResponseWriter = writer\n\twriter.reset(testWriter)\n\tassert.Equal(t, -1, writer.size)\n\tassert.Equal(t, http.StatusOK, writer.status)\n\tassert.Equal(t, testWriter, writer.ResponseWriter)\n\tassert.Equal(t, -1, w.Size())\n\tassert.Equal(t, http.StatusOK, w.Status())\n\tassert.False(t, w.Written())\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":1014,"end":1037,"code":"TestResponseWriterReset","nodeType":"Identifier","column":0,"line":0,"namePos":1014,"name":"TestResponseWriterReset","object":null},"type":{"children":[],"start":1009,"end":1051,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":1009,"TypeParams":null,"Params":{"children":[],"start":1037,"end":1051,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1037,"list":[{"children":[],"start":1038,"end":1050,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1038,"end":1039,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1038,"name":"t","object":null}],"type":{"children":[],"start":1040,"end":1050,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":1040,"expression":{"children":[],"start":1041,"end":1050,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1041,"end":1048,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":1041,"name":"testing","object":null},"sel":{"children":[],"start":1049,"end":1050,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":1049,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":1050},"Results":null},"body":{"children":[],"start":1052,"end":1418,"code":"{\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{}\n\tvar w ResponseWriter = writer\n\twriter.reset(testWriter)\n\tassert.Equal(t, -1, writer.size)\n\tassert.Equal(t, http.StatusOK, writer.status)\n\tassert.Equal(t, testWriter, writer.ResponseWriter)\n\tassert.Equal(t, -1, w.Size())\n\tassert.Equal(t, http.StatusOK, w.Status())\n\tassert.False(t, w.Written())\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1052,"list":[{"children":[],"start":1055,"end":1091,"code":"testWriter := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1055,"end":1065,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1055,"name":"testWriter","object":null}],"tokenPos":1066,"token":47,"rhs":[{"children":[],"start":1069,"end":1091,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1069,"end":1089,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1069,"end":1077,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":1069,"name":"httptest","object":null},"sel":{"children":[],"start":1078,"end":1089,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":1078,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":1093,"end":1120,"code":"writer := \u0026responseWriter{}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1093,"end":1099,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":1093,"name":"writer","object":null}],"tokenPos":1100,"token":47,"rhs":[{"children":[],"start":1103,"end":1120,"code":"\u0026responseWriter{}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":1103,"op":17,"expression":{"children":[],"start":1104,"end":1120,"code":"responseWriter{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":1104,"end":1118,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1104,"name":"responseWriter","object":null},"lbrace":1118,"elements":[],"rbrace":1119,"incomplete":false}}]},{"children":[],"start":1122,"end":1151,"code":"var w ResponseWriter = writer","nodeType":"DeclarationStatement","column":0,"line":0,"declaration":{"children":[],"start":1122,"end":1151,"code":"var w ResponseWriter = writer","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":1122,"token":85,"lparen":0,"specifications":[{"children":[],"start":1126,"end":1151,"code":"w ResponseWriter = writer","nodeType":"ValueSpecification","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1126,"end":1127,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1126,"name":"w","object":null}],"type":{"children":[],"start":1128,"end":1142,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1128,"name":"ResponseWriter","object":null},"values":[{"children":[],"start":1145,"end":1151,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":1145,"name":"writer","object":null}],"comment":null}],"rparen":0}},{"children":[],"start":1154,"end":1178,"code":"writer.reset(testWriter)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1154,"end":1178,"code":"writer.reset(testWriter)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1154,"end":1166,"code":"writer.reset","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1154,"end":1160,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":1154,"name":"writer","object":null},"sel":{"children":[],"start":1161,"end":1166,"code":"reset","nodeType":"Identifier","column":0,"line":0,"namePos":1161,"name":"reset","object":null}},"lparen":0,"args":[{"children":[],"start":1167,"end":1177,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1167,"name":"testWriter","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":1180,"end":1212,"code":"assert.Equal(t, -1, writer.size)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1180,"end":1212,"code":"assert.Equal(t, -1, writer.size)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1180,"end":1192,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1180,"end":1186,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":1180,"name":"assert","object":null},"sel":{"children":[],"start":1187,"end":1192,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":1187,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":1193,"end":1194,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1193,"name":"t","object":null},{"children":[],"start":1196,"end":1198,"code":"-1","nodeType":"UnaryExpression","column":0,"line":0,"opPos":1196,"op":13,"expression":{"children":[],"start":1197,"end":1198,"code":"1","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1197,"kind":5,"value":"1"}},{"children":[],"start":1200,"end":1211,"code":"writer.size","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1200,"end":1206,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":1200,"name":"writer","object":null},"sel":{"children":[],"start":1207,"end":1211,"code":"size","nodeType":"Identifier","column":0,"line":0,"namePos":1207,"name":"size","object":null}}],"ellipsis":0,"rparen":0}},{"children":[],"start":1214,"end":1259,"code":"assert.Equal(t, http.StatusOK, writer.status)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1214,"end":1259,"code":"assert.Equal(t, http.StatusOK, writer.status)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1214,"end":1226,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1214,"end":1220,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":1214,"name":"assert","object":null},"sel":{"children":[],"start":1221,"end":1226,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":1221,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":1227,"end":1228,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1227,"name":"t","object":null},{"children":[],"start":1230,"end":1243,"code":"http.StatusOK","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1230,"end":1234,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":1230,"name":"http","object":null},"sel":{"children":[],"start":1235,"end":1243,"code":"StatusOK","nodeType":"Identifier","column":0,"line":0,"namePos":1235,"name":"StatusOK","object":null}},{"children":[],"start":1245,"end":1258,"code":"writer.status","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1245,"end":1251,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":1245,"name":"writer","object":null},"sel":{"children":[],"start":1252,"end":1258,"code":"status","nodeType":"Identifier","column":0,"line":0,"namePos":1252,"name":"status","object":null}}],"ellipsis":0,"rparen":0}},{"children":[],"start":1261,"end":1311,"code":"assert.Equal(t, testWriter, writer.ResponseWriter)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1261,"end":1311,"code":"assert.Equal(t, testWriter, writer.ResponseWriter)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1261,"end":1273,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1261,"end":1267,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":1261,"name":"assert","object":null},"sel":{"children":[],"start":1268,"end":1273,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":1268,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":1274,"end":1275,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1274,"name":"t","object":null},{"children":[],"start":1277,"end":1287,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1277,"name":"testWriter","object":null},{"children":[],"start":1289,"end":1310,"code":"writer.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1289,"end":1295,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":1289,"name":"writer","object":null},"sel":{"children":[],"start":1296,"end":1310,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1296,"name":"ResponseWriter","object":null}}],"ellipsis":0,"rparen":0}},{"children":[],"start":1313,"end":1342,"code":"assert.Equal(t, -1, w.Size())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1313,"end":1342,"code":"assert.Equal(t, -1, w.Size())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1313,"end":1325,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1313,"end":1319,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":1313,"name":"assert","object":null},"sel":{"children":[],"start":1320,"end":1325,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":1320,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":1326,"end":1327,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1326,"name":"t","object":null},{"children":[],"start":1329,"end":1331,"code":"-1","nodeType":"UnaryExpression","column":0,"line":0,"opPos":1329,"op":13,"expression":{"children":[],"start":1330,"end":1331,"code":"1","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1330,"kind":5,"value":"1"}},{"children":[],"start":1333,"end":1341,"code":"w.Size()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1333,"end":1339,"code":"w.Size","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1333,"end":1334,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1333,"name":"w","object":null},"sel":{"children":[],"start":1335,"end":1339,"code":"Size","nodeType":"Identifier","column":0,"line":0,"namePos":1335,"name":"Size","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":1344,"end":1386,"code":"assert.Equal(t, http.StatusOK, w.Status())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1344,"end":1386,"code":"assert.Equal(t, http.StatusOK, w.Status())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1344,"end":1356,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1344,"end":1350,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":1344,"name":"assert","object":null},"sel":{"children":[],"start":1351,"end":1356,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":1351,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":1357,"end":1358,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1357,"name":"t","object":null},{"children":[],"start":1360,"end":1373,"code":"http.StatusOK","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1360,"end":1364,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":1360,"name":"http","object":null},"sel":{"children":[],"start":1365,"end":1373,"code":"StatusOK","nodeType":"Identifier","column":0,"line":0,"namePos":1365,"name":"StatusOK","object":null}},{"children":[],"start":1375,"end":1385,"code":"w.Status()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1375,"end":1383,"code":"w.Status","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1375,"end":1376,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1375,"name":"w","object":null},"sel":{"children":[],"start":1377,"end":1383,"code":"Status","nodeType":"Identifier","column":0,"line":0,"namePos":1377,"name":"Status","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":1388,"end":1416,"code":"assert.False(t, w.Written())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1388,"end":1416,"code":"assert.False(t, w.Written())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1388,"end":1400,"code":"assert.False","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1388,"end":1394,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":1388,"name":"assert","object":null},"sel":{"children":[],"start":1395,"end":1400,"code":"False","nodeType":"Identifier","column":0,"line":0,"namePos":1395,"name":"False","object":null}},"lparen":0,"args":[{"children":[],"start":1401,"end":1402,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1401,"name":"t","object":null},{"children":[],"start":1404,"end":1415,"code":"w.Written()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1404,"end":1413,"code":"w.Written","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1404,"end":1405,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1404,"name":"w","object":null},"sel":{"children":[],"start":1406,"end":1413,"code":"Written","nodeType":"Identifier","column":0,"line":0,"namePos":1406,"name":"Written","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":1417}},{"children":[],"start":1420,"end":1867,"code":"func TestResponseWriterWriteHeader(t *testing.T) {\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{}\n\twriter.reset(testWriter)\n\tw := ResponseWriter(writer)\n\tw.WriteHeader(http.StatusMultipleChoices)\n\tassert.False(t, w.Written())\n\tassert.Equal(t, http.StatusMultipleChoices, w.Status())\n\tassert.NotEqual(t, http.StatusMultipleChoices, testWriter.Code)\n\tw.WriteHeader(-1)\n\tassert.Equal(t, http.StatusMultipleChoices, w.Status())\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":1425,"end":1454,"code":"TestResponseWriterWriteHeader","nodeType":"Identifier","column":0,"line":0,"namePos":1425,"name":"TestResponseWriterWriteHeader","object":null},"type":{"children":[],"start":1420,"end":1468,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":1420,"TypeParams":null,"Params":{"children":[],"start":1454,"end":1468,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1454,"list":[{"children":[],"start":1455,"end":1467,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1455,"end":1456,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1455,"name":"t","object":null}],"type":{"children":[],"start":1457,"end":1467,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":1457,"expression":{"children":[],"start":1458,"end":1467,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1458,"end":1465,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":1458,"name":"testing","object":null},"sel":{"children":[],"start":1466,"end":1467,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":1466,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":1467},"Results":null},"body":{"children":[],"start":1469,"end":1867,"code":"{\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{}\n\twriter.reset(testWriter)\n\tw := ResponseWriter(writer)\n\tw.WriteHeader(http.StatusMultipleChoices)\n\tassert.False(t, w.Written())\n\tassert.Equal(t, http.StatusMultipleChoices, w.Status())\n\tassert.NotEqual(t, http.StatusMultipleChoices, testWriter.Code)\n\tw.WriteHeader(-1)\n\tassert.Equal(t, http.StatusMultipleChoices, w.Status())\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1469,"list":[{"children":[],"start":1472,"end":1508,"code":"testWriter := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1472,"end":1482,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1472,"name":"testWriter","object":null}],"tokenPos":1483,"token":47,"rhs":[{"children":[],"start":1486,"end":1508,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1486,"end":1506,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1486,"end":1494,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":1486,"name":"httptest","object":null},"sel":{"children":[],"start":1495,"end":1506,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":1495,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":1510,"end":1537,"code":"writer := \u0026responseWriter{}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1510,"end":1516,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":1510,"name":"writer","object":null}],"tokenPos":1517,"token":47,"rhs":[{"children":[],"start":1520,"end":1537,"code":"\u0026responseWriter{}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":1520,"op":17,"expression":{"children":[],"start":1521,"end":1537,"code":"responseWriter{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":1521,"end":1535,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1521,"name":"responseWriter","object":null},"lbrace":1535,"elements":[],"rbrace":1536,"incomplete":false}}]},{"children":[],"start":1539,"end":1563,"code":"writer.reset(testWriter)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1539,"end":1563,"code":"writer.reset(testWriter)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1539,"end":1551,"code":"writer.reset","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1539,"end":1545,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":1539,"name":"writer","object":null},"sel":{"children":[],"start":1546,"end":1551,"code":"reset","nodeType":"Identifier","column":0,"line":0,"namePos":1546,"name":"reset","object":null}},"lparen":0,"args":[{"children":[],"start":1552,"end":1562,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1552,"name":"testWriter","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":1565,"end":1592,"code":"w := ResponseWriter(writer)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1565,"end":1566,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1565,"name":"w","object":null}],"tokenPos":1567,"token":47,"rhs":[{"children":[],"start":1570,"end":1592,"code":"ResponseWriter(writer)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1570,"end":1584,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1570,"name":"ResponseWriter","object":null},"lparen":0,"args":[{"children":[],"start":1585,"end":1591,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":1585,"name":"writer","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":1595,"end":1636,"code":"w.WriteHeader(http.StatusMultipleChoices)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1595,"end":1636,"code":"w.WriteHeader(http.StatusMultipleChoices)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1595,"end":1608,"code":"w.WriteHeader","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1595,"end":1596,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1595,"name":"w","object":null},"sel":{"children":[],"start":1597,"end":1608,"code":"WriteHeader","nodeType":"Identifier","column":0,"line":0,"namePos":1597,"name":"WriteHeader","object":null}},"lparen":0,"args":[{"children":[],"start":1609,"end":1635,"code":"http.StatusMultipleChoices","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1609,"end":1613,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":1609,"name":"http","object":null},"sel":{"children":[],"start":1614,"end":1635,"code":"StatusMultipleChoices","nodeType":"Identifier","column":0,"line":0,"namePos":1614,"name":"StatusMultipleChoices","object":null}}],"ellipsis":0,"rparen":0}},{"children":[],"start":1638,"end":1666,"code":"assert.False(t, w.Written())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1638,"end":1666,"code":"assert.False(t, w.Written())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1638,"end":1650,"code":"assert.False","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1638,"end":1644,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":1638,"name":"assert","object":null},"sel":{"children":[],"start":1645,"end":1650,"code":"False","nodeType":"Identifier","column":0,"line":0,"namePos":1645,"name":"False","object":null}},"lparen":0,"args":[{"children":[],"start":1651,"end":1652,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1651,"name":"t","object":null},{"children":[],"start":1654,"end":1665,"code":"w.Written()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1654,"end":1663,"code":"w.Written","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1654,"end":1655,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1654,"name":"w","object":null},"sel":{"children":[],"start":1656,"end":1663,"code":"Written","nodeType":"Identifier","column":0,"line":0,"namePos":1656,"name":"Written","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":1668,"end":1723,"code":"assert.Equal(t, http.StatusMultipleChoices, w.Status())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1668,"end":1723,"code":"assert.Equal(t, http.StatusMultipleChoices, w.Status())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1668,"end":1680,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1668,"end":1674,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":1668,"name":"assert","object":null},"sel":{"children":[],"start":1675,"end":1680,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":1675,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":1681,"end":1682,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1681,"name":"t","object":null},{"children":[],"start":1684,"end":1710,"code":"http.StatusMultipleChoices","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1684,"end":1688,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":1684,"name":"http","object":null},"sel":{"children":[],"start":1689,"end":1710,"code":"StatusMultipleChoices","nodeType":"Identifier","column":0,"line":0,"namePos":1689,"name":"StatusMultipleChoices","object":null}},{"children":[],"start":1712,"end":1722,"code":"w.Status()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1712,"end":1720,"code":"w.Status","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1712,"end":1713,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1712,"name":"w","object":null},"sel":{"children":[],"start":1714,"end":1720,"code":"Status","nodeType":"Identifier","column":0,"line":0,"namePos":1714,"name":"Status","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":1725,"end":1788,"code":"assert.NotEqual(t, http.StatusMultipleChoices, testWriter.Code)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1725,"end":1788,"code":"assert.NotEqual(t, http.StatusMultipleChoices, testWriter.Code)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1725,"end":1740,"code":"assert.NotEqual","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1725,"end":1731,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":1725,"name":"assert","object":null},"sel":{"children":[],"start":1732,"end":1740,"code":"NotEqual","nodeType":"Identifier","column":0,"line":0,"namePos":1732,"name":"NotEqual","object":null}},"lparen":0,"args":[{"children":[],"start":1741,"end":1742,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1741,"name":"t","object":null},{"children":[],"start":1744,"end":1770,"code":"http.StatusMultipleChoices","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1744,"end":1748,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":1744,"name":"http","object":null},"sel":{"children":[],"start":1749,"end":1770,"code":"StatusMultipleChoices","nodeType":"Identifier","column":0,"line":0,"namePos":1749,"name":"StatusMultipleChoices","object":null}},{"children":[],"start":1772,"end":1787,"code":"testWriter.Code","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1772,"end":1782,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1772,"name":"testWriter","object":null},"sel":{"children":[],"start":1783,"end":1787,"code":"Code","nodeType":"Identifier","column":0,"line":0,"namePos":1783,"name":"Code","object":null}}],"ellipsis":0,"rparen":0}},{"children":[],"start":1791,"end":1808,"code":"w.WriteHeader(-1)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1791,"end":1808,"code":"w.WriteHeader(-1)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1791,"end":1804,"code":"w.WriteHeader","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1791,"end":1792,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1791,"name":"w","object":null},"sel":{"children":[],"start":1793,"end":1804,"code":"WriteHeader","nodeType":"Identifier","column":0,"line":0,"namePos":1793,"name":"WriteHeader","object":null}},"lparen":0,"args":[{"children":[],"start":1805,"end":1807,"code":"-1","nodeType":"UnaryExpression","column":0,"line":0,"opPos":1805,"op":13,"expression":{"children":[],"start":1806,"end":1807,"code":"1","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1806,"kind":5,"value":"1"}}],"ellipsis":0,"rparen":0}},{"children":[],"start":1810,"end":1865,"code":"assert.Equal(t, http.StatusMultipleChoices, w.Status())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1810,"end":1865,"code":"assert.Equal(t, http.StatusMultipleChoices, w.Status())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1810,"end":1822,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1810,"end":1816,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":1810,"name":"assert","object":null},"sel":{"children":[],"start":1817,"end":1822,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":1817,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":1823,"end":1824,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1823,"name":"t","object":null},{"children":[],"start":1826,"end":1852,"code":"http.StatusMultipleChoices","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1826,"end":1830,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":1826,"name":"http","object":null},"sel":{"children":[],"start":1831,"end":1852,"code":"StatusMultipleChoices","nodeType":"Identifier","column":0,"line":0,"namePos":1831,"name":"StatusMultipleChoices","object":null}},{"children":[],"start":1854,"end":1864,"code":"w.Status()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1854,"end":1862,"code":"w.Status","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1854,"end":1855,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1854,"name":"w","object":null},"sel":{"children":[],"start":1856,"end":1862,"code":"Status","nodeType":"Identifier","column":0,"line":0,"namePos":1856,"name":"Status","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":1866}},{"children":[],"start":1869,"end":2303,"code":"func TestResponseWriterWriteHeadersNow(t *testing.T) {\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{}\n\twriter.reset(testWriter)\n\tw := ResponseWriter(writer)\n\tw.WriteHeader(http.StatusMultipleChoices)\n\tw.WriteHeaderNow()\n\tassert.True(t, w.Written())\n\tassert.Equal(t, 0, w.Size())\n\tassert.Equal(t, http.StatusMultipleChoices, testWriter.Code)\n\twriter.size = 10\n\tw.WriteHeaderNow()\n\tassert.Equal(t, 10, w.Size())\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":1874,"end":1907,"code":"TestResponseWriterWriteHeadersNow","nodeType":"Identifier","column":0,"line":0,"namePos":1874,"name":"TestResponseWriterWriteHeadersNow","object":null},"type":{"children":[],"start":1869,"end":1921,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":1869,"TypeParams":null,"Params":{"children":[],"start":1907,"end":1921,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1907,"list":[{"children":[],"start":1908,"end":1920,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1908,"end":1909,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1908,"name":"t","object":null}],"type":{"children":[],"start":1910,"end":1920,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":1910,"expression":{"children":[],"start":1911,"end":1920,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1911,"end":1918,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":1911,"name":"testing","object":null},"sel":{"children":[],"start":1919,"end":1920,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":1919,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":1920},"Results":null},"body":{"children":[],"start":1922,"end":2303,"code":"{\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{}\n\twriter.reset(testWriter)\n\tw := ResponseWriter(writer)\n\tw.WriteHeader(http.StatusMultipleChoices)\n\tw.WriteHeaderNow()\n\tassert.True(t, w.Written())\n\tassert.Equal(t, 0, w.Size())\n\tassert.Equal(t, http.StatusMultipleChoices, testWriter.Code)\n\twriter.size = 10\n\tw.WriteHeaderNow()\n\tassert.Equal(t, 10, w.Size())\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1922,"list":[{"children":[],"start":1925,"end":1961,"code":"testWriter := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1925,"end":1935,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1925,"name":"testWriter","object":null}],"tokenPos":1936,"token":47,"rhs":[{"children":[],"start":1939,"end":1961,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1939,"end":1959,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1939,"end":1947,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":1939,"name":"httptest","object":null},"sel":{"children":[],"start":1948,"end":1959,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":1948,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":1963,"end":1990,"code":"writer := \u0026responseWriter{}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1963,"end":1969,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":1963,"name":"writer","object":null}],"tokenPos":1970,"token":47,"rhs":[{"children":[],"start":1973,"end":1990,"code":"\u0026responseWriter{}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":1973,"op":17,"expression":{"children":[],"start":1974,"end":1990,"code":"responseWriter{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":1974,"end":1988,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1974,"name":"responseWriter","object":null},"lbrace":1988,"elements":[],"rbrace":1989,"incomplete":false}}]},{"children":[],"start":1992,"end":2016,"code":"writer.reset(testWriter)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1992,"end":2016,"code":"writer.reset(testWriter)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1992,"end":2004,"code":"writer.reset","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1992,"end":1998,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":1992,"name":"writer","object":null},"sel":{"children":[],"start":1999,"end":2004,"code":"reset","nodeType":"Identifier","column":0,"line":0,"namePos":1999,"name":"reset","object":null}},"lparen":0,"args":[{"children":[],"start":2005,"end":2015,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2005,"name":"testWriter","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":2018,"end":2045,"code":"w := ResponseWriter(writer)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2018,"end":2019,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2018,"name":"w","object":null}],"tokenPos":2020,"token":47,"rhs":[{"children":[],"start":2023,"end":2045,"code":"ResponseWriter(writer)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2023,"end":2037,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2023,"name":"ResponseWriter","object":null},"lparen":0,"args":[{"children":[],"start":2038,"end":2044,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":2038,"name":"writer","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":2048,"end":2089,"code":"w.WriteHeader(http.StatusMultipleChoices)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2048,"end":2089,"code":"w.WriteHeader(http.StatusMultipleChoices)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2048,"end":2061,"code":"w.WriteHeader","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2048,"end":2049,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2048,"name":"w","object":null},"sel":{"children":[],"start":2050,"end":2061,"code":"WriteHeader","nodeType":"Identifier","column":0,"line":0,"namePos":2050,"name":"WriteHeader","object":null}},"lparen":0,"args":[{"children":[],"start":2062,"end":2088,"code":"http.StatusMultipleChoices","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2062,"end":2066,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":2062,"name":"http","object":null},"sel":{"children":[],"start":2067,"end":2088,"code":"StatusMultipleChoices","nodeType":"Identifier","column":0,"line":0,"namePos":2067,"name":"StatusMultipleChoices","object":null}}],"ellipsis":0,"rparen":0}},{"children":[],"start":2091,"end":2109,"code":"w.WriteHeaderNow()","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2091,"end":2109,"code":"w.WriteHeaderNow()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2091,"end":2107,"code":"w.WriteHeaderNow","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2091,"end":2092,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2091,"name":"w","object":null},"sel":{"children":[],"start":2093,"end":2107,"code":"WriteHeaderNow","nodeType":"Identifier","column":0,"line":0,"namePos":2093,"name":"WriteHeaderNow","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}},{"children":[],"start":2112,"end":2139,"code":"assert.True(t, w.Written())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2112,"end":2139,"code":"assert.True(t, w.Written())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2112,"end":2123,"code":"assert.True","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2112,"end":2118,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2112,"name":"assert","object":null},"sel":{"children":[],"start":2119,"end":2123,"code":"True","nodeType":"Identifier","column":0,"line":0,"namePos":2119,"name":"True","object":null}},"lparen":0,"args":[{"children":[],"start":2124,"end":2125,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2124,"name":"t","object":null},{"children":[],"start":2127,"end":2138,"code":"w.Written()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2127,"end":2136,"code":"w.Written","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2127,"end":2128,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2127,"name":"w","object":null},"sel":{"children":[],"start":2129,"end":2136,"code":"Written","nodeType":"Identifier","column":0,"line":0,"namePos":2129,"name":"Written","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":2141,"end":2169,"code":"assert.Equal(t, 0, w.Size())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2141,"end":2169,"code":"assert.Equal(t, 0, w.Size())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2141,"end":2153,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2141,"end":2147,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2141,"name":"assert","object":null},"sel":{"children":[],"start":2148,"end":2153,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":2148,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":2154,"end":2155,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2154,"name":"t","object":null},{"children":[],"start":2157,"end":2158,"code":"0","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2157,"kind":5,"value":"0"},{"children":[],"start":2160,"end":2168,"code":"w.Size()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2160,"end":2166,"code":"w.Size","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2160,"end":2161,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2160,"name":"w","object":null},"sel":{"children":[],"start":2162,"end":2166,"code":"Size","nodeType":"Identifier","column":0,"line":0,"namePos":2162,"name":"Size","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":2171,"end":2231,"code":"assert.Equal(t, http.StatusMultipleChoices, testWriter.Code)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2171,"end":2231,"code":"assert.Equal(t, http.StatusMultipleChoices, testWriter.Code)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2171,"end":2183,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2171,"end":2177,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2171,"name":"assert","object":null},"sel":{"children":[],"start":2178,"end":2183,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":2178,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":2184,"end":2185,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2184,"name":"t","object":null},{"children":[],"start":2187,"end":2213,"code":"http.StatusMultipleChoices","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2187,"end":2191,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":2187,"name":"http","object":null},"sel":{"children":[],"start":2192,"end":2213,"code":"StatusMultipleChoices","nodeType":"Identifier","column":0,"line":0,"namePos":2192,"name":"StatusMultipleChoices","object":null}},{"children":[],"start":2215,"end":2230,"code":"testWriter.Code","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2215,"end":2225,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2215,"name":"testWriter","object":null},"sel":{"children":[],"start":2226,"end":2230,"code":"Code","nodeType":"Identifier","column":0,"line":0,"namePos":2226,"name":"Code","object":null}}],"ellipsis":0,"rparen":0}},{"children":[],"start":2234,"end":2250,"code":"writer.size = 10","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2234,"end":2245,"code":"writer.size","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2234,"end":2240,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":2234,"name":"writer","object":null},"sel":{"children":[],"start":2241,"end":2245,"code":"size","nodeType":"Identifier","column":0,"line":0,"namePos":2241,"name":"size","object":null}}],"tokenPos":2246,"token":42,"rhs":[{"children":[],"start":2248,"end":2250,"code":"10","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2248,"kind":5,"value":"10"}]},{"children":[],"start":2252,"end":2270,"code":"w.WriteHeaderNow()","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2252,"end":2270,"code":"w.WriteHeaderNow()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2252,"end":2268,"code":"w.WriteHeaderNow","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2252,"end":2253,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2252,"name":"w","object":null},"sel":{"children":[],"start":2254,"end":2268,"code":"WriteHeaderNow","nodeType":"Identifier","column":0,"line":0,"namePos":2254,"name":"WriteHeaderNow","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}},{"children":[],"start":2272,"end":2301,"code":"assert.Equal(t, 10, w.Size())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2272,"end":2301,"code":"assert.Equal(t, 10, w.Size())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2272,"end":2284,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2272,"end":2278,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2272,"name":"assert","object":null},"sel":{"children":[],"start":2279,"end":2284,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":2279,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":2285,"end":2286,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2285,"name":"t","object":null},{"children":[],"start":2288,"end":2290,"code":"10","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2288,"kind":5,"value":"10"},{"children":[],"start":2292,"end":2300,"code":"w.Size()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2292,"end":2298,"code":"w.Size","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2292,"end":2293,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2292,"name":"w","object":null},"sel":{"children":[],"start":2294,"end":2298,"code":"Size","nodeType":"Identifier","column":0,"line":0,"namePos":2294,"name":"Size","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":2302}},{"children":[],"start":2305,"end":2902,"code":"func TestResponseWriterWrite(t *testing.T) {\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{}\n\twriter.reset(testWriter)\n\tw := ResponseWriter(writer)\n\tn, err := w.Write([]byte(\"hola\"))\n\tassert.Equal(t, 4, n)\n\tassert.Equal(t, 4, w.Size())\n\tassert.Equal(t, http.StatusOK, w.Status())\n\tassert.Equal(t, http.StatusOK, testWriter.Code)\n\tassert.Equal(t, \"hola\", testWriter.Body.String())\n\tassert.NoError(t, err)\n\tn, err = w.Write([]byte(\" adios\"))\n\tassert.Equal(t, 6, n)\n\tassert.Equal(t, 10, w.Size())\n\tassert.Equal(t, \"hola adios\", testWriter.Body.String())\n\tassert.NoError(t, err)\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":2310,"end":2333,"code":"TestResponseWriterWrite","nodeType":"Identifier","column":0,"line":0,"namePos":2310,"name":"TestResponseWriterWrite","object":null},"type":{"children":[],"start":2305,"end":2347,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":2305,"TypeParams":null,"Params":{"children":[],"start":2333,"end":2347,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2333,"list":[{"children":[],"start":2334,"end":2346,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":2334,"end":2335,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2334,"name":"t","object":null}],"type":{"children":[],"start":2336,"end":2346,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":2336,"expression":{"children":[],"start":2337,"end":2346,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2337,"end":2344,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":2337,"name":"testing","object":null},"sel":{"children":[],"start":2345,"end":2346,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":2345,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":2346},"Results":null},"body":{"children":[],"start":2348,"end":2902,"code":"{\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{}\n\twriter.reset(testWriter)\n\tw := ResponseWriter(writer)\n\tn, err := w.Write([]byte(\"hola\"))\n\tassert.Equal(t, 4, n)\n\tassert.Equal(t, 4, w.Size())\n\tassert.Equal(t, http.StatusOK, w.Status())\n\tassert.Equal(t, http.StatusOK, testWriter.Code)\n\tassert.Equal(t, \"hola\", testWriter.Body.String())\n\tassert.NoError(t, err)\n\tn, err = w.Write([]byte(\" adios\"))\n\tassert.Equal(t, 6, n)\n\tassert.Equal(t, 10, w.Size())\n\tassert.Equal(t, \"hola adios\", testWriter.Body.String())\n\tassert.NoError(t, err)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":2348,"list":[{"children":[],"start":2351,"end":2387,"code":"testWriter := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2351,"end":2361,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2351,"name":"testWriter","object":null}],"tokenPos":2362,"token":47,"rhs":[{"children":[],"start":2365,"end":2387,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2365,"end":2385,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2365,"end":2373,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":2365,"name":"httptest","object":null},"sel":{"children":[],"start":2374,"end":2385,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":2374,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":2389,"end":2416,"code":"writer := \u0026responseWriter{}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2389,"end":2395,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":2389,"name":"writer","object":null}],"tokenPos":2396,"token":47,"rhs":[{"children":[],"start":2399,"end":2416,"code":"\u0026responseWriter{}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":2399,"op":17,"expression":{"children":[],"start":2400,"end":2416,"code":"responseWriter{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":2400,"end":2414,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2400,"name":"responseWriter","object":null},"lbrace":2414,"elements":[],"rbrace":2415,"incomplete":false}}]},{"children":[],"start":2418,"end":2442,"code":"writer.reset(testWriter)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2418,"end":2442,"code":"writer.reset(testWriter)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2418,"end":2430,"code":"writer.reset","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2418,"end":2424,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":2418,"name":"writer","object":null},"sel":{"children":[],"start":2425,"end":2430,"code":"reset","nodeType":"Identifier","column":0,"line":0,"namePos":2425,"name":"reset","object":null}},"lparen":0,"args":[{"children":[],"start":2431,"end":2441,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2431,"name":"testWriter","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":2444,"end":2471,"code":"w := ResponseWriter(writer)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2444,"end":2445,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2444,"name":"w","object":null}],"tokenPos":2446,"token":47,"rhs":[{"children":[],"start":2449,"end":2471,"code":"ResponseWriter(writer)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2449,"end":2463,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2449,"name":"ResponseWriter","object":null},"lparen":0,"args":[{"children":[],"start":2464,"end":2470,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":2464,"name":"writer","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":2474,"end":2507,"code":"n, err := w.Write([]byte(\"hola\"))","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2474,"end":2475,"code":"n","nodeType":"Identifier","column":0,"line":0,"namePos":2474,"name":"n","object":null},{"children":[],"start":2477,"end":2480,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":2477,"name":"err","object":null}],"tokenPos":2481,"token":47,"rhs":[{"children":[],"start":2484,"end":2507,"code":"w.Write([]byte(\"hola\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2484,"end":2491,"code":"w.Write","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2484,"end":2485,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2484,"name":"w","object":null},"sel":{"children":[],"start":2486,"end":2491,"code":"Write","nodeType":"Identifier","column":0,"line":0,"namePos":2486,"name":"Write","object":null}},"lparen":0,"args":[{"children":[],"start":2492,"end":2506,"code":"[]byte(\"hola\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2492,"end":2498,"code":"[]byte","nodeType":"ArrayType","column":0,"line":0,"leftBracket":2492,"length":null,"element":{"children":[],"start":2494,"end":2498,"code":"byte","nodeType":"Identifier","column":0,"line":0,"namePos":2494,"name":"byte","object":null}},"lparen":0,"args":[{"children":[],"start":2499,"end":2505,"code":"\"hola\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2499,"kind":9,"value":"\"hola\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}]},{"children":[],"start":2509,"end":2530,"code":"assert.Equal(t, 4, n)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2509,"end":2530,"code":"assert.Equal(t, 4, n)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2509,"end":2521,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2509,"end":2515,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2509,"name":"assert","object":null},"sel":{"children":[],"start":2516,"end":2521,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":2516,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":2522,"end":2523,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2522,"name":"t","object":null},{"children":[],"start":2525,"end":2526,"code":"4","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2525,"kind":5,"value":"4"},{"children":[],"start":2528,"end":2529,"code":"n","nodeType":"Identifier","column":0,"line":0,"namePos":2528,"name":"n","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":2532,"end":2560,"code":"assert.Equal(t, 4, w.Size())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2532,"end":2560,"code":"assert.Equal(t, 4, w.Size())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2532,"end":2544,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2532,"end":2538,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2532,"name":"assert","object":null},"sel":{"children":[],"start":2539,"end":2544,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":2539,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":2545,"end":2546,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2545,"name":"t","object":null},{"children":[],"start":2548,"end":2549,"code":"4","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2548,"kind":5,"value":"4"},{"children":[],"start":2551,"end":2559,"code":"w.Size()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2551,"end":2557,"code":"w.Size","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2551,"end":2552,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2551,"name":"w","object":null},"sel":{"children":[],"start":2553,"end":2557,"code":"Size","nodeType":"Identifier","column":0,"line":0,"namePos":2553,"name":"Size","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":2562,"end":2604,"code":"assert.Equal(t, http.StatusOK, w.Status())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2562,"end":2604,"code":"assert.Equal(t, http.StatusOK, w.Status())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2562,"end":2574,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2562,"end":2568,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2562,"name":"assert","object":null},"sel":{"children":[],"start":2569,"end":2574,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":2569,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":2575,"end":2576,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2575,"name":"t","object":null},{"children":[],"start":2578,"end":2591,"code":"http.StatusOK","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2578,"end":2582,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":2578,"name":"http","object":null},"sel":{"children":[],"start":2583,"end":2591,"code":"StatusOK","nodeType":"Identifier","column":0,"line":0,"namePos":2583,"name":"StatusOK","object":null}},{"children":[],"start":2593,"end":2603,"code":"w.Status()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2593,"end":2601,"code":"w.Status","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2593,"end":2594,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2593,"name":"w","object":null},"sel":{"children":[],"start":2595,"end":2601,"code":"Status","nodeType":"Identifier","column":0,"line":0,"namePos":2595,"name":"Status","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":2606,"end":2653,"code":"assert.Equal(t, http.StatusOK, testWriter.Code)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2606,"end":2653,"code":"assert.Equal(t, http.StatusOK, testWriter.Code)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2606,"end":2618,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2606,"end":2612,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2606,"name":"assert","object":null},"sel":{"children":[],"start":2613,"end":2618,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":2613,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":2619,"end":2620,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2619,"name":"t","object":null},{"children":[],"start":2622,"end":2635,"code":"http.StatusOK","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2622,"end":2626,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":2622,"name":"http","object":null},"sel":{"children":[],"start":2627,"end":2635,"code":"StatusOK","nodeType":"Identifier","column":0,"line":0,"namePos":2627,"name":"StatusOK","object":null}},{"children":[],"start":2637,"end":2652,"code":"testWriter.Code","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2637,"end":2647,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2637,"name":"testWriter","object":null},"sel":{"children":[],"start":2648,"end":2652,"code":"Code","nodeType":"Identifier","column":0,"line":0,"namePos":2648,"name":"Code","object":null}}],"ellipsis":0,"rparen":0}},{"children":[],"start":2655,"end":2704,"code":"assert.Equal(t, \"hola\", testWriter.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2655,"end":2704,"code":"assert.Equal(t, \"hola\", testWriter.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2655,"end":2667,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2655,"end":2661,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2655,"name":"assert","object":null},"sel":{"children":[],"start":2662,"end":2667,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":2662,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":2668,"end":2669,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2668,"name":"t","object":null},{"children":[],"start":2671,"end":2677,"code":"\"hola\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2671,"kind":9,"value":"\"hola\""},{"children":[],"start":2679,"end":2703,"code":"testWriter.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2679,"end":2701,"code":"testWriter.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2679,"end":2694,"code":"testWriter.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2679,"end":2689,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2679,"name":"testWriter","object":null},"sel":{"children":[],"start":2690,"end":2694,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":2690,"name":"Body","object":null}},"sel":{"children":[],"start":2695,"end":2701,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":2695,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":2706,"end":2728,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2706,"end":2728,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2706,"end":2720,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2706,"end":2712,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2706,"name":"assert","object":null},"sel":{"children":[],"start":2713,"end":2720,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":2713,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":2721,"end":2722,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2721,"name":"t","object":null},{"children":[],"start":2724,"end":2727,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":2724,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":2731,"end":2765,"code":"n, err = w.Write([]byte(\" adios\"))","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2731,"end":2732,"code":"n","nodeType":"Identifier","column":0,"line":0,"namePos":2731,"name":"n","object":null},{"children":[],"start":2734,"end":2737,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":2734,"name":"err","object":null}],"tokenPos":2738,"token":42,"rhs":[{"children":[],"start":2740,"end":2765,"code":"w.Write([]byte(\" adios\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2740,"end":2747,"code":"w.Write","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2740,"end":2741,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2740,"name":"w","object":null},"sel":{"children":[],"start":2742,"end":2747,"code":"Write","nodeType":"Identifier","column":0,"line":0,"namePos":2742,"name":"Write","object":null}},"lparen":0,"args":[{"children":[],"start":2748,"end":2764,"code":"[]byte(\" adios\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2748,"end":2754,"code":"[]byte","nodeType":"ArrayType","column":0,"line":0,"leftBracket":2748,"length":null,"element":{"children":[],"start":2750,"end":2754,"code":"byte","nodeType":"Identifier","column":0,"line":0,"namePos":2750,"name":"byte","object":null}},"lparen":0,"args":[{"children":[],"start":2755,"end":2763,"code":"\" adios\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2755,"kind":9,"value":"\" adios\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}]},{"children":[],"start":2767,"end":2788,"code":"assert.Equal(t, 6, n)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2767,"end":2788,"code":"assert.Equal(t, 6, n)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2767,"end":2779,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2767,"end":2773,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2767,"name":"assert","object":null},"sel":{"children":[],"start":2774,"end":2779,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":2774,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":2780,"end":2781,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2780,"name":"t","object":null},{"children":[],"start":2783,"end":2784,"code":"6","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2783,"kind":5,"value":"6"},{"children":[],"start":2786,"end":2787,"code":"n","nodeType":"Identifier","column":0,"line":0,"namePos":2786,"name":"n","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":2790,"end":2819,"code":"assert.Equal(t, 10, w.Size())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2790,"end":2819,"code":"assert.Equal(t, 10, w.Size())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2790,"end":2802,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2790,"end":2796,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2790,"name":"assert","object":null},"sel":{"children":[],"start":2797,"end":2802,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":2797,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":2803,"end":2804,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2803,"name":"t","object":null},{"children":[],"start":2806,"end":2808,"code":"10","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2806,"kind":5,"value":"10"},{"children":[],"start":2810,"end":2818,"code":"w.Size()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2810,"end":2816,"code":"w.Size","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2810,"end":2811,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2810,"name":"w","object":null},"sel":{"children":[],"start":2812,"end":2816,"code":"Size","nodeType":"Identifier","column":0,"line":0,"namePos":2812,"name":"Size","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":2821,"end":2876,"code":"assert.Equal(t, \"hola adios\", testWriter.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2821,"end":2876,"code":"assert.Equal(t, \"hola adios\", testWriter.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2821,"end":2833,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2821,"end":2827,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2821,"name":"assert","object":null},"sel":{"children":[],"start":2828,"end":2833,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":2828,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":2834,"end":2835,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2834,"name":"t","object":null},{"children":[],"start":2837,"end":2849,"code":"\"hola adios\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2837,"kind":9,"value":"\"hola adios\""},{"children":[],"start":2851,"end":2875,"code":"testWriter.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2851,"end":2873,"code":"testWriter.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2851,"end":2866,"code":"testWriter.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2851,"end":2861,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2851,"name":"testWriter","object":null},"sel":{"children":[],"start":2862,"end":2866,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":2862,"name":"Body","object":null}},"sel":{"children":[],"start":2867,"end":2873,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":2867,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":2878,"end":2900,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2878,"end":2900,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2878,"end":2892,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2878,"end":2884,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2878,"name":"assert","object":null},"sel":{"children":[],"start":2885,"end":2892,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":2885,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":2893,"end":2894,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2893,"name":"t","object":null},{"children":[],"start":2896,"end":2899,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":2896,"name":"err","object":null}],"ellipsis":0,"rparen":0}}],"rbrace":2901}},{"children":[],"start":2904,"end":3247,"code":"func TestResponseWriterHijack(t *testing.T) {\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{}\n\twriter.reset(testWriter)\n\tw := ResponseWriter(writer)\n\tassert.Panics(t, func() {\n\t\t_, _, err := w.Hijack()\n\t\tassert.NoError(t, err)\n\t})\n\tassert.True(t, w.Written())\n\tassert.Panics(t, func() {\n\t\tw.CloseNotify()\n\t})\n\tw.Flush()\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":2909,"end":2933,"code":"TestResponseWriterHijack","nodeType":"Identifier","column":0,"line":0,"namePos":2909,"name":"TestResponseWriterHijack","object":null},"type":{"children":[],"start":2904,"end":2947,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":2904,"TypeParams":null,"Params":{"children":[],"start":2933,"end":2947,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2933,"list":[{"children":[],"start":2934,"end":2946,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":2934,"end":2935,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2934,"name":"t","object":null}],"type":{"children":[],"start":2936,"end":2946,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":2936,"expression":{"children":[],"start":2937,"end":2946,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2937,"end":2944,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":2937,"name":"testing","object":null},"sel":{"children":[],"start":2945,"end":2946,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":2945,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":2946},"Results":null},"body":{"children":[],"start":2948,"end":3247,"code":"{\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{}\n\twriter.reset(testWriter)\n\tw := ResponseWriter(writer)\n\tassert.Panics(t, func() {\n\t\t_, _, err := w.Hijack()\n\t\tassert.NoError(t, err)\n\t})\n\tassert.True(t, w.Written())\n\tassert.Panics(t, func() {\n\t\tw.CloseNotify()\n\t})\n\tw.Flush()\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":2948,"list":[{"children":[],"start":2951,"end":2987,"code":"testWriter := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2951,"end":2961,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2951,"name":"testWriter","object":null}],"tokenPos":2962,"token":47,"rhs":[{"children":[],"start":2965,"end":2987,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2965,"end":2985,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2965,"end":2973,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":2965,"name":"httptest","object":null},"sel":{"children":[],"start":2974,"end":2985,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":2974,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":2989,"end":3016,"code":"writer := \u0026responseWriter{}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2989,"end":2995,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":2989,"name":"writer","object":null}],"tokenPos":2996,"token":47,"rhs":[{"children":[],"start":2999,"end":3016,"code":"\u0026responseWriter{}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":2999,"op":17,"expression":{"children":[],"start":3000,"end":3016,"code":"responseWriter{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":3000,"end":3014,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":3000,"name":"responseWriter","object":null},"lbrace":3014,"elements":[],"rbrace":3015,"incomplete":false}}]},{"children":[],"start":3018,"end":3042,"code":"writer.reset(testWriter)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3018,"end":3042,"code":"writer.reset(testWriter)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3018,"end":3030,"code":"writer.reset","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3018,"end":3024,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":3018,"name":"writer","object":null},"sel":{"children":[],"start":3025,"end":3030,"code":"reset","nodeType":"Identifier","column":0,"line":0,"namePos":3025,"name":"reset","object":null}},"lparen":0,"args":[{"children":[],"start":3031,"end":3041,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":3031,"name":"testWriter","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":3044,"end":3071,"code":"w := ResponseWriter(writer)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":3044,"end":3045,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":3044,"name":"w","object":null}],"tokenPos":3046,"token":47,"rhs":[{"children":[],"start":3049,"end":3071,"code":"ResponseWriter(writer)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3049,"end":3063,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":3049,"name":"ResponseWriter","object":null},"lparen":0,"args":[{"children":[],"start":3064,"end":3070,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":3064,"name":"writer","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":3074,"end":3154,"code":"assert.Panics(t, func() {\n\t_, _, err := w.Hijack()\n\tassert.NoError(t, err)\n})","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3074,"end":3154,"code":"assert.Panics(t, func() {\n\t_, _, err := w.Hijack()\n\tassert.NoError(t, err)\n})","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3074,"end":3087,"code":"assert.Panics","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3074,"end":3080,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":3074,"name":"assert","object":null},"sel":{"children":[],"start":3081,"end":3087,"code":"Panics","nodeType":"Identifier","column":0,"line":0,"namePos":3081,"name":"Panics","object":null}},"lparen":0,"args":[{"children":[],"start":3088,"end":3089,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":3088,"name":"t","object":null},{"children":[],"start":3091,"end":3153,"code":"func() {\n\t_, _, err := w.Hijack()\n\tassert.NoError(t, err)\n}","nodeType":"FunctionLiteral","column":0,"line":0,"type":{"children":[],"start":3091,"end":3097,"code":"func()","nodeType":"FunctionType","column":0,"line":0,"Function":3091,"TypeParams":null,"Params":{"children":[],"start":3095,"end":3097,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":3095,"list":[],"closing":3096},"Results":null},"body":{"children":[],"start":3098,"end":3153,"code":"{\n\t_, _, err := w.Hijack()\n\tassert.NoError(t, err)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":3098,"list":[{"children":[],"start":3102,"end":3125,"code":"_, _, err := w.Hijack()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":3102,"end":3103,"code":"_","nodeType":"Identifier","column":0,"line":0,"namePos":3102,"name":"_","object":null},{"children":[],"start":3105,"end":3106,"code":"_","nodeType":"Identifier","column":0,"line":0,"namePos":3105,"name":"_","object":null},{"children":[],"start":3108,"end":3111,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":3108,"name":"err","object":null}],"tokenPos":3112,"token":47,"rhs":[{"children":[],"start":3115,"end":3125,"code":"w.Hijack()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3115,"end":3123,"code":"w.Hijack","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3115,"end":3116,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":3115,"name":"w","object":null},"sel":{"children":[],"start":3117,"end":3123,"code":"Hijack","nodeType":"Identifier","column":0,"line":0,"namePos":3117,"name":"Hijack","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":3128,"end":3150,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3128,"end":3150,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3128,"end":3142,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3128,"end":3134,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":3128,"name":"assert","object":null},"sel":{"children":[],"start":3135,"end":3142,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":3135,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":3143,"end":3144,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":3143,"name":"t","object":null},{"children":[],"start":3146,"end":3149,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":3146,"name":"err","object":null}],"ellipsis":0,"rparen":0}}],"rbrace":3152}}],"ellipsis":0,"rparen":0}},{"children":[],"start":3156,"end":3183,"code":"assert.True(t, w.Written())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3156,"end":3183,"code":"assert.True(t, w.Written())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3156,"end":3167,"code":"assert.True","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3156,"end":3162,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":3156,"name":"assert","object":null},"sel":{"children":[],"start":3163,"end":3167,"code":"True","nodeType":"Identifier","column":0,"line":0,"namePos":3163,"name":"True","object":null}},"lparen":0,"args":[{"children":[],"start":3168,"end":3169,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":3168,"name":"t","object":null},{"children":[],"start":3171,"end":3182,"code":"w.Written()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3171,"end":3180,"code":"w.Written","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3171,"end":3172,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":3171,"name":"w","object":null},"sel":{"children":[],"start":3173,"end":3180,"code":"Written","nodeType":"Identifier","column":0,"line":0,"namePos":3173,"name":"Written","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":3186,"end":3233,"code":"assert.Panics(t, func() {\n\tw.CloseNotify()\n})","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3186,"end":3233,"code":"assert.Panics(t, func() {\n\tw.CloseNotify()\n})","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3186,"end":3199,"code":"assert.Panics","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3186,"end":3192,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":3186,"name":"assert","object":null},"sel":{"children":[],"start":3193,"end":3199,"code":"Panics","nodeType":"Identifier","column":0,"line":0,"namePos":3193,"name":"Panics","object":null}},"lparen":0,"args":[{"children":[],"start":3200,"end":3201,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":3200,"name":"t","object":null},{"children":[],"start":3203,"end":3232,"code":"func() {\n\tw.CloseNotify()\n}","nodeType":"FunctionLiteral","column":0,"line":0,"type":{"children":[],"start":3203,"end":3209,"code":"func()","nodeType":"FunctionType","column":0,"line":0,"Function":3203,"TypeParams":null,"Params":{"children":[],"start":3207,"end":3209,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":3207,"list":[],"closing":3208},"Results":null},"body":{"children":[],"start":3210,"end":3232,"code":"{\n\tw.CloseNotify()\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":3210,"list":[{"children":[],"start":3214,"end":3229,"code":"w.CloseNotify()","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3214,"end":3229,"code":"w.CloseNotify()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3214,"end":3227,"code":"w.CloseNotify","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3214,"end":3215,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":3214,"name":"w","object":null},"sel":{"children":[],"start":3216,"end":3227,"code":"CloseNotify","nodeType":"Identifier","column":0,"line":0,"namePos":3216,"name":"CloseNotify","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}}],"rbrace":3231}}],"ellipsis":0,"rparen":0}},{"children":[],"start":3236,"end":3245,"code":"w.Flush()","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3236,"end":3245,"code":"w.Flush()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3236,"end":3243,"code":"w.Flush","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3236,"end":3237,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":3236,"name":"w","object":null},"sel":{"children":[],"start":3238,"end":3243,"code":"Flush","nodeType":"Identifier","column":0,"line":0,"namePos":3238,"name":"Flush","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}}],"rbrace":3246}},{"children":[],"start":3249,"end":3695,"code":"func TestResponseWriterFlush(t *testing.T) {\n\ttestServer := httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n\t\twriter := \u0026responseWriter{}\n\t\twriter.reset(w)\n\t\twriter.WriteHeader(http.StatusInternalServerError)\n\t\twriter.Flush()\n\t}))\n\tdefer testServer.Close()\n\tresp, err := http.Get(testServer.URL)\n\tassert.NoError(t, err)\n\tassert.Equal(t, http.StatusInternalServerError, resp.StatusCode)\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":3254,"end":3277,"code":"TestResponseWriterFlush","nodeType":"Identifier","column":0,"line":0,"namePos":3254,"name":"TestResponseWriterFlush","object":null},"type":{"children":[],"start":3249,"end":3291,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":3249,"TypeParams":null,"Params":{"children":[],"start":3277,"end":3291,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":3277,"list":[{"children":[],"start":3278,"end":3290,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":3278,"end":3279,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":3278,"name":"t","object":null}],"type":{"children":[],"start":3280,"end":3290,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":3280,"expression":{"children":[],"start":3281,"end":3290,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3281,"end":3288,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":3281,"name":"testing","object":null},"sel":{"children":[],"start":3289,"end":3290,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":3289,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":3290},"Results":null},"body":{"children":[],"start":3292,"end":3695,"code":"{\n\ttestServer := httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n\t\twriter := \u0026responseWriter{}\n\t\twriter.reset(w)\n\t\twriter.WriteHeader(http.StatusInternalServerError)\n\t\twriter.Flush()\n\t}))\n\tdefer testServer.Close()\n\tresp, err := http.Get(testServer.URL)\n\tassert.NoError(t, err)\n\tassert.Equal(t, http.StatusInternalServerError, resp.StatusCode)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":3292,"list":[{"children":[],"start":3295,"end":3515,"code":"testServer := httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n\twriter := \u0026responseWriter{}\n\twriter.reset(w)\n\twriter.WriteHeader(http.StatusInternalServerError)\n\twriter.Flush()\n}))","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":3295,"end":3305,"code":"testServer","nodeType":"Identifier","column":0,"line":0,"namePos":3295,"name":"testServer","object":null}],"tokenPos":3306,"token":47,"rhs":[{"children":[],"start":3309,"end":3515,"code":"httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n\twriter := \u0026responseWriter{}\n\twriter.reset(w)\n\twriter.WriteHeader(http.StatusInternalServerError)\n\twriter.Flush()\n}))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3309,"end":3327,"code":"httptest.NewServer","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3309,"end":3317,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":3309,"name":"httptest","object":null},"sel":{"children":[],"start":3318,"end":3327,"code":"NewServer","nodeType":"Identifier","column":0,"line":0,"namePos":3318,"name":"NewServer","object":null}},"lparen":0,"args":[{"children":[],"start":3328,"end":3514,"code":"http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {\n\twriter := \u0026responseWriter{}\n\twriter.reset(w)\n\twriter.WriteHeader(http.StatusInternalServerError)\n\twriter.Flush()\n})","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3328,"end":3344,"code":"http.HandlerFunc","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3328,"end":3332,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":3328,"name":"http","object":null},"sel":{"children":[],"start":3333,"end":3344,"code":"HandlerFunc","nodeType":"Identifier","column":0,"line":0,"namePos":3333,"name":"HandlerFunc","object":null}},"lparen":0,"args":[{"children":[],"start":3345,"end":3513,"code":"func(w http.ResponseWriter, r *http.Request) {\n\twriter := \u0026responseWriter{}\n\twriter.reset(w)\n\twriter.WriteHeader(http.StatusInternalServerError)\n\twriter.Flush()\n}","nodeType":"FunctionLiteral","column":0,"line":0,"type":{"children":[],"start":3345,"end":3389,"code":"func(w http.ResponseWriter, r *http.Request)","nodeType":"FunctionType","column":0,"line":0,"Function":3345,"TypeParams":null,"Params":{"children":[],"start":3349,"end":3389,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":3349,"list":[{"children":[],"start":3350,"end":3371,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":3350,"end":3351,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":3350,"name":"w","object":null}],"type":{"children":[],"start":3352,"end":3371,"code":"http.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3352,"end":3356,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":3352,"name":"http","object":null},"sel":{"children":[],"start":3357,"end":3371,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":3357,"name":"ResponseWriter","object":null}},"tag":null,"comment":null},{"children":[],"start":3373,"end":3388,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":3373,"end":3374,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":3373,"name":"r","object":null}],"type":{"children":[],"start":3375,"end":3388,"code":"*http.Request","nodeType":"StarExpression","column":0,"line":0,"star":3375,"expression":{"children":[],"start":3376,"end":3388,"code":"http.Request","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3376,"end":3380,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":3376,"name":"http","object":null},"sel":{"children":[],"start":3381,"end":3388,"code":"Request","nodeType":"Identifier","column":0,"line":0,"namePos":3381,"name":"Request","object":null}}},"tag":null,"comment":null}],"closing":3388},"Results":null},"body":{"children":[],"start":3390,"end":3513,"code":"{\n\twriter := \u0026responseWriter{}\n\twriter.reset(w)\n\twriter.WriteHeader(http.StatusInternalServerError)\n\twriter.Flush()\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":3390,"list":[{"children":[],"start":3394,"end":3421,"code":"writer := \u0026responseWriter{}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":3394,"end":3400,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":3394,"name":"writer","object":null}],"tokenPos":3401,"token":47,"rhs":[{"children":[],"start":3404,"end":3421,"code":"\u0026responseWriter{}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":3404,"op":17,"expression":{"children":[],"start":3405,"end":3421,"code":"responseWriter{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":3405,"end":3419,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":3405,"name":"responseWriter","object":null},"lbrace":3419,"elements":[],"rbrace":3420,"incomplete":false}}]},{"children":[],"start":3424,"end":3439,"code":"writer.reset(w)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3424,"end":3439,"code":"writer.reset(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3424,"end":3436,"code":"writer.reset","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3424,"end":3430,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":3424,"name":"writer","object":null},"sel":{"children":[],"start":3431,"end":3436,"code":"reset","nodeType":"Identifier","column":0,"line":0,"namePos":3431,"name":"reset","object":null}},"lparen":0,"args":[{"children":[],"start":3437,"end":3438,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":3437,"name":"w","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":3443,"end":3493,"code":"writer.WriteHeader(http.StatusInternalServerError)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3443,"end":3493,"code":"writer.WriteHeader(http.StatusInternalServerError)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3443,"end":3461,"code":"writer.WriteHeader","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3443,"end":3449,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":3443,"name":"writer","object":null},"sel":{"children":[],"start":3450,"end":3461,"code":"WriteHeader","nodeType":"Identifier","column":0,"line":0,"namePos":3450,"name":"WriteHeader","object":null}},"lparen":0,"args":[{"children":[],"start":3462,"end":3492,"code":"http.StatusInternalServerError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3462,"end":3466,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":3462,"name":"http","object":null},"sel":{"children":[],"start":3467,"end":3492,"code":"StatusInternalServerError","nodeType":"Identifier","column":0,"line":0,"namePos":3467,"name":"StatusInternalServerError","object":null}}],"ellipsis":0,"rparen":0}},{"children":[],"start":3496,"end":3510,"code":"writer.Flush()","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3496,"end":3510,"code":"writer.Flush()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3496,"end":3508,"code":"writer.Flush","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3496,"end":3502,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":3496,"name":"writer","object":null},"sel":{"children":[],"start":3503,"end":3508,"code":"Flush","nodeType":"Identifier","column":0,"line":0,"namePos":3503,"name":"Flush","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}}],"rbrace":3512}}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}]},{"children":[],"start":3517,"end":3541,"code":"defer testServer.Close()","nodeType":"DeferStatement","column":0,"line":0,"defer":3517,"call":{"children":[],"start":3523,"end":3541,"code":"testServer.Close()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3523,"end":3539,"code":"testServer.Close","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3523,"end":3533,"code":"testServer","nodeType":"Identifier","column":0,"line":0,"namePos":3523,"name":"testServer","object":null},"sel":{"children":[],"start":3534,"end":3539,"code":"Close","nodeType":"Identifier","column":0,"line":0,"namePos":3534,"name":"Close","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}},{"children":[],"start":3566,"end":3603,"code":"resp, err := http.Get(testServer.URL)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":3566,"end":3570,"code":"resp","nodeType":"Identifier","column":0,"line":0,"namePos":3566,"name":"resp","object":null},{"children":[],"start":3572,"end":3575,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":3572,"name":"err","object":null}],"tokenPos":3576,"token":47,"rhs":[{"children":[],"start":3579,"end":3603,"code":"http.Get(testServer.URL)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3579,"end":3587,"code":"http.Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3579,"end":3583,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":3579,"name":"http","object":null},"sel":{"children":[],"start":3584,"end":3587,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":3584,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":3588,"end":3602,"code":"testServer.URL","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3588,"end":3598,"code":"testServer","nodeType":"Identifier","column":0,"line":0,"namePos":3588,"name":"testServer","object":null},"sel":{"children":[],"start":3599,"end":3602,"code":"URL","nodeType":"Identifier","column":0,"line":0,"namePos":3599,"name":"URL","object":null}}],"ellipsis":0,"rparen":0}]},{"children":[],"start":3605,"end":3627,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3605,"end":3627,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3605,"end":3619,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3605,"end":3611,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":3605,"name":"assert","object":null},"sel":{"children":[],"start":3612,"end":3619,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":3612,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":3620,"end":3621,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":3620,"name":"t","object":null},{"children":[],"start":3623,"end":3626,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":3623,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":3629,"end":3693,"code":"assert.Equal(t, http.StatusInternalServerError, resp.StatusCode)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3629,"end":3693,"code":"assert.Equal(t, http.StatusInternalServerError, resp.StatusCode)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3629,"end":3641,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3629,"end":3635,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":3629,"name":"assert","object":null},"sel":{"children":[],"start":3636,"end":3641,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":3636,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":3642,"end":3643,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":3642,"name":"t","object":null},{"children":[],"start":3645,"end":3675,"code":"http.StatusInternalServerError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3645,"end":3649,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":3645,"name":"http","object":null},"sel":{"children":[],"start":3650,"end":3675,"code":"StatusInternalServerError","nodeType":"Identifier","column":0,"line":0,"namePos":3650,"name":"StatusInternalServerError","object":null}},{"children":[],"start":3677,"end":3692,"code":"resp.StatusCode","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3677,"end":3681,"code":"resp","nodeType":"Identifier","column":0,"line":0,"namePos":3677,"name":"resp","object":null},"sel":{"children":[],"start":3682,"end":3692,"code":"StatusCode","nodeType":"Identifier","column":0,"line":0,"namePos":3682,"name":"StatusCode","object":null}}],"ellipsis":0,"rparen":0}}],"rbrace":3694}},{"children":[],"start":3697,"end":4135,"code":"func TestResponseWriterStatusCode(t *testing.T) {\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{}\n\twriter.reset(testWriter)\n\tw := ResponseWriter(writer)\n\tw.WriteHeader(http.StatusOK)\n\tw.WriteHeaderNow()\n\tassert.Equal(t, http.StatusOK, w.Status())\n\tassert.True(t, w.Written())\n\tw.WriteHeader(http.StatusUnauthorized)\n\tassert.Equal(t, http.StatusOK, w.Status())\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":3702,"end":3730,"code":"TestResponseWriterStatusCode","nodeType":"Identifier","column":0,"line":0,"namePos":3702,"name":"TestResponseWriterStatusCode","object":null},"type":{"children":[],"start":3697,"end":3744,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":3697,"TypeParams":null,"Params":{"children":[],"start":3730,"end":3744,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":3730,"list":[{"children":[],"start":3731,"end":3743,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":3731,"end":3732,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":3731,"name":"t","object":null}],"type":{"children":[],"start":3733,"end":3743,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":3733,"expression":{"children":[],"start":3734,"end":3743,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3734,"end":3741,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":3734,"name":"testing","object":null},"sel":{"children":[],"start":3742,"end":3743,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":3742,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":3743},"Results":null},"body":{"children":[],"start":3745,"end":4135,"code":"{\n\ttestWriter := httptest.NewRecorder()\n\twriter := \u0026responseWriter{}\n\twriter.reset(testWriter)\n\tw := ResponseWriter(writer)\n\tw.WriteHeader(http.StatusOK)\n\tw.WriteHeaderNow()\n\tassert.Equal(t, http.StatusOK, w.Status())\n\tassert.True(t, w.Written())\n\tw.WriteHeader(http.StatusUnauthorized)\n\tassert.Equal(t, http.StatusOK, w.Status())\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":3745,"list":[{"children":[],"start":3748,"end":3784,"code":"testWriter := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":3748,"end":3758,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":3748,"name":"testWriter","object":null}],"tokenPos":3759,"token":47,"rhs":[{"children":[],"start":3762,"end":3784,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3762,"end":3782,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3762,"end":3770,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":3762,"name":"httptest","object":null},"sel":{"children":[],"start":3771,"end":3782,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":3771,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":3786,"end":3813,"code":"writer := \u0026responseWriter{}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":3786,"end":3792,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":3786,"name":"writer","object":null}],"tokenPos":3793,"token":47,"rhs":[{"children":[],"start":3796,"end":3813,"code":"\u0026responseWriter{}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":3796,"op":17,"expression":{"children":[],"start":3797,"end":3813,"code":"responseWriter{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":3797,"end":3811,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":3797,"name":"responseWriter","object":null},"lbrace":3811,"elements":[],"rbrace":3812,"incomplete":false}}]},{"children":[],"start":3815,"end":3839,"code":"writer.reset(testWriter)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3815,"end":3839,"code":"writer.reset(testWriter)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3815,"end":3827,"code":"writer.reset","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3815,"end":3821,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":3815,"name":"writer","object":null},"sel":{"children":[],"start":3822,"end":3827,"code":"reset","nodeType":"Identifier","column":0,"line":0,"namePos":3822,"name":"reset","object":null}},"lparen":0,"args":[{"children":[],"start":3828,"end":3838,"code":"testWriter","nodeType":"Identifier","column":0,"line":0,"namePos":3828,"name":"testWriter","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":3841,"end":3868,"code":"w := ResponseWriter(writer)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":3841,"end":3842,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":3841,"name":"w","object":null}],"tokenPos":3843,"token":47,"rhs":[{"children":[],"start":3846,"end":3868,"code":"ResponseWriter(writer)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3846,"end":3860,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":3846,"name":"ResponseWriter","object":null},"lparen":0,"args":[{"children":[],"start":3861,"end":3867,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":3861,"name":"writer","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":3871,"end":3899,"code":"w.WriteHeader(http.StatusOK)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3871,"end":3899,"code":"w.WriteHeader(http.StatusOK)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3871,"end":3884,"code":"w.WriteHeader","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3871,"end":3872,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":3871,"name":"w","object":null},"sel":{"children":[],"start":3873,"end":3884,"code":"WriteHeader","nodeType":"Identifier","column":0,"line":0,"namePos":3873,"name":"WriteHeader","object":null}},"lparen":0,"args":[{"children":[],"start":3885,"end":3898,"code":"http.StatusOK","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3885,"end":3889,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":3885,"name":"http","object":null},"sel":{"children":[],"start":3890,"end":3898,"code":"StatusOK","nodeType":"Identifier","column":0,"line":0,"namePos":3890,"name":"StatusOK","object":null}}],"ellipsis":0,"rparen":0}},{"children":[],"start":3901,"end":3919,"code":"w.WriteHeaderNow()","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3901,"end":3919,"code":"w.WriteHeaderNow()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3901,"end":3917,"code":"w.WriteHeaderNow","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3901,"end":3902,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":3901,"name":"w","object":null},"sel":{"children":[],"start":3903,"end":3917,"code":"WriteHeaderNow","nodeType":"Identifier","column":0,"line":0,"namePos":3903,"name":"WriteHeaderNow","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}},{"children":[],"start":3922,"end":3964,"code":"assert.Equal(t, http.StatusOK, w.Status())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3922,"end":3964,"code":"assert.Equal(t, http.StatusOK, w.Status())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3922,"end":3934,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3922,"end":3928,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":3922,"name":"assert","object":null},"sel":{"children":[],"start":3929,"end":3934,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":3929,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":3935,"end":3936,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":3935,"name":"t","object":null},{"children":[],"start":3938,"end":3951,"code":"http.StatusOK","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3938,"end":3942,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":3938,"name":"http","object":null},"sel":{"children":[],"start":3943,"end":3951,"code":"StatusOK","nodeType":"Identifier","column":0,"line":0,"namePos":3943,"name":"StatusOK","object":null}},{"children":[],"start":3953,"end":3963,"code":"w.Status()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3953,"end":3961,"code":"w.Status","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3953,"end":3954,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":3953,"name":"w","object":null},"sel":{"children":[],"start":3955,"end":3961,"code":"Status","nodeType":"Identifier","column":0,"line":0,"namePos":3955,"name":"Status","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":3966,"end":3993,"code":"assert.True(t, w.Written())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3966,"end":3993,"code":"assert.True(t, w.Written())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3966,"end":3977,"code":"assert.True","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3966,"end":3972,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":3966,"name":"assert","object":null},"sel":{"children":[],"start":3973,"end":3977,"code":"True","nodeType":"Identifier","column":0,"line":0,"namePos":3973,"name":"True","object":null}},"lparen":0,"args":[{"children":[],"start":3978,"end":3979,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":3978,"name":"t","object":null},{"children":[],"start":3981,"end":3992,"code":"w.Written()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3981,"end":3990,"code":"w.Written","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3981,"end":3982,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":3981,"name":"w","object":null},"sel":{"children":[],"start":3983,"end":3990,"code":"Written","nodeType":"Identifier","column":0,"line":0,"namePos":3983,"name":"Written","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":3996,"end":4034,"code":"w.WriteHeader(http.StatusUnauthorized)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3996,"end":4034,"code":"w.WriteHeader(http.StatusUnauthorized)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3996,"end":4009,"code":"w.WriteHeader","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3996,"end":3997,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":3996,"name":"w","object":null},"sel":{"children":[],"start":3998,"end":4009,"code":"WriteHeader","nodeType":"Identifier","column":0,"line":0,"namePos":3998,"name":"WriteHeader","object":null}},"lparen":0,"args":[{"children":[],"start":4010,"end":4033,"code":"http.StatusUnauthorized","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4010,"end":4014,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":4010,"name":"http","object":null},"sel":{"children":[],"start":4015,"end":4033,"code":"StatusUnauthorized","nodeType":"Identifier","column":0,"line":0,"namePos":4015,"name":"StatusUnauthorized","object":null}}],"ellipsis":0,"rparen":0}},{"children":[],"start":4091,"end":4133,"code":"assert.Equal(t, http.StatusOK, w.Status())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":4091,"end":4133,"code":"assert.Equal(t, http.StatusOK, w.Status())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4091,"end":4103,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4091,"end":4097,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":4091,"name":"assert","object":null},"sel":{"children":[],"start":4098,"end":4103,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":4098,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":4104,"end":4105,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":4104,"name":"t","object":null},{"children":[],"start":4107,"end":4120,"code":"http.StatusOK","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4107,"end":4111,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":4107,"name":"http","object":null},"sel":{"children":[],"start":4112,"end":4120,"code":"StatusOK","nodeType":"Identifier","column":0,"line":0,"namePos":4112,"name":"StatusOK","object":null}},{"children":[],"start":4122,"end":4132,"code":"w.Status()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4122,"end":4130,"code":"w.Status","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4122,"end":4123,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":4122,"name":"w","object":null},"sel":{"children":[],"start":4124,"end":4130,"code":"Status","nodeType":"Identifier","column":0,"line":0,"namePos":4124,"name":"Status","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":4134}},{"children":[],"start":4220,"end":4281,"code":"type mockPusherResponseWriter struct{ http.ResponseWriter }","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":4220,"token":84,"lparen":0,"specifications":[{"children":[],"start":4225,"end":4281,"code":"mockPusherResponseWriter struct{ http.ResponseWriter }","nodeType":"TypeSpecification","column":0,"line":0,"doc":null,"name":{"children":[],"start":4225,"end":4249,"code":"mockPusherResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":4225,"name":"mockPusherResponseWriter","object":null},"typeParams":null,"assign":0,"type":{"children":[],"start":4250,"end":4281,"code":"struct{ http.ResponseWriter }","nodeType":"StructType","column":0,"line":0,"struct":4250,"fields":{"children":[],"start":4257,"end":4281,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":4257,"list":[{"children":[],"start":4260,"end":4279,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":4260,"end":4279,"code":"http.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4260,"end":4264,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":4260,"name":"http","object":null},"sel":{"children":[],"start":4265,"end":4279,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":4265,"name":"ResponseWriter","object":null}},"tag":null,"comment":null}],"closing":4280},"incomplete":false},"comment":null}],"rparen":0},{"children":[],"start":4283,"end":4383,"code":"func (m *mockPusherResponseWriter) Push(target string, opts *http.PushOptions) error {\n\treturn nil\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":4288,"end":4317,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":4288,"list":[{"children":[],"start":4289,"end":4316,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":4289,"end":4290,"code":"m","nodeType":"Identifier","column":0,"line":0,"namePos":4289,"name":"m","object":null}],"type":{"children":[],"start":4291,"end":4316,"code":"*mockPusherResponseWriter","nodeType":"StarExpression","column":0,"line":0,"star":4291,"expression":{"children":[],"start":4292,"end":4316,"code":"mockPusherResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":4292,"name":"mockPusherResponseWriter","object":null}},"tag":null,"comment":null}],"closing":4316},"name":{"children":[],"start":4318,"end":4322,"code":"Push","nodeType":"Identifier","column":0,"line":0,"namePos":4318,"name":"Push","object":null},"type":{"children":[],"start":4283,"end":4367,"code":"func(target string, opts *http.PushOptions) error","nodeType":"FunctionType","column":0,"line":0,"Function":4283,"TypeParams":null,"Params":{"children":[],"start":4322,"end":4361,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":4322,"list":[{"children":[],"start":4323,"end":4336,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":4323,"end":4329,"code":"target","nodeType":"Identifier","column":0,"line":0,"namePos":4323,"name":"target","object":null}],"type":{"children":[],"start":4330,"end":4336,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":4330,"name":"string","object":null},"tag":null,"comment":null},{"children":[],"start":4338,"end":4360,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":4338,"end":4342,"code":"opts","nodeType":"Identifier","column":0,"line":0,"namePos":4338,"name":"opts","object":null}],"type":{"children":[],"start":4343,"end":4360,"code":"*http.PushOptions","nodeType":"StarExpression","column":0,"line":0,"star":4343,"expression":{"children":[],"start":4344,"end":4360,"code":"http.PushOptions","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4344,"end":4348,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":4344,"name":"http","object":null},"sel":{"children":[],"start":4349,"end":4360,"code":"PushOptions","nodeType":"Identifier","column":0,"line":0,"namePos":4349,"name":"PushOptions","object":null}}},"tag":null,"comment":null}],"closing":4360},"Results":{"children":[],"start":4362,"end":4367,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":0,"list":[{"children":[],"start":4362,"end":4367,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":4362,"end":4367,"code":"error","nodeType":"Identifier","column":0,"line":0,"namePos":4362,"name":"error","object":null},"tag":null,"comment":null}],"closing":0}},"body":{"children":[],"start":4368,"end":4383,"code":"{\n\treturn nil\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":4368,"list":[{"children":[],"start":4371,"end":4381,"code":"return nil","nodeType":"ReturnStatement","column":0,"line":0,"return":4371,"results":[{"children":[],"start":4378,"end":4381,"code":"nil","nodeType":"Identifier","column":0,"line":0,"namePos":4378,"name":"nil","object":null}]}],"rbrace":4382}},{"children":[],"start":4475,"end":4535,"code":"type nonPusherResponseWriter struct{ http.ResponseWriter }","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":4475,"token":84,"lparen":0,"specifications":[{"children":[],"start":4480,"end":4535,"code":"nonPusherResponseWriter struct{ http.ResponseWriter }","nodeType":"TypeSpecification","column":0,"line":0,"doc":null,"name":{"children":[],"start":4480,"end":4503,"code":"nonPusherResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":4480,"name":"nonPusherResponseWriter","object":null},"typeParams":null,"assign":0,"type":{"children":[],"start":4504,"end":4535,"code":"struct{ http.ResponseWriter }","nodeType":"StructType","column":0,"line":0,"struct":4504,"fields":{"children":[],"start":4511,"end":4535,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":4511,"list":[{"children":[],"start":4514,"end":4533,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":4514,"end":4533,"code":"http.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4514,"end":4518,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":4514,"name":"http","object":null},"sel":{"children":[],"start":4519,"end":4533,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":4519,"name":"ResponseWriter","object":null}},"tag":null,"comment":null}],"closing":4534},"incomplete":false},"comment":null}],"rparen":0},{"children":[],"start":4537,"end":4739,"code":"func TestPusherWithPusher(t *testing.T) {\n\trw := \u0026mockPusherResponseWriter{}\n\tw := \u0026responseWriter{ResponseWriter: rw}\n\tpusher := w.Pusher()\n\tassert.NotNil(t, pusher, \"Expected pusher to be non-nil\")\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":4542,"end":4562,"code":"TestPusherWithPusher","nodeType":"Identifier","column":0,"line":0,"namePos":4542,"name":"TestPusherWithPusher","object":null},"type":{"children":[],"start":4537,"end":4576,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":4537,"TypeParams":null,"Params":{"children":[],"start":4562,"end":4576,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":4562,"list":[{"children":[],"start":4563,"end":4575,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":4563,"end":4564,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":4563,"name":"t","object":null}],"type":{"children":[],"start":4565,"end":4575,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":4565,"expression":{"children":[],"start":4566,"end":4575,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4566,"end":4573,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":4566,"name":"testing","object":null},"sel":{"children":[],"start":4574,"end":4575,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":4574,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":4575},"Results":null},"body":{"children":[],"start":4577,"end":4739,"code":"{\n\trw := \u0026mockPusherResponseWriter{}\n\tw := \u0026responseWriter{ResponseWriter: rw}\n\tpusher := w.Pusher()\n\tassert.NotNil(t, pusher, \"Expected pusher to be non-nil\")\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":4577,"list":[{"children":[],"start":4580,"end":4613,"code":"rw := \u0026mockPusherResponseWriter{}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4580,"end":4582,"code":"rw","nodeType":"Identifier","column":0,"line":0,"namePos":4580,"name":"rw","object":null}],"tokenPos":4583,"token":47,"rhs":[{"children":[],"start":4586,"end":4613,"code":"\u0026mockPusherResponseWriter{}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":4586,"op":17,"expression":{"children":[],"start":4587,"end":4613,"code":"mockPusherResponseWriter{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":4587,"end":4611,"code":"mockPusherResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":4587,"name":"mockPusherResponseWriter","object":null},"lbrace":4611,"elements":[],"rbrace":4612,"incomplete":false}}]},{"children":[],"start":4615,"end":4655,"code":"w := \u0026responseWriter{ResponseWriter: rw}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4615,"end":4616,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":4615,"name":"w","object":null}],"tokenPos":4617,"token":47,"rhs":[{"children":[],"start":4620,"end":4655,"code":"\u0026responseWriter{ResponseWriter: rw}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":4620,"op":17,"expression":{"children":[],"start":4621,"end":4655,"code":"responseWriter{ResponseWriter: rw}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":4621,"end":4635,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":4621,"name":"responseWriter","object":null},"lbrace":4635,"elements":[{"children":[],"start":4636,"end":4654,"code":"ResponseWriter: rw","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":4636,"end":4650,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":4636,"name":"ResponseWriter","object":null},"colon":0,"value":{"children":[],"start":4652,"end":4654,"code":"rw","nodeType":"Identifier","column":0,"line":0,"namePos":4652,"name":"rw","object":null}}],"rbrace":4654,"incomplete":false}}]},{"children":[],"start":4658,"end":4678,"code":"pusher := w.Pusher()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4658,"end":4664,"code":"pusher","nodeType":"Identifier","column":0,"line":0,"namePos":4658,"name":"pusher","object":null}],"tokenPos":4665,"token":47,"rhs":[{"children":[],"start":4668,"end":4678,"code":"w.Pusher()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4668,"end":4676,"code":"w.Pusher","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4668,"end":4669,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":4668,"name":"w","object":null},"sel":{"children":[],"start":4670,"end":4676,"code":"Pusher","nodeType":"Identifier","column":0,"line":0,"namePos":4670,"name":"Pusher","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":4680,"end":4737,"code":"assert.NotNil(t, pusher, \"Expected pusher to be non-nil\")","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":4680,"end":4737,"code":"assert.NotNil(t, pusher, \"Expected pusher to be non-nil\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4680,"end":4693,"code":"assert.NotNil","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4680,"end":4686,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":4680,"name":"assert","object":null},"sel":{"children":[],"start":4687,"end":4693,"code":"NotNil","nodeType":"Identifier","column":0,"line":0,"namePos":4687,"name":"NotNil","object":null}},"lparen":0,"args":[{"children":[],"start":4694,"end":4695,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":4694,"name":"t","object":null},{"children":[],"start":4697,"end":4703,"code":"pusher","nodeType":"Identifier","column":0,"line":0,"namePos":4697,"name":"pusher","object":null},{"children":[],"start":4705,"end":4736,"code":"\"Expected pusher to be non-nil\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4705,"kind":9,"value":"\"Expected pusher to be non-nil\""}],"ellipsis":0,"rparen":0}}],"rbrace":4738}},{"children":[],"start":4741,"end":4938,"code":"func TestPusherWithoutPusher(t *testing.T) {\n\trw := \u0026nonPusherResponseWriter{}\n\tw := \u0026responseWriter{ResponseWriter: rw}\n\tpusher := w.Pusher()\n\tassert.Nil(t, pusher, \"Expected pusher to be nil\")\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":4746,"end":4769,"code":"TestPusherWithoutPusher","nodeType":"Identifier","column":0,"line":0,"namePos":4746,"name":"TestPusherWithoutPusher","object":null},"type":{"children":[],"start":4741,"end":4783,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":4741,"TypeParams":null,"Params":{"children":[],"start":4769,"end":4783,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":4769,"list":[{"children":[],"start":4770,"end":4782,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":4770,"end":4771,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":4770,"name":"t","object":null}],"type":{"children":[],"start":4772,"end":4782,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":4772,"expression":{"children":[],"start":4773,"end":4782,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4773,"end":4780,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":4773,"name":"testing","object":null},"sel":{"children":[],"start":4781,"end":4782,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":4781,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":4782},"Results":null},"body":{"children":[],"start":4784,"end":4938,"code":"{\n\trw := \u0026nonPusherResponseWriter{}\n\tw := \u0026responseWriter{ResponseWriter: rw}\n\tpusher := w.Pusher()\n\tassert.Nil(t, pusher, \"Expected pusher to be nil\")\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":4784,"list":[{"children":[],"start":4787,"end":4819,"code":"rw := \u0026nonPusherResponseWriter{}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4787,"end":4789,"code":"rw","nodeType":"Identifier","column":0,"line":0,"namePos":4787,"name":"rw","object":null}],"tokenPos":4790,"token":47,"rhs":[{"children":[],"start":4793,"end":4819,"code":"\u0026nonPusherResponseWriter{}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":4793,"op":17,"expression":{"children":[],"start":4794,"end":4819,"code":"nonPusherResponseWriter{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":4794,"end":4817,"code":"nonPusherResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":4794,"name":"nonPusherResponseWriter","object":null},"lbrace":4817,"elements":[],"rbrace":4818,"incomplete":false}}]},{"children":[],"start":4821,"end":4861,"code":"w := \u0026responseWriter{ResponseWriter: rw}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4821,"end":4822,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":4821,"name":"w","object":null}],"tokenPos":4823,"token":47,"rhs":[{"children":[],"start":4826,"end":4861,"code":"\u0026responseWriter{ResponseWriter: rw}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":4826,"op":17,"expression":{"children":[],"start":4827,"end":4861,"code":"responseWriter{ResponseWriter: rw}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":4827,"end":4841,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":4827,"name":"responseWriter","object":null},"lbrace":4841,"elements":[{"children":[],"start":4842,"end":4860,"code":"ResponseWriter: rw","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":4842,"end":4856,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":4842,"name":"ResponseWriter","object":null},"colon":0,"value":{"children":[],"start":4858,"end":4860,"code":"rw","nodeType":"Identifier","column":0,"line":0,"namePos":4858,"name":"rw","object":null}}],"rbrace":4860,"incomplete":false}}]},{"children":[],"start":4864,"end":4884,"code":"pusher := w.Pusher()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4864,"end":4870,"code":"pusher","nodeType":"Identifier","column":0,"line":0,"namePos":4864,"name":"pusher","object":null}],"tokenPos":4871,"token":47,"rhs":[{"children":[],"start":4874,"end":4884,"code":"w.Pusher()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4874,"end":4882,"code":"w.Pusher","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4874,"end":4875,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":4874,"name":"w","object":null},"sel":{"children":[],"start":4876,"end":4882,"code":"Pusher","nodeType":"Identifier","column":0,"line":0,"namePos":4876,"name":"Pusher","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":4886,"end":4936,"code":"assert.Nil(t, pusher, \"Expected pusher to be nil\")","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":4886,"end":4936,"code":"assert.Nil(t, pusher, \"Expected pusher to be nil\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4886,"end":4896,"code":"assert.Nil","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4886,"end":4892,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":4886,"name":"assert","object":null},"sel":{"children":[],"start":4893,"end":4896,"code":"Nil","nodeType":"Identifier","column":0,"line":0,"namePos":4893,"name":"Nil","object":null}},"lparen":0,"args":[{"children":[],"start":4897,"end":4898,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":4897,"name":"t","object":null},{"children":[],"start":4900,"end":4906,"code":"pusher","nodeType":"Identifier","column":0,"line":0,"namePos":4900,"name":"pusher","object":null},{"children":[],"start":4908,"end":4935,"code":"\"Expected pusher to be nil\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4908,"kind":9,"value":"\"Expected pusher to be nil\""}],"ellipsis":0,"rparen":0}}],"rbrace":4937}}],"fileStart":1,"fileEnd":4939,"scope":{"outer":null,"objects":null},"imports":[],"unresolved":[],"comments":[],"goVersion":""}