{"children":[],"start":168,"end":2854,"code":"package gin\n\nimport (\n\t\"bufio\"\n\t\"io\"\n\t\"net\"\n\t\"net/http\"\n)\n\nconst (\n\tnoWritten\t= -1\n\tdefaultStatus\t= http.StatusOK\n)\n\ntype ResponseWriter interface {\n\thttp.ResponseWriter\n\thttp.Hijacker\n\thttp.Flusher\n\thttp.CloseNotifier\n\tStatus() int\n\tSize() int\n\tWriteString(string) (int, error)\n\tWritten() bool\n\tWriteHeaderNow()\n\tPusher() http.Pusher\n}\ntype responseWriter struct {\n\thttp.ResponseWriter\n\tsize\tint\n\tstatus\tint\n}\n\nvar _ ResponseWriter = (*responseWriter)(nil)\n\nfunc (w *responseWriter) Unwrap() http.ResponseWriter {\n\treturn w.ResponseWriter\n}\nfunc (w *responseWriter) reset(writer http.ResponseWriter) {\n\tw.ResponseWriter = writer\n\tw.size = noWritten\n\tw.status = defaultStatus\n}\nfunc (w *responseWriter) WriteHeader(code int) {\n\tif code \u003e 0 \u0026\u0026 w.status != code {\n\t\tif w.Written() {\n\t\t\tdebugPrint(\"[WARNING] Headers were already written. Wanted to override status code %d with %d\", w.status, code)\n\t\t\treturn\n\t\t}\n\t\tw.status = code\n\t}\n}\nfunc (w *responseWriter) WriteHeaderNow() {\n\tif !w.Written() {\n\t\tw.size = 0\n\t\tw.ResponseWriter.WriteHeader(w.status)\n\t}\n}\nfunc (w *responseWriter) Write(data []byte) (n int, err error) {\n\tw.WriteHeaderNow()\n\tn, err = w.ResponseWriter.Write(data)\n\tw.size += n\n\treturn\n}\nfunc (w *responseWriter) WriteString(s string) (n int, err error) {\n\tw.WriteHeaderNow()\n\tn, err = io.WriteString(w.ResponseWriter, s)\n\tw.size += n\n\treturn\n}\nfunc (w *responseWriter) Status() int {\n\treturn w.status\n}\nfunc (w *responseWriter) Size() int {\n\treturn w.size\n}\nfunc (w *responseWriter) Written() bool {\n\treturn w.size != noWritten\n}\nfunc (w *responseWriter) Hijack() (net.Conn, *bufio.ReadWriter, error) {\n\tif w.size \u003c 0 {\n\t\tw.size = 0\n\t}\n\treturn w.ResponseWriter.(http.Hijacker).Hijack()\n}\nfunc (w *responseWriter) CloseNotify() \u003c-chan bool {\n\treturn w.ResponseWriter.(http.CloseNotifier).CloseNotify()\n}\nfunc (w *responseWriter) Flush() {\n\tw.WriteHeaderNow()\n\tw.ResponseWriter.(http.Flusher).Flush()\n}\nfunc (w *responseWriter) Pusher() (pusher http.Pusher) {\n\tif pusher, ok := w.ResponseWriter.(http.Pusher); ok {\n\t\treturn pusher\n\t}\n\treturn nil\n}\n","nodeType":"File","column":0,"line":0,"doc":null,"package":168,"name":{"children":[],"start":176,"end":179,"code":"gin","nodeType":"Identifier","column":0,"line":0,"namePos":176,"name":"gin","object":null},"declarations":[{"children":[],"start":181,"end":225,"code":"import (\n\t\"bufio\"\n\t\"io\"\n\t\"net\"\n\t\"net/http\"\n)","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":181,"token":75,"lparen":188,"specifications":[{"children":[],"start":191,"end":198,"code":"\"bufio\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":191,"end":198,"code":"\"bufio\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":191,"kind":9,"value":"\"bufio\""},"comment":null,"endPosition":0},{"children":[],"start":200,"end":204,"code":"\"io\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":200,"end":204,"code":"\"io\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":200,"kind":9,"value":"\"io\""},"comment":null,"endPosition":0},{"children":[],"start":206,"end":211,"code":"\"net\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":206,"end":211,"code":"\"net\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":206,"kind":9,"value":"\"net\""},"comment":null,"endPosition":0},{"children":[],"start":213,"end":223,"code":"\"net/http\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":213,"end":223,"code":"\"net/http\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":213,"kind":9,"value":"\"net/http\""},"comment":null,"endPosition":0}],"rparen":224},{"children":[],"start":227,"end":287,"code":"const (\n\tnoWritten\t= -1\n\tdefaultStatus\t= http.StatusOK\n)","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":227,"token":64,"lparen":233,"specifications":[{"children":[],"start":236,"end":254,"code":"noWritten = -1","nodeType":"ValueSpecification","column":0,"line":0,"doc":null,"names":[{"children":[],"start":236,"end":245,"code":"noWritten","nodeType":"Identifier","column":0,"line":0,"namePos":236,"name":"noWritten","object":null}],"type":null,"values":[{"children":[],"start":252,"end":254,"code":"-1","nodeType":"UnaryExpression","column":0,"line":0,"opPos":252,"op":13,"expression":{"children":[],"start":253,"end":254,"code":"1","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":253,"kind":5,"value":"1"}}],"comment":null},{"children":[],"start":256,"end":285,"code":"defaultStatus = http.StatusOK","nodeType":"ValueSpecification","column":0,"line":0,"doc":null,"names":[{"children":[],"start":256,"end":269,"code":"defaultStatus","nodeType":"Identifier","column":0,"line":0,"namePos":256,"name":"defaultStatus","object":null}],"type":null,"values":[{"children":[],"start":272,"end":285,"code":"http.StatusOK","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":272,"end":276,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":272,"name":"http","object":null},"sel":{"children":[],"start":277,"end":285,"code":"StatusOK","nodeType":"Identifier","column":0,"line":0,"namePos":277,"name":"StatusOK","object":null}}],"comment":null}],"rparen":286},{"children":[],"start":311,"end":957,"code":"type ResponseWriter interface {\n\thttp.ResponseWriter\n\thttp.Hijacker\n\thttp.Flusher\n\thttp.CloseNotifier\n\tStatus() int\n\tSize() int\n\tWriteString(string) (int, error)\n\tWritten() bool\n\tWriteHeaderNow()\n\tPusher() http.Pusher\n}","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":311,"token":84,"lparen":0,"specifications":[{"children":[],"start":316,"end":957,"code":"ResponseWriter interface {\n\thttp.ResponseWriter\n\thttp.Hijacker\n\thttp.Flusher\n\thttp.CloseNotifier\n\tStatus() int\n\tSize() int\n\tWriteString(string) (int, error)\n\tWritten() bool\n\tWriteHeaderNow()\n\tPusher() http.Pusher\n}","nodeType":"TypeSpecification","column":0,"line":0,"doc":null,"name":{"children":[],"start":316,"end":330,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":316,"name":"ResponseWriter","object":null},"typeParams":null,"assign":0,"type":{"children":[],"start":331,"end":957,"code":"interface {\n\thttp.ResponseWriter\n\thttp.Hijacker\n\thttp.Flusher\n\thttp.CloseNotifier\n\tStatus() int\n\tSize() int\n\tWriteString(string) (int, error)\n\tWritten() bool\n\tWriteHeaderNow()\n\tPusher() http.Pusher\n}","nodeType":"InterfaceType","column":0,"line":0,"interface":331,"methods":{"children":[],"start":341,"end":957,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":341,"list":[{"children":[],"start":344,"end":363,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":344,"end":363,"code":"http.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":344,"end":348,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":344,"name":"http","object":null},"sel":{"children":[],"start":349,"end":363,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":349,"name":"ResponseWriter","object":null}},"tag":null,"comment":null},{"children":[],"start":365,"end":378,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":365,"end":378,"code":"http.Hijacker","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":365,"end":369,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":365,"name":"http","object":null},"sel":{"children":[],"start":370,"end":378,"code":"Hijacker","nodeType":"Identifier","column":0,"line":0,"namePos":370,"name":"Hijacker","object":null}},"tag":null,"comment":null},{"children":[],"start":380,"end":392,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":380,"end":392,"code":"http.Flusher","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":380,"end":384,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":380,"name":"http","object":null},"sel":{"children":[],"start":385,"end":392,"code":"Flusher","nodeType":"Identifier","column":0,"line":0,"namePos":385,"name":"Flusher","object":null}},"tag":null,"comment":null},{"children":[],"start":394,"end":412,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":394,"end":412,"code":"http.CloseNotifier","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":394,"end":398,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":394,"name":"http","object":null},"sel":{"children":[],"start":399,"end":412,"code":"CloseNotifier","nodeType":"Identifier","column":0,"line":0,"namePos":399,"name":"CloseNotifier","object":null}},"tag":null,"comment":null},{"children":[],"start":488,"end":500,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":488,"end":494,"code":"Status","nodeType":"Identifier","column":0,"line":0,"namePos":488,"name":"Status","object":null}],"type":{"children":[],"start":494,"end":500,"code":"func() int","nodeType":"FunctionType","column":0,"line":0,"Function":0,"TypeParams":null,"Params":{"children":[],"start":494,"end":496,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":494,"list":[],"closing":495},"Results":{"children":[],"start":497,"end":500,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":0,"list":[{"children":[],"start":497,"end":500,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":497,"end":500,"code":"int","nodeType":"Identifier","column":0,"line":0,"namePos":497,"name":"int","object":null},"tag":null,"comment":null}],"closing":0}},"tag":null,"comment":null},{"children":[],"start":603,"end":613,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":603,"end":607,"code":"Size","nodeType":"Identifier","column":0,"line":0,"namePos":603,"name":"Size","object":null}],"type":{"children":[],"start":607,"end":613,"code":"func() int","nodeType":"FunctionType","column":0,"line":0,"Function":0,"TypeParams":null,"Params":{"children":[],"start":607,"end":609,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":607,"list":[],"closing":608},"Results":{"children":[],"start":610,"end":613,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":0,"list":[{"children":[],"start":610,"end":613,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":610,"end":613,"code":"int","nodeType":"Identifier","column":0,"line":0,"namePos":610,"name":"int","object":null},"tag":null,"comment":null}],"closing":0}},"tag":null,"comment":null},{"children":[],"start":674,"end":706,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":674,"end":685,"code":"WriteString","nodeType":"Identifier","column":0,"line":0,"namePos":674,"name":"WriteString","object":null}],"type":{"children":[],"start":685,"end":706,"code":"func(string) (int, error)","nodeType":"FunctionType","column":0,"line":0,"Function":0,"TypeParams":null,"Params":{"children":[],"start":685,"end":693,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":685,"list":[{"children":[],"start":686,"end":692,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":686,"end":692,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":686,"name":"string","object":null},"tag":null,"comment":null}],"closing":692},"Results":{"children":[],"start":694,"end":706,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":694,"list":[{"children":[],"start":695,"end":698,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":695,"end":698,"code":"int","nodeType":"Identifier","column":0,"line":0,"namePos":695,"name":"int","object":null},"tag":null,"comment":null},{"children":[],"start":700,"end":705,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":700,"end":705,"code":"error","nodeType":"Identifier","column":0,"line":0,"namePos":700,"name":"error","object":null},"tag":null,"comment":null}],"closing":705}},"tag":null,"comment":null},{"children":[],"start":776,"end":790,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":776,"end":783,"code":"Written","nodeType":"Identifier","column":0,"line":0,"namePos":776,"name":"Written","object":null}],"type":{"children":[],"start":783,"end":790,"code":"func() bool","nodeType":"FunctionType","column":0,"line":0,"Function":0,"TypeParams":null,"Params":{"children":[],"start":783,"end":785,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":783,"list":[],"closing":784},"Results":{"children":[],"start":786,"end":790,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":0,"list":[{"children":[],"start":786,"end":790,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":786,"end":790,"code":"bool","nodeType":"Identifier","column":0,"line":0,"namePos":786,"name":"bool","object":null},"tag":null,"comment":null}],"closing":0}},"tag":null,"comment":null},{"children":[],"start":869,"end":885,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":869,"end":883,"code":"WriteHeaderNow","nodeType":"Identifier","column":0,"line":0,"namePos":869,"name":"WriteHeaderNow","object":null}],"type":{"children":[],"start":883,"end":885,"code":"func()","nodeType":"FunctionType","column":0,"line":0,"Function":0,"TypeParams":null,"Params":{"children":[],"start":883,"end":885,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":883,"list":[],"closing":884},"Results":null},"tag":null,"comment":null},{"children":[],"start":935,"end":955,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":935,"end":941,"code":"Pusher","nodeType":"Identifier","column":0,"line":0,"namePos":935,"name":"Pusher","object":null}],"type":{"children":[],"start":941,"end":955,"code":"func() http.Pusher","nodeType":"FunctionType","column":0,"line":0,"Function":0,"TypeParams":null,"Params":{"children":[],"start":941,"end":943,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":941,"list":[],"closing":942},"Results":{"children":[],"start":944,"end":955,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":0,"list":[{"children":[],"start":944,"end":955,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":944,"end":955,"code":"http.Pusher","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":944,"end":948,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":944,"name":"http","object":null},"sel":{"children":[],"start":949,"end":955,"code":"Pusher","nodeType":"Identifier","column":0,"line":0,"namePos":949,"name":"Pusher","object":null}},"tag":null,"comment":null}],"closing":0}},"tag":null,"comment":null}],"closing":956},"incomplete":false},"comment":null}],"rparen":0},{"children":[],"start":959,"end":1034,"code":"type responseWriter struct {\n\thttp.ResponseWriter\n\tsize\tint\n\tstatus\tint\n}","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":959,"token":84,"lparen":0,"specifications":[{"children":[],"start":964,"end":1034,"code":"responseWriter struct {\n\thttp.ResponseWriter\n\tsize\tint\n\tstatus\tint\n}","nodeType":"TypeSpecification","column":0,"line":0,"doc":null,"name":{"children":[],"start":964,"end":978,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":964,"name":"responseWriter","object":null},"typeParams":null,"assign":0,"type":{"children":[],"start":979,"end":1034,"code":"struct {\n\thttp.ResponseWriter\n\tsize\tint\n\tstatus\tint\n}","nodeType":"StructType","column":0,"line":0,"struct":979,"fields":{"children":[],"start":986,"end":1034,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":986,"list":[{"children":[],"start":989,"end":1008,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":989,"end":1008,"code":"http.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":989,"end":993,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":989,"name":"http","object":null},"sel":{"children":[],"start":994,"end":1008,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":994,"name":"ResponseWriter","object":null}},"tag":null,"comment":null},{"children":[],"start":1010,"end":1020,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1010,"end":1014,"code":"size","nodeType":"Identifier","column":0,"line":0,"namePos":1010,"name":"size","object":null}],"type":{"children":[],"start":1017,"end":1020,"code":"int","nodeType":"Identifier","column":0,"line":0,"namePos":1017,"name":"int","object":null},"tag":null,"comment":null},{"children":[],"start":1022,"end":1032,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1022,"end":1028,"code":"status","nodeType":"Identifier","column":0,"line":0,"namePos":1022,"name":"status","object":null}],"type":{"children":[],"start":1029,"end":1032,"code":"int","nodeType":"Identifier","column":0,"line":0,"namePos":1029,"name":"int","object":null},"tag":null,"comment":null}],"closing":1033},"incomplete":false},"comment":null}],"rparen":0},{"children":[],"start":1036,"end":1081,"code":"var _ ResponseWriter = (*responseWriter)(nil)","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":1036,"token":85,"lparen":0,"specifications":[{"children":[],"start":1040,"end":1081,"code":"_ ResponseWriter = (*responseWriter)(nil)","nodeType":"ValueSpecification","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1040,"end":1041,"code":"_","nodeType":"Identifier","column":0,"line":0,"namePos":1040,"name":"_","object":null}],"type":{"children":[],"start":1042,"end":1056,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1042,"name":"ResponseWriter","object":null},"values":[{"children":[],"start":1059,"end":1081,"code":"(*responseWriter)(nil)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1059,"end":1076,"code":"(*responseWriter)","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":1059,"expression":{"children":[],"start":1060,"end":1075,"code":"*responseWriter","nodeType":"StarExpression","column":0,"line":0,"star":1060,"expression":{"children":[],"start":1061,"end":1075,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1061,"name":"responseWriter","object":null}},"rparen":1075},"lparen":0,"args":[{"children":[],"start":1077,"end":1080,"code":"nil","nodeType":"Identifier","column":0,"line":0,"namePos":1077,"name":"nil","object":null}],"ellipsis":0,"rparen":0}],"comment":null}],"rparen":0},{"children":[],"start":1083,"end":1165,"code":"func (w *responseWriter) Unwrap() http.ResponseWriter {\n\treturn w.ResponseWriter\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":1088,"end":1107,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1088,"list":[{"children":[],"start":1089,"end":1106,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1089,"end":1090,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1089,"name":"w","object":null}],"type":{"children":[],"start":1091,"end":1106,"code":"*responseWriter","nodeType":"StarExpression","column":0,"line":0,"star":1091,"expression":{"children":[],"start":1092,"end":1106,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1092,"name":"responseWriter","object":null}},"tag":null,"comment":null}],"closing":1106},"name":{"children":[],"start":1108,"end":1114,"code":"Unwrap","nodeType":"Identifier","column":0,"line":0,"namePos":1108,"name":"Unwrap","object":null},"type":{"children":[],"start":1083,"end":1136,"code":"func() http.ResponseWriter","nodeType":"FunctionType","column":0,"line":0,"Function":1083,"TypeParams":null,"Params":{"children":[],"start":1114,"end":1116,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1114,"list":[],"closing":1115},"Results":{"children":[],"start":1117,"end":1136,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":0,"list":[{"children":[],"start":1117,"end":1136,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":1117,"end":1136,"code":"http.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1117,"end":1121,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":1117,"name":"http","object":null},"sel":{"children":[],"start":1122,"end":1136,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1122,"name":"ResponseWriter","object":null}},"tag":null,"comment":null}],"closing":0}},"body":{"children":[],"start":1137,"end":1165,"code":"{\n\treturn w.ResponseWriter\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1137,"list":[{"children":[],"start":1140,"end":1163,"code":"return w.ResponseWriter","nodeType":"ReturnStatement","column":0,"line":0,"return":1140,"results":[{"children":[],"start":1147,"end":1163,"code":"w.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1147,"end":1148,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1147,"name":"w","object":null},"sel":{"children":[],"start":1149,"end":1163,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1149,"name":"ResponseWriter","object":null}}]}],"rbrace":1164}},{"children":[],"start":1167,"end":1302,"code":"func (w *responseWriter) reset(writer http.ResponseWriter) {\n\tw.ResponseWriter = writer\n\tw.size = noWritten\n\tw.status = defaultStatus\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":1172,"end":1191,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1172,"list":[{"children":[],"start":1173,"end":1190,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1173,"end":1174,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1173,"name":"w","object":null}],"type":{"children":[],"start":1175,"end":1190,"code":"*responseWriter","nodeType":"StarExpression","column":0,"line":0,"star":1175,"expression":{"children":[],"start":1176,"end":1190,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1176,"name":"responseWriter","object":null}},"tag":null,"comment":null}],"closing":1190},"name":{"children":[],"start":1192,"end":1197,"code":"reset","nodeType":"Identifier","column":0,"line":0,"namePos":1192,"name":"reset","object":null},"type":{"children":[],"start":1167,"end":1225,"code":"func(writer http.ResponseWriter)","nodeType":"FunctionType","column":0,"line":0,"Function":1167,"TypeParams":null,"Params":{"children":[],"start":1197,"end":1225,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1197,"list":[{"children":[],"start":1198,"end":1224,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1198,"end":1204,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":1198,"name":"writer","object":null}],"type":{"children":[],"start":1205,"end":1224,"code":"http.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1205,"end":1209,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":1205,"name":"http","object":null},"sel":{"children":[],"start":1210,"end":1224,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1210,"name":"ResponseWriter","object":null}},"tag":null,"comment":null}],"closing":1224},"Results":null},"body":{"children":[],"start":1226,"end":1302,"code":"{\n\tw.ResponseWriter = writer\n\tw.size = noWritten\n\tw.status = defaultStatus\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1226,"list":[{"children":[],"start":1229,"end":1254,"code":"w.ResponseWriter = writer","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1229,"end":1245,"code":"w.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1229,"end":1230,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1229,"name":"w","object":null},"sel":{"children":[],"start":1231,"end":1245,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1231,"name":"ResponseWriter","object":null}}],"tokenPos":1246,"token":42,"rhs":[{"children":[],"start":1248,"end":1254,"code":"writer","nodeType":"Identifier","column":0,"line":0,"namePos":1248,"name":"writer","object":null}]},{"children":[],"start":1256,"end":1274,"code":"w.size = noWritten","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1256,"end":1262,"code":"w.size","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1256,"end":1257,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1256,"name":"w","object":null},"sel":{"children":[],"start":1258,"end":1262,"code":"size","nodeType":"Identifier","column":0,"line":0,"namePos":1258,"name":"size","object":null}}],"tokenPos":1263,"token":42,"rhs":[{"children":[],"start":1265,"end":1274,"code":"noWritten","nodeType":"Identifier","column":0,"line":0,"namePos":1265,"name":"noWritten","object":null}]},{"children":[],"start":1276,"end":1300,"code":"w.status = defaultStatus","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1276,"end":1284,"code":"w.status","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1276,"end":1277,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1276,"name":"w","object":null},"sel":{"children":[],"start":1278,"end":1284,"code":"status","nodeType":"Identifier","column":0,"line":0,"namePos":1278,"name":"status","object":null}}],"tokenPos":1285,"token":42,"rhs":[{"children":[],"start":1287,"end":1300,"code":"defaultStatus","nodeType":"Identifier","column":0,"line":0,"namePos":1287,"name":"defaultStatus","object":null}]}],"rbrace":1301}},{"children":[],"start":1304,"end":1558,"code":"func (w *responseWriter) WriteHeader(code int) {\n\tif code \u003e 0 \u0026\u0026 w.status != code {\n\t\tif w.Written() {\n\t\t\tdebugPrint(\"[WARNING] Headers were already written. Wanted to override status code %d with %d\", w.status, code)\n\t\t\treturn\n\t\t}\n\t\tw.status = code\n\t}\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":1309,"end":1328,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1309,"list":[{"children":[],"start":1310,"end":1327,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1310,"end":1311,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1310,"name":"w","object":null}],"type":{"children":[],"start":1312,"end":1327,"code":"*responseWriter","nodeType":"StarExpression","column":0,"line":0,"star":1312,"expression":{"children":[],"start":1313,"end":1327,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1313,"name":"responseWriter","object":null}},"tag":null,"comment":null}],"closing":1327},"name":{"children":[],"start":1329,"end":1340,"code":"WriteHeader","nodeType":"Identifier","column":0,"line":0,"namePos":1329,"name":"WriteHeader","object":null},"type":{"children":[],"start":1304,"end":1350,"code":"func(code int)","nodeType":"FunctionType","column":0,"line":0,"Function":1304,"TypeParams":null,"Params":{"children":[],"start":1340,"end":1350,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1340,"list":[{"children":[],"start":1341,"end":1349,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1341,"end":1345,"code":"code","nodeType":"Identifier","column":0,"line":0,"namePos":1341,"name":"code","object":null}],"type":{"children":[],"start":1346,"end":1349,"code":"int","nodeType":"Identifier","column":0,"line":0,"namePos":1346,"name":"int","object":null},"tag":null,"comment":null}],"closing":1349},"Results":null},"body":{"children":[],"start":1351,"end":1558,"code":"{\n\tif code \u003e 0 \u0026\u0026 w.status != code {\n\t\tif w.Written() {\n\t\t\tdebugPrint(\"[WARNING] Headers were already written. Wanted to override status code %d with %d\", w.status, code)\n\t\t\treturn\n\t\t}\n\t\tw.status = code\n\t}\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1351,"list":[{"children":[],"start":1354,"end":1556,"code":"if code \u003e 0 \u0026\u0026 w.status != code {\n\tif w.Written() {\n\t\tdebugPrint(\"[WARNING] Headers were already written. Wanted to override status code %d with %d\", w.status, code)\n\t\treturn\n\t}\n\tw.status = code\n}","nodeType":"IfStatement","column":0,"line":0,"if":1354,"initialization":null,"condition":{"children":[],"start":1357,"end":1385,"code":"code \u003e 0 \u0026\u0026 w.status != code","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":1357,"end":1365,"code":"code \u003e 0","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":1357,"end":1361,"code":"code","nodeType":"Identifier","column":0,"line":0,"namePos":1357,"name":"code","object":null},"opPos":1362,"op":41,"rightExpression":{"children":[],"start":1364,"end":1365,"code":"0","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1364,"kind":5,"value":"0"}},"opPos":1366,"op":34,"rightExpression":{"children":[],"start":1369,"end":1385,"code":"w.status != code","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":1369,"end":1377,"code":"w.status","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1369,"end":1370,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1369,"name":"w","object":null},"sel":{"children":[],"start":1371,"end":1377,"code":"status","nodeType":"Identifier","column":0,"line":0,"namePos":1371,"name":"status","object":null}},"opPos":1378,"op":44,"rightExpression":{"children":[],"start":1381,"end":1385,"code":"code","nodeType":"Identifier","column":0,"line":0,"namePos":1381,"name":"code","object":null}}},"body":{"children":[],"start":1386,"end":1556,"code":"{\n\tif w.Written() {\n\t\tdebugPrint(\"[WARNING] Headers were already written. Wanted to override status code %d with %d\", w.status, code)\n\t\treturn\n\t}\n\tw.status = code\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1386,"list":[{"children":[],"start":1390,"end":1535,"code":"if w.Written() {\n\tdebugPrint(\"[WARNING] Headers were already written. Wanted to override status code %d with %d\", w.status, code)\n\treturn\n}","nodeType":"IfStatement","column":0,"line":0,"if":1390,"initialization":null,"condition":{"children":[],"start":1393,"end":1404,"code":"w.Written()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1393,"end":1402,"code":"w.Written","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1393,"end":1394,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1393,"name":"w","object":null},"sel":{"children":[],"start":1395,"end":1402,"code":"Written","nodeType":"Identifier","column":0,"line":0,"namePos":1395,"name":"Written","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"body":{"children":[],"start":1405,"end":1535,"code":"{\n\tdebugPrint(\"[WARNING] Headers were already written. Wanted to override status code %d with %d\", w.status, code)\n\treturn\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1405,"list":[{"children":[],"start":1410,"end":1521,"code":"debugPrint(\"[WARNING] Headers were already written. Wanted to override status code %d with %d\", w.status, code)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1410,"end":1521,"code":"debugPrint(\"[WARNING] Headers were already written. Wanted to override status code %d with %d\", w.status, code)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1410,"end":1420,"code":"debugPrint","nodeType":"Identifier","column":0,"line":0,"namePos":1410,"name":"debugPrint","object":null},"lparen":0,"args":[{"children":[],"start":1421,"end":1504,"code":"\"[WARNING] Headers were already written. Wanted to override status code %d with %d\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1421,"kind":9,"value":"\"[WARNING] Headers were already written. Wanted to override status code %d with %d\""},{"children":[],"start":1506,"end":1514,"code":"w.status","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1506,"end":1507,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1506,"name":"w","object":null},"sel":{"children":[],"start":1508,"end":1514,"code":"status","nodeType":"Identifier","column":0,"line":0,"namePos":1508,"name":"status","object":null}},{"children":[],"start":1516,"end":1520,"code":"code","nodeType":"Identifier","column":0,"line":0,"namePos":1516,"name":"code","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":1525,"end":1531,"code":"return","nodeType":"ReturnStatement","column":0,"line":0,"return":1525,"results":[]}],"rbrace":1534},"else":null},{"children":[],"start":1538,"end":1553,"code":"w.status = code","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1538,"end":1546,"code":"w.status","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1538,"end":1539,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1538,"name":"w","object":null},"sel":{"children":[],"start":1540,"end":1546,"code":"status","nodeType":"Identifier","column":0,"line":0,"namePos":1540,"name":"status","object":null}}],"tokenPos":1547,"token":42,"rhs":[{"children":[],"start":1549,"end":1553,"code":"code","nodeType":"Identifier","column":0,"line":0,"namePos":1549,"name":"code","object":null}]}],"rbrace":1555},"else":null}],"rbrace":1557}},{"children":[],"start":1560,"end":1681,"code":"func (w *responseWriter) WriteHeaderNow() {\n\tif !w.Written() {\n\t\tw.size = 0\n\t\tw.ResponseWriter.WriteHeader(w.status)\n\t}\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":1565,"end":1584,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1565,"list":[{"children":[],"start":1566,"end":1583,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1566,"end":1567,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1566,"name":"w","object":null}],"type":{"children":[],"start":1568,"end":1583,"code":"*responseWriter","nodeType":"StarExpression","column":0,"line":0,"star":1568,"expression":{"children":[],"start":1569,"end":1583,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1569,"name":"responseWriter","object":null}},"tag":null,"comment":null}],"closing":1583},"name":{"children":[],"start":1585,"end":1599,"code":"WriteHeaderNow","nodeType":"Identifier","column":0,"line":0,"namePos":1585,"name":"WriteHeaderNow","object":null},"type":{"children":[],"start":1560,"end":1601,"code":"func()","nodeType":"FunctionType","column":0,"line":0,"Function":1560,"TypeParams":null,"Params":{"children":[],"start":1599,"end":1601,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1599,"list":[],"closing":1600},"Results":null},"body":{"children":[],"start":1602,"end":1681,"code":"{\n\tif !w.Written() {\n\t\tw.size = 0\n\t\tw.ResponseWriter.WriteHeader(w.status)\n\t}\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1602,"list":[{"children":[],"start":1605,"end":1679,"code":"if !w.Written() {\n\tw.size = 0\n\tw.ResponseWriter.WriteHeader(w.status)\n}","nodeType":"IfStatement","column":0,"line":0,"if":1605,"initialization":null,"condition":{"children":[],"start":1608,"end":1620,"code":"!w.Written()","nodeType":"UnaryExpression","column":0,"line":0,"opPos":1608,"op":43,"expression":{"children":[],"start":1609,"end":1620,"code":"w.Written()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1609,"end":1618,"code":"w.Written","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1609,"end":1610,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1609,"name":"w","object":null},"sel":{"children":[],"start":1611,"end":1618,"code":"Written","nodeType":"Identifier","column":0,"line":0,"namePos":1611,"name":"Written","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}},"body":{"children":[],"start":1621,"end":1679,"code":"{\n\tw.size = 0\n\tw.ResponseWriter.WriteHeader(w.status)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1621,"list":[{"children":[],"start":1625,"end":1635,"code":"w.size = 0","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1625,"end":1631,"code":"w.size","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1625,"end":1626,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1625,"name":"w","object":null},"sel":{"children":[],"start":1627,"end":1631,"code":"size","nodeType":"Identifier","column":0,"line":0,"namePos":1627,"name":"size","object":null}}],"tokenPos":1632,"token":42,"rhs":[{"children":[],"start":1634,"end":1635,"code":"0","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1634,"kind":5,"value":"0"}]},{"children":[],"start":1638,"end":1676,"code":"w.ResponseWriter.WriteHeader(w.status)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1638,"end":1676,"code":"w.ResponseWriter.WriteHeader(w.status)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1638,"end":1666,"code":"w.ResponseWriter.WriteHeader","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1638,"end":1654,"code":"w.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1638,"end":1639,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1638,"name":"w","object":null},"sel":{"children":[],"start":1640,"end":1654,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1640,"name":"ResponseWriter","object":null}},"sel":{"children":[],"start":1655,"end":1666,"code":"WriteHeader","nodeType":"Identifier","column":0,"line":0,"namePos":1655,"name":"WriteHeader","object":null}},"lparen":0,"args":[{"children":[],"start":1667,"end":1675,"code":"w.status","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1667,"end":1668,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1667,"name":"w","object":null},"sel":{"children":[],"start":1669,"end":1675,"code":"status","nodeType":"Identifier","column":0,"line":0,"namePos":1669,"name":"status","object":null}}],"ellipsis":0,"rparen":0}}],"rbrace":1678},"else":null}],"rbrace":1680}},{"children":[],"start":1683,"end":1829,"code":"func (w *responseWriter) Write(data []byte) (n int, err error) {\n\tw.WriteHeaderNow()\n\tn, err = w.ResponseWriter.Write(data)\n\tw.size += n\n\treturn\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":1688,"end":1707,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1688,"list":[{"children":[],"start":1689,"end":1706,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1689,"end":1690,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1689,"name":"w","object":null}],"type":{"children":[],"start":1691,"end":1706,"code":"*responseWriter","nodeType":"StarExpression","column":0,"line":0,"star":1691,"expression":{"children":[],"start":1692,"end":1706,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1692,"name":"responseWriter","object":null}},"tag":null,"comment":null}],"closing":1706},"name":{"children":[],"start":1708,"end":1713,"code":"Write","nodeType":"Identifier","column":0,"line":0,"namePos":1708,"name":"Write","object":null},"type":{"children":[],"start":1683,"end":1745,"code":"func(data []byte) (n int, err error)","nodeType":"FunctionType","column":0,"line":0,"Function":1683,"TypeParams":null,"Params":{"children":[],"start":1713,"end":1726,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1713,"list":[{"children":[],"start":1714,"end":1725,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1714,"end":1718,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":1714,"name":"data","object":null}],"type":{"children":[],"start":1719,"end":1725,"code":"[]byte","nodeType":"ArrayType","column":0,"line":0,"leftBracket":1719,"length":null,"element":{"children":[],"start":1721,"end":1725,"code":"byte","nodeType":"Identifier","column":0,"line":0,"namePos":1721,"name":"byte","object":null}},"tag":null,"comment":null}],"closing":1725},"Results":{"children":[],"start":1727,"end":1745,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1727,"list":[{"children":[],"start":1728,"end":1733,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1728,"end":1729,"code":"n","nodeType":"Identifier","column":0,"line":0,"namePos":1728,"name":"n","object":null}],"type":{"children":[],"start":1730,"end":1733,"code":"int","nodeType":"Identifier","column":0,"line":0,"namePos":1730,"name":"int","object":null},"tag":null,"comment":null},{"children":[],"start":1735,"end":1744,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1735,"end":1738,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":1735,"name":"err","object":null}],"type":{"children":[],"start":1739,"end":1744,"code":"error","nodeType":"Identifier","column":0,"line":0,"namePos":1739,"name":"error","object":null},"tag":null,"comment":null}],"closing":1744}},"body":{"children":[],"start":1746,"end":1829,"code":"{\n\tw.WriteHeaderNow()\n\tn, err = w.ResponseWriter.Write(data)\n\tw.size += n\n\treturn\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1746,"list":[{"children":[],"start":1749,"end":1767,"code":"w.WriteHeaderNow()","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1749,"end":1767,"code":"w.WriteHeaderNow()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1749,"end":1765,"code":"w.WriteHeaderNow","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1749,"end":1750,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1749,"name":"w","object":null},"sel":{"children":[],"start":1751,"end":1765,"code":"WriteHeaderNow","nodeType":"Identifier","column":0,"line":0,"namePos":1751,"name":"WriteHeaderNow","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}},{"children":[],"start":1769,"end":1806,"code":"n, err = w.ResponseWriter.Write(data)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1769,"end":1770,"code":"n","nodeType":"Identifier","column":0,"line":0,"namePos":1769,"name":"n","object":null},{"children":[],"start":1772,"end":1775,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":1772,"name":"err","object":null}],"tokenPos":1776,"token":42,"rhs":[{"children":[],"start":1778,"end":1806,"code":"w.ResponseWriter.Write(data)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1778,"end":1800,"code":"w.ResponseWriter.Write","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1778,"end":1794,"code":"w.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1778,"end":1779,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1778,"name":"w","object":null},"sel":{"children":[],"start":1780,"end":1794,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1780,"name":"ResponseWriter","object":null}},"sel":{"children":[],"start":1795,"end":1800,"code":"Write","nodeType":"Identifier","column":0,"line":0,"namePos":1795,"name":"Write","object":null}},"lparen":0,"args":[{"children":[],"start":1801,"end":1805,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":1801,"name":"data","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":1808,"end":1819,"code":"w.size += n","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1808,"end":1814,"code":"w.size","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1808,"end":1809,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1808,"name":"w","object":null},"sel":{"children":[],"start":1810,"end":1814,"code":"size","nodeType":"Identifier","column":0,"line":0,"namePos":1810,"name":"size","object":null}}],"tokenPos":1815,"token":23,"rhs":[{"children":[],"start":1818,"end":1819,"code":"n","nodeType":"Identifier","column":0,"line":0,"namePos":1818,"name":"n","object":null}]},{"children":[],"start":1821,"end":1827,"code":"return","nodeType":"ReturnStatement","column":0,"line":0,"return":1821,"results":[]}],"rbrace":1828}},{"children":[],"start":1831,"end":1987,"code":"func (w *responseWriter) WriteString(s string) (n int, err error) {\n\tw.WriteHeaderNow()\n\tn, err = io.WriteString(w.ResponseWriter, s)\n\tw.size += n\n\treturn\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":1836,"end":1855,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1836,"list":[{"children":[],"start":1837,"end":1854,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1837,"end":1838,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1837,"name":"w","object":null}],"type":{"children":[],"start":1839,"end":1854,"code":"*responseWriter","nodeType":"StarExpression","column":0,"line":0,"star":1839,"expression":{"children":[],"start":1840,"end":1854,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1840,"name":"responseWriter","object":null}},"tag":null,"comment":null}],"closing":1854},"name":{"children":[],"start":1856,"end":1867,"code":"WriteString","nodeType":"Identifier","column":0,"line":0,"namePos":1856,"name":"WriteString","object":null},"type":{"children":[],"start":1831,"end":1896,"code":"func(s string) (n int, err error)","nodeType":"FunctionType","column":0,"line":0,"Function":1831,"TypeParams":null,"Params":{"children":[],"start":1867,"end":1877,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1867,"list":[{"children":[],"start":1868,"end":1876,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1868,"end":1869,"code":"s","nodeType":"Identifier","column":0,"line":0,"namePos":1868,"name":"s","object":null}],"type":{"children":[],"start":1870,"end":1876,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":1870,"name":"string","object":null},"tag":null,"comment":null}],"closing":1876},"Results":{"children":[],"start":1878,"end":1896,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1878,"list":[{"children":[],"start":1879,"end":1884,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1879,"end":1880,"code":"n","nodeType":"Identifier","column":0,"line":0,"namePos":1879,"name":"n","object":null}],"type":{"children":[],"start":1881,"end":1884,"code":"int","nodeType":"Identifier","column":0,"line":0,"namePos":1881,"name":"int","object":null},"tag":null,"comment":null},{"children":[],"start":1886,"end":1895,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1886,"end":1889,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":1886,"name":"err","object":null}],"type":{"children":[],"start":1890,"end":1895,"code":"error","nodeType":"Identifier","column":0,"line":0,"namePos":1890,"name":"error","object":null},"tag":null,"comment":null}],"closing":1895}},"body":{"children":[],"start":1897,"end":1987,"code":"{\n\tw.WriteHeaderNow()\n\tn, err = io.WriteString(w.ResponseWriter, s)\n\tw.size += n\n\treturn\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1897,"list":[{"children":[],"start":1900,"end":1918,"code":"w.WriteHeaderNow()","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1900,"end":1918,"code":"w.WriteHeaderNow()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1900,"end":1916,"code":"w.WriteHeaderNow","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1900,"end":1901,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1900,"name":"w","object":null},"sel":{"children":[],"start":1902,"end":1916,"code":"WriteHeaderNow","nodeType":"Identifier","column":0,"line":0,"namePos":1902,"name":"WriteHeaderNow","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}},{"children":[],"start":1920,"end":1964,"code":"n, err = io.WriteString(w.ResponseWriter, s)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1920,"end":1921,"code":"n","nodeType":"Identifier","column":0,"line":0,"namePos":1920,"name":"n","object":null},{"children":[],"start":1923,"end":1926,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":1923,"name":"err","object":null}],"tokenPos":1927,"token":42,"rhs":[{"children":[],"start":1929,"end":1964,"code":"io.WriteString(w.ResponseWriter, s)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1929,"end":1943,"code":"io.WriteString","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1929,"end":1931,"code":"io","nodeType":"Identifier","column":0,"line":0,"namePos":1929,"name":"io","object":null},"sel":{"children":[],"start":1932,"end":1943,"code":"WriteString","nodeType":"Identifier","column":0,"line":0,"namePos":1932,"name":"WriteString","object":null}},"lparen":0,"args":[{"children":[],"start":1944,"end":1960,"code":"w.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1944,"end":1945,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1944,"name":"w","object":null},"sel":{"children":[],"start":1946,"end":1960,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1946,"name":"ResponseWriter","object":null}},{"children":[],"start":1962,"end":1963,"code":"s","nodeType":"Identifier","column":0,"line":0,"namePos":1962,"name":"s","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":1966,"end":1977,"code":"w.size += n","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1966,"end":1972,"code":"w.size","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1966,"end":1967,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1966,"name":"w","object":null},"sel":{"children":[],"start":1968,"end":1972,"code":"size","nodeType":"Identifier","column":0,"line":0,"namePos":1968,"name":"size","object":null}}],"tokenPos":1973,"token":23,"rhs":[{"children":[],"start":1976,"end":1977,"code":"n","nodeType":"Identifier","column":0,"line":0,"namePos":1976,"name":"n","object":null}]},{"children":[],"start":1979,"end":1985,"code":"return","nodeType":"ReturnStatement","column":0,"line":0,"return":1979,"results":[]}],"rbrace":1986}},{"children":[],"start":1989,"end":2047,"code":"func (w *responseWriter) Status() int {\n\treturn w.status\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":1994,"end":2013,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1994,"list":[{"children":[],"start":1995,"end":2012,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1995,"end":1996,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1995,"name":"w","object":null}],"type":{"children":[],"start":1997,"end":2012,"code":"*responseWriter","nodeType":"StarExpression","column":0,"line":0,"star":1997,"expression":{"children":[],"start":1998,"end":2012,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1998,"name":"responseWriter","object":null}},"tag":null,"comment":null}],"closing":2012},"name":{"children":[],"start":2014,"end":2020,"code":"Status","nodeType":"Identifier","column":0,"line":0,"namePos":2014,"name":"Status","object":null},"type":{"children":[],"start":1989,"end":2026,"code":"func() int","nodeType":"FunctionType","column":0,"line":0,"Function":1989,"TypeParams":null,"Params":{"children":[],"start":2020,"end":2022,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2020,"list":[],"closing":2021},"Results":{"children":[],"start":2023,"end":2026,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":0,"list":[{"children":[],"start":2023,"end":2026,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":2023,"end":2026,"code":"int","nodeType":"Identifier","column":0,"line":0,"namePos":2023,"name":"int","object":null},"tag":null,"comment":null}],"closing":0}},"body":{"children":[],"start":2027,"end":2047,"code":"{\n\treturn w.status\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":2027,"list":[{"children":[],"start":2030,"end":2045,"code":"return w.status","nodeType":"ReturnStatement","column":0,"line":0,"return":2030,"results":[{"children":[],"start":2037,"end":2045,"code":"w.status","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2037,"end":2038,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2037,"name":"w","object":null},"sel":{"children":[],"start":2039,"end":2045,"code":"status","nodeType":"Identifier","column":0,"line":0,"namePos":2039,"name":"status","object":null}}]}],"rbrace":2046}},{"children":[],"start":2049,"end":2103,"code":"func (w *responseWriter) Size() int {\n\treturn w.size\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":2054,"end":2073,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2054,"list":[{"children":[],"start":2055,"end":2072,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":2055,"end":2056,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2055,"name":"w","object":null}],"type":{"children":[],"start":2057,"end":2072,"code":"*responseWriter","nodeType":"StarExpression","column":0,"line":0,"star":2057,"expression":{"children":[],"start":2058,"end":2072,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2058,"name":"responseWriter","object":null}},"tag":null,"comment":null}],"closing":2072},"name":{"children":[],"start":2074,"end":2078,"code":"Size","nodeType":"Identifier","column":0,"line":0,"namePos":2074,"name":"Size","object":null},"type":{"children":[],"start":2049,"end":2084,"code":"func() int","nodeType":"FunctionType","column":0,"line":0,"Function":2049,"TypeParams":null,"Params":{"children":[],"start":2078,"end":2080,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2078,"list":[],"closing":2079},"Results":{"children":[],"start":2081,"end":2084,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":0,"list":[{"children":[],"start":2081,"end":2084,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":2081,"end":2084,"code":"int","nodeType":"Identifier","column":0,"line":0,"namePos":2081,"name":"int","object":null},"tag":null,"comment":null}],"closing":0}},"body":{"children":[],"start":2085,"end":2103,"code":"{\n\treturn w.size\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":2085,"list":[{"children":[],"start":2088,"end":2101,"code":"return w.size","nodeType":"ReturnStatement","column":0,"line":0,"return":2088,"results":[{"children":[],"start":2095,"end":2101,"code":"w.size","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2095,"end":2096,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2095,"name":"w","object":null},"sel":{"children":[],"start":2097,"end":2101,"code":"size","nodeType":"Identifier","column":0,"line":0,"namePos":2097,"name":"size","object":null}}]}],"rbrace":2102}},{"children":[],"start":2105,"end":2176,"code":"func (w *responseWriter) Written() bool {\n\treturn w.size != noWritten\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":2110,"end":2129,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2110,"list":[{"children":[],"start":2111,"end":2128,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":2111,"end":2112,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2111,"name":"w","object":null}],"type":{"children":[],"start":2113,"end":2128,"code":"*responseWriter","nodeType":"StarExpression","column":0,"line":0,"star":2113,"expression":{"children":[],"start":2114,"end":2128,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2114,"name":"responseWriter","object":null}},"tag":null,"comment":null}],"closing":2128},"name":{"children":[],"start":2130,"end":2137,"code":"Written","nodeType":"Identifier","column":0,"line":0,"namePos":2130,"name":"Written","object":null},"type":{"children":[],"start":2105,"end":2144,"code":"func() bool","nodeType":"FunctionType","column":0,"line":0,"Function":2105,"TypeParams":null,"Params":{"children":[],"start":2137,"end":2139,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2137,"list":[],"closing":2138},"Results":{"children":[],"start":2140,"end":2144,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":0,"list":[{"children":[],"start":2140,"end":2144,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":2140,"end":2144,"code":"bool","nodeType":"Identifier","column":0,"line":0,"namePos":2140,"name":"bool","object":null},"tag":null,"comment":null}],"closing":0}},"body":{"children":[],"start":2145,"end":2176,"code":"{\n\treturn w.size != noWritten\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":2145,"list":[{"children":[],"start":2148,"end":2174,"code":"return w.size != noWritten","nodeType":"ReturnStatement","column":0,"line":0,"return":2148,"results":[{"children":[],"start":2155,"end":2174,"code":"w.size != noWritten","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":2155,"end":2161,"code":"w.size","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2155,"end":2156,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2155,"name":"w","object":null},"sel":{"children":[],"start":2157,"end":2161,"code":"size","nodeType":"Identifier","column":0,"line":0,"namePos":2157,"name":"size","object":null}},"opPos":2162,"op":44,"rightExpression":{"children":[],"start":2165,"end":2174,"code":"noWritten","nodeType":"Identifier","column":0,"line":0,"namePos":2165,"name":"noWritten","object":null}}]}],"rbrace":2175}},{"children":[],"start":2228,"end":2385,"code":"func (w *responseWriter) Hijack() (net.Conn, *bufio.ReadWriter, error) {\n\tif w.size \u003c 0 {\n\t\tw.size = 0\n\t}\n\treturn w.ResponseWriter.(http.Hijacker).Hijack()\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":2233,"end":2252,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2233,"list":[{"children":[],"start":2234,"end":2251,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":2234,"end":2235,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2234,"name":"w","object":null}],"type":{"children":[],"start":2236,"end":2251,"code":"*responseWriter","nodeType":"StarExpression","column":0,"line":0,"star":2236,"expression":{"children":[],"start":2237,"end":2251,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2237,"name":"responseWriter","object":null}},"tag":null,"comment":null}],"closing":2251},"name":{"children":[],"start":2253,"end":2259,"code":"Hijack","nodeType":"Identifier","column":0,"line":0,"namePos":2253,"name":"Hijack","object":null},"type":{"children":[],"start":2228,"end":2298,"code":"func() (net.Conn, *bufio.ReadWriter, error)","nodeType":"FunctionType","column":0,"line":0,"Function":2228,"TypeParams":null,"Params":{"children":[],"start":2259,"end":2261,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2259,"list":[],"closing":2260},"Results":{"children":[],"start":2262,"end":2298,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2262,"list":[{"children":[],"start":2263,"end":2271,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":2263,"end":2271,"code":"net.Conn","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2263,"end":2266,"code":"net","nodeType":"Identifier","column":0,"line":0,"namePos":2263,"name":"net","object":null},"sel":{"children":[],"start":2267,"end":2271,"code":"Conn","nodeType":"Identifier","column":0,"line":0,"namePos":2267,"name":"Conn","object":null}},"tag":null,"comment":null},{"children":[],"start":2273,"end":2290,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":2273,"end":2290,"code":"*bufio.ReadWriter","nodeType":"StarExpression","column":0,"line":0,"star":2273,"expression":{"children":[],"start":2274,"end":2290,"code":"bufio.ReadWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2274,"end":2279,"code":"bufio","nodeType":"Identifier","column":0,"line":0,"namePos":2274,"name":"bufio","object":null},"sel":{"children":[],"start":2280,"end":2290,"code":"ReadWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2280,"name":"ReadWriter","object":null}}},"tag":null,"comment":null},{"children":[],"start":2292,"end":2297,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":2292,"end":2297,"code":"error","nodeType":"Identifier","column":0,"line":0,"namePos":2292,"name":"error","object":null},"tag":null,"comment":null}],"closing":2297}},"body":{"children":[],"start":2299,"end":2385,"code":"{\n\tif w.size \u003c 0 {\n\t\tw.size = 0\n\t}\n\treturn w.ResponseWriter.(http.Hijacker).Hijack()\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":2299,"list":[{"children":[],"start":2302,"end":2333,"code":"if w.size \u003c 0 {\n\tw.size = 0\n}","nodeType":"IfStatement","column":0,"line":0,"if":2302,"initialization":null,"condition":{"children":[],"start":2305,"end":2315,"code":"w.size \u003c 0","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":2305,"end":2311,"code":"w.size","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2305,"end":2306,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2305,"name":"w","object":null},"sel":{"children":[],"start":2307,"end":2311,"code":"size","nodeType":"Identifier","column":0,"line":0,"namePos":2307,"name":"size","object":null}},"opPos":2312,"op":40,"rightExpression":{"children":[],"start":2314,"end":2315,"code":"0","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2314,"kind":5,"value":"0"}},"body":{"children":[],"start":2316,"end":2333,"code":"{\n\tw.size = 0\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":2316,"list":[{"children":[],"start":2320,"end":2330,"code":"w.size = 0","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2320,"end":2326,"code":"w.size","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2320,"end":2321,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2320,"name":"w","object":null},"sel":{"children":[],"start":2322,"end":2326,"code":"size","nodeType":"Identifier","column":0,"line":0,"namePos":2322,"name":"size","object":null}}],"tokenPos":2327,"token":42,"rhs":[{"children":[],"start":2329,"end":2330,"code":"0","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2329,"kind":5,"value":"0"}]}],"rbrace":2332},"else":null},{"children":[],"start":2335,"end":2383,"code":"return w.ResponseWriter.(http.Hijacker).Hijack()","nodeType":"ReturnStatement","column":0,"line":0,"return":2335,"results":[{"children":[],"start":2342,"end":2383,"code":"w.ResponseWriter.(http.Hijacker).Hijack()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2342,"end":2381,"code":"w.ResponseWriter.(http.Hijacker).Hijack","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2342,"end":2374,"code":"w.ResponseWriter.(http.Hijacker)","nodeType":"TypeAssertExpression","column":0,"line":0,"expression":{"children":[],"start":2342,"end":2358,"code":"w.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2342,"end":2343,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2342,"name":"w","object":null},"sel":{"children":[],"start":2344,"end":2358,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2344,"name":"ResponseWriter","object":null}},"lparen":2359,"type":{"children":[],"start":2360,"end":2373,"code":"http.Hijacker","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2360,"end":2364,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":2360,"name":"http","object":null},"sel":{"children":[],"start":2365,"end":2373,"code":"Hijacker","nodeType":"Identifier","column":0,"line":0,"namePos":2365,"name":"Hijacker","object":null}},"rparen":2373},"sel":{"children":[],"start":2375,"end":2381,"code":"Hijack","nodeType":"Identifier","column":0,"line":0,"namePos":2375,"name":"Hijack","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]}],"rbrace":2384}},{"children":[],"start":2447,"end":2561,"code":"func (w *responseWriter) CloseNotify() \u003c-chan bool {\n\treturn w.ResponseWriter.(http.CloseNotifier).CloseNotify()\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":2452,"end":2471,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2452,"list":[{"children":[],"start":2453,"end":2470,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":2453,"end":2454,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2453,"name":"w","object":null}],"type":{"children":[],"start":2455,"end":2470,"code":"*responseWriter","nodeType":"StarExpression","column":0,"line":0,"star":2455,"expression":{"children":[],"start":2456,"end":2470,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2456,"name":"responseWriter","object":null}},"tag":null,"comment":null}],"closing":2470},"name":{"children":[],"start":2472,"end":2483,"code":"CloseNotify","nodeType":"Identifier","column":0,"line":0,"namePos":2472,"name":"CloseNotify","object":null},"type":{"children":[],"start":2447,"end":2497,"code":"func() \u003c-chan bool","nodeType":"FunctionType","column":0,"line":0,"Function":2447,"TypeParams":null,"Params":{"children":[],"start":2483,"end":2485,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2483,"list":[],"closing":2484},"Results":{"children":[],"start":2486,"end":2497,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":0,"list":[{"children":[],"start":2486,"end":2497,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":2486,"end":2497,"code":"\u003c-chan bool","nodeType":"ChanelType","column":0,"line":0,"begin":2486,"arrow":2486,"direction":2,"value":{"children":[],"start":2493,"end":2497,"code":"bool","nodeType":"Identifier","column":0,"line":0,"namePos":2493,"name":"bool","object":null}},"tag":null,"comment":null}],"closing":0}},"body":{"children":[],"start":2498,"end":2561,"code":"{\n\treturn w.ResponseWriter.(http.CloseNotifier).CloseNotify()\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":2498,"list":[{"children":[],"start":2501,"end":2559,"code":"return w.ResponseWriter.(http.CloseNotifier).CloseNotify()","nodeType":"ReturnStatement","column":0,"line":0,"return":2501,"results":[{"children":[],"start":2508,"end":2559,"code":"w.ResponseWriter.(http.CloseNotifier).CloseNotify()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2508,"end":2557,"code":"w.ResponseWriter.(http.CloseNotifier).CloseNotify","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2508,"end":2545,"code":"w.ResponseWriter.(http.CloseNotifier)","nodeType":"TypeAssertExpression","column":0,"line":0,"expression":{"children":[],"start":2508,"end":2524,"code":"w.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2508,"end":2509,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2508,"name":"w","object":null},"sel":{"children":[],"start":2510,"end":2524,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2510,"name":"ResponseWriter","object":null}},"lparen":2525,"type":{"children":[],"start":2526,"end":2544,"code":"http.CloseNotifier","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2526,"end":2530,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":2526,"name":"http","object":null},"sel":{"children":[],"start":2531,"end":2544,"code":"CloseNotifier","nodeType":"Identifier","column":0,"line":0,"namePos":2531,"name":"CloseNotifier","object":null}},"rparen":2544},"sel":{"children":[],"start":2546,"end":2557,"code":"CloseNotify","nodeType":"Identifier","column":0,"line":0,"namePos":2546,"name":"CloseNotify","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]}],"rbrace":2560}},{"children":[],"start":2611,"end":2708,"code":"func (w *responseWriter) Flush() {\n\tw.WriteHeaderNow()\n\tw.ResponseWriter.(http.Flusher).Flush()\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":2616,"end":2635,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2616,"list":[{"children":[],"start":2617,"end":2634,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":2617,"end":2618,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2617,"name":"w","object":null}],"type":{"children":[],"start":2619,"end":2634,"code":"*responseWriter","nodeType":"StarExpression","column":0,"line":0,"star":2619,"expression":{"children":[],"start":2620,"end":2634,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2620,"name":"responseWriter","object":null}},"tag":null,"comment":null}],"closing":2634},"name":{"children":[],"start":2636,"end":2641,"code":"Flush","nodeType":"Identifier","column":0,"line":0,"namePos":2636,"name":"Flush","object":null},"type":{"children":[],"start":2611,"end":2643,"code":"func()","nodeType":"FunctionType","column":0,"line":0,"Function":2611,"TypeParams":null,"Params":{"children":[],"start":2641,"end":2643,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2641,"list":[],"closing":2642},"Results":null},"body":{"children":[],"start":2644,"end":2708,"code":"{\n\tw.WriteHeaderNow()\n\tw.ResponseWriter.(http.Flusher).Flush()\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":2644,"list":[{"children":[],"start":2647,"end":2665,"code":"w.WriteHeaderNow()","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2647,"end":2665,"code":"w.WriteHeaderNow()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2647,"end":2663,"code":"w.WriteHeaderNow","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2647,"end":2648,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2647,"name":"w","object":null},"sel":{"children":[],"start":2649,"end":2663,"code":"WriteHeaderNow","nodeType":"Identifier","column":0,"line":0,"namePos":2649,"name":"WriteHeaderNow","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}},{"children":[],"start":2667,"end":2706,"code":"w.ResponseWriter.(http.Flusher).Flush()","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2667,"end":2706,"code":"w.ResponseWriter.(http.Flusher).Flush()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2667,"end":2704,"code":"w.ResponseWriter.(http.Flusher).Flush","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2667,"end":2698,"code":"w.ResponseWriter.(http.Flusher)","nodeType":"TypeAssertExpression","column":0,"line":0,"expression":{"children":[],"start":2667,"end":2683,"code":"w.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2667,"end":2668,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2667,"name":"w","object":null},"sel":{"children":[],"start":2669,"end":2683,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2669,"name":"ResponseWriter","object":null}},"lparen":2684,"type":{"children":[],"start":2685,"end":2697,"code":"http.Flusher","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2685,"end":2689,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":2685,"name":"http","object":null},"sel":{"children":[],"start":2690,"end":2697,"code":"Flusher","nodeType":"Identifier","column":0,"line":0,"namePos":2690,"name":"Flusher","object":null}},"rparen":2697},"sel":{"children":[],"start":2699,"end":2704,"code":"Flush","nodeType":"Identifier","column":0,"line":0,"namePos":2699,"name":"Flush","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}}],"rbrace":2707}},{"children":[],"start":2710,"end":2854,"code":"func (w *responseWriter) Pusher() (pusher http.Pusher) {\n\tif pusher, ok := w.ResponseWriter.(http.Pusher); ok {\n\t\treturn pusher\n\t}\n\treturn nil\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":2715,"end":2734,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2715,"list":[{"children":[],"start":2716,"end":2733,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":2716,"end":2717,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2716,"name":"w","object":null}],"type":{"children":[],"start":2718,"end":2733,"code":"*responseWriter","nodeType":"StarExpression","column":0,"line":0,"star":2718,"expression":{"children":[],"start":2719,"end":2733,"code":"responseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2719,"name":"responseWriter","object":null}},"tag":null,"comment":null}],"closing":2733},"name":{"children":[],"start":2735,"end":2741,"code":"Pusher","nodeType":"Identifier","column":0,"line":0,"namePos":2735,"name":"Pusher","object":null},"type":{"children":[],"start":2710,"end":2764,"code":"func() (pusher http.Pusher)","nodeType":"FunctionType","column":0,"line":0,"Function":2710,"TypeParams":null,"Params":{"children":[],"start":2741,"end":2743,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2741,"list":[],"closing":2742},"Results":{"children":[],"start":2744,"end":2764,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2744,"list":[{"children":[],"start":2745,"end":2763,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":2745,"end":2751,"code":"pusher","nodeType":"Identifier","column":0,"line":0,"namePos":2745,"name":"pusher","object":null}],"type":{"children":[],"start":2752,"end":2763,"code":"http.Pusher","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2752,"end":2756,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":2752,"name":"http","object":null},"sel":{"children":[],"start":2757,"end":2763,"code":"Pusher","nodeType":"Identifier","column":0,"line":0,"namePos":2757,"name":"Pusher","object":null}},"tag":null,"comment":null}],"closing":2763}},"body":{"children":[],"start":2765,"end":2854,"code":"{\n\tif pusher, ok := w.ResponseWriter.(http.Pusher); ok {\n\t\treturn pusher\n\t}\n\treturn nil\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":2765,"list":[{"children":[],"start":2768,"end":2840,"code":"if pusher, ok := w.ResponseWriter.(http.Pusher); ok {\n\treturn pusher\n}","nodeType":"IfStatement","column":0,"line":0,"if":2768,"initialization":{"children":[],"start":2771,"end":2815,"code":"pusher, ok := w.ResponseWriter.(http.Pusher)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2771,"end":2777,"code":"pusher","nodeType":"Identifier","column":0,"line":0,"namePos":2771,"name":"pusher","object":null},{"children":[],"start":2779,"end":2781,"code":"ok","nodeType":"Identifier","column":0,"line":0,"namePos":2779,"name":"ok","object":null}],"tokenPos":2782,"token":47,"rhs":[{"children":[],"start":2785,"end":2815,"code":"w.ResponseWriter.(http.Pusher)","nodeType":"TypeAssertExpression","column":0,"line":0,"expression":{"children":[],"start":2785,"end":2801,"code":"w.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2785,"end":2786,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2785,"name":"w","object":null},"sel":{"children":[],"start":2787,"end":2801,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":2787,"name":"ResponseWriter","object":null}},"lparen":2802,"type":{"children":[],"start":2803,"end":2814,"code":"http.Pusher","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2803,"end":2807,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":2803,"name":"http","object":null},"sel":{"children":[],"start":2808,"end":2814,"code":"Pusher","nodeType":"Identifier","column":0,"line":0,"namePos":2808,"name":"Pusher","object":null}},"rparen":2814}]},"condition":{"children":[],"start":2817,"end":2819,"code":"ok","nodeType":"Identifier","column":0,"line":0,"namePos":2817,"name":"ok","object":null},"body":{"children":[],"start":2820,"end":2840,"code":"{\n\treturn pusher\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":2820,"list":[{"children":[],"start":2824,"end":2837,"code":"return pusher","nodeType":"ReturnStatement","column":0,"line":0,"return":2824,"results":[{"children":[],"start":2831,"end":2837,"code":"pusher","nodeType":"Identifier","column":0,"line":0,"namePos":2831,"name":"pusher","object":null}]}],"rbrace":2839},"else":null},{"children":[],"start":2842,"end":2852,"code":"return nil","nodeType":"ReturnStatement","column":0,"line":0,"return":2842,"results":[{"children":[],"start":2849,"end":2852,"code":"nil","nodeType":"Identifier","column":0,"line":0,"namePos":2849,"name":"nil","object":null}]}],"rbrace":2853}}],"fileStart":1,"fileEnd":2855,"scope":{"outer":null,"objects":null},"imports":[],"unresolved":[],"comments":[],"goVersion":""}