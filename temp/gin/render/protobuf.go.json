{"children":[],"start":160,"end":852,"code":"package render\n\nimport (\n\t\"net/http\"\n\t\"google.golang.org/protobuf/proto\"\n)\n\ntype ProtoBuf struct{ Data any }\n\nvar protobufContentType = []string{\"application/x-protobuf\"}\n\nfunc (r ProtoBuf) Render(w http.ResponseWriter) error {\n\tr.WriteContentType(w)\n\tbytes, err := proto.Marshal(r.Data.(proto.Message))\n\tif err != nil {\n\t\treturn err\n\t}\n\t_, err = w.Write(bytes)\n\treturn err\n}\nfunc (r ProtoBuf) WriteContentType(w http.ResponseWriter) {\n\twriteContentType(w, protobufContentType)\n}\n","nodeType":"File","column":0,"line":0,"doc":null,"package":160,"name":{"children":[],"start":168,"end":174,"code":"render","nodeType":"Identifier","column":0,"line":0,"namePos":168,"name":"render","object":null},"declarations":[{"children":[],"start":176,"end":235,"code":"import (\n\t\"net/http\"\n\t\"google.golang.org/protobuf/proto\"\n)","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":176,"token":75,"lparen":183,"specifications":[{"children":[],"start":186,"end":196,"code":"\"net/http\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":186,"end":196,"code":"\"net/http\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":186,"kind":9,"value":"\"net/http\""},"comment":null,"endPosition":0},{"children":[],"start":199,"end":233,"code":"\"google.golang.org/protobuf/proto\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":199,"end":233,"code":"\"google.golang.org/protobuf/proto\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":199,"kind":9,"value":"\"google.golang.org/protobuf/proto\""},"comment":null,"endPosition":0}],"rparen":234},{"children":[],"start":286,"end":320,"code":"type ProtoBuf struct{ Data any }","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":286,"token":84,"lparen":0,"specifications":[{"children":[],"start":291,"end":320,"code":"ProtoBuf struct{ Data any }","nodeType":"TypeSpecification","column":0,"line":0,"doc":null,"name":{"children":[],"start":291,"end":299,"code":"ProtoBuf","nodeType":"Identifier","column":0,"line":0,"namePos":291,"name":"ProtoBuf","object":null},"typeParams":null,"assign":0,"type":{"children":[],"start":300,"end":320,"code":"struct{ Data any }","nodeType":"StructType","column":0,"line":0,"struct":300,"fields":{"children":[],"start":307,"end":320,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":307,"list":[{"children":[],"start":310,"end":318,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":310,"end":314,"code":"Data","nodeType":"Identifier","column":0,"line":0,"namePos":310,"name":"Data","object":null}],"type":{"children":[],"start":315,"end":318,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":315,"name":"any","object":null},"tag":null,"comment":null}],"closing":319},"incomplete":false},"comment":null}],"rparen":0},{"children":[],"start":322,"end":382,"code":"var protobufContentType = []string{\"application/x-protobuf\"}","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":322,"token":85,"lparen":0,"specifications":[{"children":[],"start":326,"end":382,"code":"protobufContentType = []string{\"application/x-protobuf\"}","nodeType":"ValueSpecification","column":0,"line":0,"doc":null,"names":[{"children":[],"start":326,"end":345,"code":"protobufContentType","nodeType":"Identifier","column":0,"line":0,"namePos":326,"name":"protobufContentType","object":null}],"type":null,"values":[{"children":[],"start":348,"end":382,"code":"[]string{\"application/x-protobuf\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":348,"end":356,"code":"[]string","nodeType":"ArrayType","column":0,"line":0,"leftBracket":348,"length":null,"element":{"children":[],"start":350,"end":356,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":350,"name":"string","object":null}},"lbrace":356,"elements":[{"children":[],"start":357,"end":381,"code":"\"application/x-protobuf\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":357,"kind":9,"value":"\"application/x-protobuf\""}],"rbrace":381,"incomplete":false}],"comment":null}],"rparen":0},{"children":[],"start":482,"end":687,"code":"func (r ProtoBuf) Render(w http.ResponseWriter) error {\n\tr.WriteContentType(w)\n\tbytes, err := proto.Marshal(r.Data.(proto.Message))\n\tif err != nil {\n\t\treturn err\n\t}\n\t_, err = w.Write(bytes)\n\treturn err\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":487,"end":499,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":487,"list":[{"children":[],"start":488,"end":498,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":488,"end":489,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":488,"name":"r","object":null}],"type":{"children":[],"start":490,"end":498,"code":"ProtoBuf","nodeType":"Identifier","column":0,"line":0,"namePos":490,"name":"ProtoBuf","object":null},"tag":null,"comment":null}],"closing":498},"name":{"children":[],"start":500,"end":506,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":500,"name":"Render","object":null},"type":{"children":[],"start":482,"end":535,"code":"func(w http.ResponseWriter) error","nodeType":"FunctionType","column":0,"line":0,"Function":482,"TypeParams":null,"Params":{"children":[],"start":506,"end":529,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":506,"list":[{"children":[],"start":507,"end":528,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":507,"end":508,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":507,"name":"w","object":null}],"type":{"children":[],"start":509,"end":528,"code":"http.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":509,"end":513,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":509,"name":"http","object":null},"sel":{"children":[],"start":514,"end":528,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":514,"name":"ResponseWriter","object":null}},"tag":null,"comment":null}],"closing":528},"Results":{"children":[],"start":530,"end":535,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":0,"list":[{"children":[],"start":530,"end":535,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":530,"end":535,"code":"error","nodeType":"Identifier","column":0,"line":0,"namePos":530,"name":"error","object":null},"tag":null,"comment":null}],"closing":0}},"body":{"children":[],"start":536,"end":687,"code":"{\n\tr.WriteContentType(w)\n\tbytes, err := proto.Marshal(r.Data.(proto.Message))\n\tif err != nil {\n\t\treturn err\n\t}\n\t_, err = w.Write(bytes)\n\treturn err\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":536,"list":[{"children":[],"start":539,"end":560,"code":"r.WriteContentType(w)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":539,"end":560,"code":"r.WriteContentType(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":539,"end":557,"code":"r.WriteContentType","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":539,"end":540,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":539,"name":"r","object":null},"sel":{"children":[],"start":541,"end":557,"code":"WriteContentType","nodeType":"Identifier","column":0,"line":0,"namePos":541,"name":"WriteContentType","object":null}},"lparen":0,"args":[{"children":[],"start":558,"end":559,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":558,"name":"w","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":563,"end":614,"code":"bytes, err := proto.Marshal(r.Data.(proto.Message))","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":563,"end":568,"code":"bytes","nodeType":"Identifier","column":0,"line":0,"namePos":563,"name":"bytes","object":null},{"children":[],"start":570,"end":573,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":570,"name":"err","object":null}],"tokenPos":574,"token":47,"rhs":[{"children":[],"start":577,"end":614,"code":"proto.Marshal(r.Data.(proto.Message))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":577,"end":590,"code":"proto.Marshal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":577,"end":582,"code":"proto","nodeType":"Identifier","column":0,"line":0,"namePos":577,"name":"proto","object":null},"sel":{"children":[],"start":583,"end":590,"code":"Marshal","nodeType":"Identifier","column":0,"line":0,"namePos":583,"name":"Marshal","object":null}},"lparen":0,"args":[{"children":[],"start":591,"end":613,"code":"r.Data.(proto.Message)","nodeType":"TypeAssertExpression","column":0,"line":0,"expression":{"children":[],"start":591,"end":597,"code":"r.Data","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":591,"end":592,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":591,"name":"r","object":null},"sel":{"children":[],"start":593,"end":597,"code":"Data","nodeType":"Identifier","column":0,"line":0,"namePos":593,"name":"Data","object":null}},"lparen":598,"type":{"children":[],"start":599,"end":612,"code":"proto.Message","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":599,"end":604,"code":"proto","nodeType":"Identifier","column":0,"line":0,"namePos":599,"name":"proto","object":null},"sel":{"children":[],"start":605,"end":612,"code":"Message","nodeType":"Identifier","column":0,"line":0,"namePos":605,"name":"Message","object":null}},"rparen":612}],"ellipsis":0,"rparen":0}]},{"children":[],"start":616,"end":647,"code":"if err != nil {\n\treturn err\n}","nodeType":"IfStatement","column":0,"line":0,"if":616,"initialization":null,"condition":{"children":[],"start":619,"end":629,"code":"err != nil","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":619,"end":622,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":619,"name":"err","object":null},"opPos":623,"op":44,"rightExpression":{"children":[],"start":626,"end":629,"code":"nil","nodeType":"Identifier","column":0,"line":0,"namePos":626,"name":"nil","object":null}},"body":{"children":[],"start":630,"end":647,"code":"{\n\treturn err\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":630,"list":[{"children":[],"start":634,"end":644,"code":"return err","nodeType":"ReturnStatement","column":0,"line":0,"return":634,"results":[{"children":[],"start":641,"end":644,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":641,"name":"err","object":null}]}],"rbrace":646},"else":null},{"children":[],"start":650,"end":673,"code":"_, err = w.Write(bytes)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":650,"end":651,"code":"_","nodeType":"Identifier","column":0,"line":0,"namePos":650,"name":"_","object":null},{"children":[],"start":653,"end":656,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":653,"name":"err","object":null}],"tokenPos":657,"token":42,"rhs":[{"children":[],"start":659,"end":673,"code":"w.Write(bytes)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":659,"end":666,"code":"w.Write","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":659,"end":660,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":659,"name":"w","object":null},"sel":{"children":[],"start":661,"end":666,"code":"Write","nodeType":"Identifier","column":0,"line":0,"namePos":661,"name":"Write","object":null}},"lparen":0,"args":[{"children":[],"start":667,"end":672,"code":"bytes","nodeType":"Identifier","column":0,"line":0,"namePos":667,"name":"bytes","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":675,"end":685,"code":"return err","nodeType":"ReturnStatement","column":0,"line":0,"return":675,"results":[{"children":[],"start":682,"end":685,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":682,"name":"err","object":null}]}],"rbrace":686}},{"children":[],"start":749,"end":852,"code":"func (r ProtoBuf) WriteContentType(w http.ResponseWriter) {\n\twriteContentType(w, protobufContentType)\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":754,"end":766,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":754,"list":[{"children":[],"start":755,"end":765,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":755,"end":756,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":755,"name":"r","object":null}],"type":{"children":[],"start":757,"end":765,"code":"ProtoBuf","nodeType":"Identifier","column":0,"line":0,"namePos":757,"name":"ProtoBuf","object":null},"tag":null,"comment":null}],"closing":765},"name":{"children":[],"start":767,"end":783,"code":"WriteContentType","nodeType":"Identifier","column":0,"line":0,"namePos":767,"name":"WriteContentType","object":null},"type":{"children":[],"start":749,"end":806,"code":"func(w http.ResponseWriter)","nodeType":"FunctionType","column":0,"line":0,"Function":749,"TypeParams":null,"Params":{"children":[],"start":783,"end":806,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":783,"list":[{"children":[],"start":784,"end":805,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":784,"end":785,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":784,"name":"w","object":null}],"type":{"children":[],"start":786,"end":805,"code":"http.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":786,"end":790,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":786,"name":"http","object":null},"sel":{"children":[],"start":791,"end":805,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":791,"name":"ResponseWriter","object":null}},"tag":null,"comment":null}],"closing":805},"Results":null},"body":{"children":[],"start":807,"end":852,"code":"{\n\twriteContentType(w, protobufContentType)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":807,"list":[{"children":[],"start":810,"end":850,"code":"writeContentType(w, protobufContentType)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":810,"end":850,"code":"writeContentType(w, protobufContentType)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":810,"end":826,"code":"writeContentType","nodeType":"Identifier","column":0,"line":0,"namePos":810,"name":"writeContentType","object":null},"lparen":0,"args":[{"children":[],"start":827,"end":828,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":827,"name":"w","object":null},{"children":[],"start":830,"end":849,"code":"protobufContentType","nodeType":"Identifier","column":0,"line":0,"namePos":830,"name":"protobufContentType","object":null}],"ellipsis":0,"rparen":0}}],"rbrace":851}}],"fileStart":1,"fileEnd":853,"scope":{"outer":null,"objects":null},"imports":[],"unresolved":[],"comments":[],"goVersion":""}