{"children":[],"start":160,"end":1208,"code":"package render\n\nimport (\n\t\"io\"\n\t\"net/http\"\n\t\"strconv\"\n)\n\ntype Reader struct {\n\tContentType\tstring\n\tContentLength\tint64\n\tReader\t\tio.Reader\n\tHeaders\t\tmap[string]string\n}\n\nfunc (r Reader) Render(w http.ResponseWriter) (err error) {\n\tr.WriteContentType(w)\n\tif r.ContentLength \u003e= 0 {\n\t\tif r.Headers == nil {\n\t\t\tr.Headers = map[string]string{}\n\t\t}\n\t\tr.Headers[\"Content-Length\"] = strconv.FormatInt(r.ContentLength, 10)\n\t}\n\tr.writeHeaders(w, r.Headers)\n\t_, err = io.Copy(w, r.Reader)\n\treturn\n}\nfunc (r Reader) WriteContentType(w http.ResponseWriter) {\n\twriteContentType(w, []string{r.ContentType})\n}\nfunc (r Reader) writeHeaders(w http.ResponseWriter, headers map[string]string) {\n\theader := w.Header()\n\tfor k, v := range headers {\n\t\tif header.Get(k) == \"\" {\n\t\t\theader.Set(k, v)\n\t\t}\n\t}\n}\n","nodeType":"File","column":0,"line":0,"doc":null,"package":160,"name":{"children":[],"start":168,"end":174,"code":"render","nodeType":"Identifier","column":0,"line":0,"namePos":168,"name":"render","object":null},"declarations":[{"children":[],"start":176,"end":215,"code":"import (\n\t\"io\"\n\t\"net/http\"\n\t\"strconv\"\n)","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":176,"token":75,"lparen":183,"specifications":[{"children":[],"start":186,"end":190,"code":"\"io\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":186,"end":190,"code":"\"io\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":186,"kind":9,"value":"\"io\""},"comment":null,"endPosition":0},{"children":[],"start":192,"end":202,"code":"\"net/http\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":192,"end":202,"code":"\"net/http\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":192,"kind":9,"value":"\"net/http\""},"comment":null,"endPosition":0},{"children":[],"start":204,"end":213,"code":"\"strconv\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":204,"end":213,"code":"\"strconv\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":204,"kind":9,"value":"\"strconv\""},"comment":null,"endPosition":0}],"rparen":214},{"children":[],"start":308,"end":431,"code":"type Reader struct {\n\tContentType\tstring\n\tContentLength\tint64\n\tReader\t\tio.Reader\n\tHeaders\t\tmap[string]string\n}","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":308,"token":84,"lparen":0,"specifications":[{"children":[],"start":313,"end":431,"code":"Reader struct {\n\tContentType\tstring\n\tContentLength\tint64\n\tReader\t\tio.Reader\n\tHeaders\t\tmap[string]string\n}","nodeType":"TypeSpecification","column":0,"line":0,"doc":null,"name":{"children":[],"start":313,"end":319,"code":"Reader","nodeType":"Identifier","column":0,"line":0,"namePos":313,"name":"Reader","object":null},"typeParams":null,"assign":0,"type":{"children":[],"start":320,"end":431,"code":"struct {\n\tContentType\tstring\n\tContentLength\tint64\n\tReader\t\tio.Reader\n\tHeaders\t\tmap[string]string\n}","nodeType":"StructType","column":0,"line":0,"struct":320,"fields":{"children":[],"start":327,"end":431,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":327,"list":[{"children":[],"start":330,"end":350,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":330,"end":341,"code":"ContentType","nodeType":"Identifier","column":0,"line":0,"namePos":330,"name":"ContentType","object":null}],"type":{"children":[],"start":344,"end":350,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":344,"name":"string","object":null},"tag":null,"comment":null},{"children":[],"start":352,"end":371,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":352,"end":365,"code":"ContentLength","nodeType":"Identifier","column":0,"line":0,"namePos":352,"name":"ContentLength","object":null}],"type":{"children":[],"start":366,"end":371,"code":"int64","nodeType":"Identifier","column":0,"line":0,"namePos":366,"name":"int64","object":null},"tag":null,"comment":null},{"children":[],"start":373,"end":396,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":373,"end":379,"code":"Reader","nodeType":"Identifier","column":0,"line":0,"namePos":373,"name":"Reader","object":null}],"type":{"children":[],"start":387,"end":396,"code":"io.Reader","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":387,"end":389,"code":"io","nodeType":"Identifier","column":0,"line":0,"namePos":387,"name":"io","object":null},"sel":{"children":[],"start":390,"end":396,"code":"Reader","nodeType":"Identifier","column":0,"line":0,"namePos":390,"name":"Reader","object":null}},"tag":null,"comment":null},{"children":[],"start":398,"end":429,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":398,"end":405,"code":"Headers","nodeType":"Identifier","column":0,"line":0,"namePos":398,"name":"Headers","object":null}],"type":{"children":[],"start":412,"end":429,"code":"map[string]string","nodeType":"MapType","column":0,"line":0,"map":412,"key":{"children":[],"start":416,"end":422,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":416,"name":"string","object":null},"value":{"children":[],"start":423,"end":429,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":423,"name":"string","object":null}},"tag":null,"comment":null}],"closing":430},"incomplete":false},"comment":null}],"rparen":0},{"children":[],"start":501,"end":818,"code":"func (r Reader) Render(w http.ResponseWriter) (err error) {\n\tr.WriteContentType(w)\n\tif r.ContentLength \u003e= 0 {\n\t\tif r.Headers == nil {\n\t\t\tr.Headers = map[string]string{}\n\t\t}\n\t\tr.Headers[\"Content-Length\"] = strconv.FormatInt(r.ContentLength, 10)\n\t}\n\tr.writeHeaders(w, r.Headers)\n\t_, err = io.Copy(w, r.Reader)\n\treturn\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":506,"end":516,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":506,"list":[{"children":[],"start":507,"end":515,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":507,"end":508,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":507,"name":"r","object":null}],"type":{"children":[],"start":509,"end":515,"code":"Reader","nodeType":"Identifier","column":0,"line":0,"namePos":509,"name":"Reader","object":null},"tag":null,"comment":null}],"closing":515},"name":{"children":[],"start":517,"end":523,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":517,"name":"Render","object":null},"type":{"children":[],"start":501,"end":558,"code":"func(w http.ResponseWriter) (err error)","nodeType":"FunctionType","column":0,"line":0,"Function":501,"TypeParams":null,"Params":{"children":[],"start":523,"end":546,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":523,"list":[{"children":[],"start":524,"end":545,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":524,"end":525,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":524,"name":"w","object":null}],"type":{"children":[],"start":526,"end":545,"code":"http.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":526,"end":530,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":526,"name":"http","object":null},"sel":{"children":[],"start":531,"end":545,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":531,"name":"ResponseWriter","object":null}},"tag":null,"comment":null}],"closing":545},"Results":{"children":[],"start":547,"end":558,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":547,"list":[{"children":[],"start":548,"end":557,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":548,"end":551,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":548,"name":"err","object":null}],"type":{"children":[],"start":552,"end":557,"code":"error","nodeType":"Identifier","column":0,"line":0,"namePos":552,"name":"error","object":null},"tag":null,"comment":null}],"closing":557}},"body":{"children":[],"start":559,"end":818,"code":"{\n\tr.WriteContentType(w)\n\tif r.ContentLength \u003e= 0 {\n\t\tif r.Headers == nil {\n\t\t\tr.Headers = map[string]string{}\n\t\t}\n\t\tr.Headers[\"Content-Length\"] = strconv.FormatInt(r.ContentLength, 10)\n\t}\n\tr.writeHeaders(w, r.Headers)\n\t_, err = io.Copy(w, r.Reader)\n\treturn\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":559,"list":[{"children":[],"start":562,"end":583,"code":"r.WriteContentType(w)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":562,"end":583,"code":"r.WriteContentType(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":562,"end":580,"code":"r.WriteContentType","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":562,"end":563,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":562,"name":"r","object":null},"sel":{"children":[],"start":564,"end":580,"code":"WriteContentType","nodeType":"Identifier","column":0,"line":0,"namePos":564,"name":"WriteContentType","object":null}},"lparen":0,"args":[{"children":[],"start":581,"end":582,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":581,"name":"w","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":585,"end":747,"code":"if r.ContentLength \u003e= 0 {\n\tif r.Headers == nil {\n\t\tr.Headers = map[string]string{}\n\t}\n\tr.Headers[\"Content-Length\"] = strconv.FormatInt(r.ContentLength, 10)\n}","nodeType":"IfStatement","column":0,"line":0,"if":585,"initialization":null,"condition":{"children":[],"start":588,"end":608,"code":"r.ContentLength \u003e= 0","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":588,"end":603,"code":"r.ContentLength","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":588,"end":589,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":588,"name":"r","object":null},"sel":{"children":[],"start":590,"end":603,"code":"ContentLength","nodeType":"Identifier","column":0,"line":0,"namePos":590,"name":"ContentLength","object":null}},"opPos":604,"op":46,"rightExpression":{"children":[],"start":607,"end":608,"code":"0","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":607,"kind":5,"value":"0"}},"body":{"children":[],"start":609,"end":747,"code":"{\n\tif r.Headers == nil {\n\t\tr.Headers = map[string]string{}\n\t}\n\tr.Headers[\"Content-Length\"] = strconv.FormatInt(r.ContentLength, 10)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":609,"list":[{"children":[],"start":613,"end":673,"code":"if r.Headers == nil {\n\tr.Headers = map[string]string{}\n}","nodeType":"IfStatement","column":0,"line":0,"if":613,"initialization":null,"condition":{"children":[],"start":616,"end":632,"code":"r.Headers == nil","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":616,"end":625,"code":"r.Headers","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":616,"end":617,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":616,"name":"r","object":null},"sel":{"children":[],"start":618,"end":625,"code":"Headers","nodeType":"Identifier","column":0,"line":0,"namePos":618,"name":"Headers","object":null}},"opPos":626,"op":39,"rightExpression":{"children":[],"start":629,"end":632,"code":"nil","nodeType":"Identifier","column":0,"line":0,"namePos":629,"name":"nil","object":null}},"body":{"children":[],"start":633,"end":673,"code":"{\n\tr.Headers = map[string]string{}\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":633,"list":[{"children":[],"start":638,"end":669,"code":"r.Headers = map[string]string{}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":638,"end":647,"code":"r.Headers","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":638,"end":639,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":638,"name":"r","object":null},"sel":{"children":[],"start":640,"end":647,"code":"Headers","nodeType":"Identifier","column":0,"line":0,"namePos":640,"name":"Headers","object":null}}],"tokenPos":648,"token":42,"rhs":[{"children":[],"start":650,"end":669,"code":"map[string]string{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":650,"end":667,"code":"map[string]string","nodeType":"MapType","column":0,"line":0,"map":650,"key":{"children":[],"start":654,"end":660,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":654,"name":"string","object":null},"value":{"children":[],"start":661,"end":667,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":661,"name":"string","object":null}},"lbrace":667,"elements":[],"rbrace":668,"incomplete":false}]}],"rbrace":672},"else":null},{"children":[],"start":676,"end":744,"code":"r.Headers[\"Content-Length\"] = strconv.FormatInt(r.ContentLength, 10)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":676,"end":703,"code":"r.Headers[\"Content-Length\"]","nodeType":"IndexExpression","column":0,"line":0,"expression":{"children":[],"start":676,"end":685,"code":"r.Headers","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":676,"end":677,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":676,"name":"r","object":null},"sel":{"children":[],"start":678,"end":685,"code":"Headers","nodeType":"Identifier","column":0,"line":0,"namePos":678,"name":"Headers","object":null}},"leftBracket":685,"index":{"children":[],"start":686,"end":702,"code":"\"Content-Length\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":686,"kind":9,"value":"\"Content-Length\""},"rightBracket":702}],"tokenPos":704,"token":42,"rhs":[{"children":[],"start":706,"end":744,"code":"strconv.FormatInt(r.ContentLength, 10)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":706,"end":723,"code":"strconv.FormatInt","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":706,"end":713,"code":"strconv","nodeType":"Identifier","column":0,"line":0,"namePos":706,"name":"strconv","object":null},"sel":{"children":[],"start":714,"end":723,"code":"FormatInt","nodeType":"Identifier","column":0,"line":0,"namePos":714,"name":"FormatInt","object":null}},"lparen":0,"args":[{"children":[],"start":724,"end":739,"code":"r.ContentLength","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":724,"end":725,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":724,"name":"r","object":null},"sel":{"children":[],"start":726,"end":739,"code":"ContentLength","nodeType":"Identifier","column":0,"line":0,"namePos":726,"name":"ContentLength","object":null}},{"children":[],"start":741,"end":743,"code":"10","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":741,"kind":5,"value":"10"}],"ellipsis":0,"rparen":0}]}],"rbrace":746},"else":null},{"children":[],"start":749,"end":777,"code":"r.writeHeaders(w, r.Headers)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":749,"end":777,"code":"r.writeHeaders(w, r.Headers)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":749,"end":763,"code":"r.writeHeaders","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":749,"end":750,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":749,"name":"r","object":null},"sel":{"children":[],"start":751,"end":763,"code":"writeHeaders","nodeType":"Identifier","column":0,"line":0,"namePos":751,"name":"writeHeaders","object":null}},"lparen":0,"args":[{"children":[],"start":764,"end":765,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":764,"name":"w","object":null},{"children":[],"start":767,"end":776,"code":"r.Headers","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":767,"end":768,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":767,"name":"r","object":null},"sel":{"children":[],"start":769,"end":776,"code":"Headers","nodeType":"Identifier","column":0,"line":0,"namePos":769,"name":"Headers","object":null}}],"ellipsis":0,"rparen":0}},{"children":[],"start":779,"end":808,"code":"_, err = io.Copy(w, r.Reader)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":779,"end":780,"code":"_","nodeType":"Identifier","column":0,"line":0,"namePos":779,"name":"_","object":null},{"children":[],"start":782,"end":785,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":782,"name":"err","object":null}],"tokenPos":786,"token":42,"rhs":[{"children":[],"start":788,"end":808,"code":"io.Copy(w, r.Reader)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":788,"end":795,"code":"io.Copy","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":788,"end":790,"code":"io","nodeType":"Identifier","column":0,"line":0,"namePos":788,"name":"io","object":null},"sel":{"children":[],"start":791,"end":795,"code":"Copy","nodeType":"Identifier","column":0,"line":0,"namePos":791,"name":"Copy","object":null}},"lparen":0,"args":[{"children":[],"start":796,"end":797,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":796,"name":"w","object":null},{"children":[],"start":799,"end":807,"code":"r.Reader","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":799,"end":800,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":799,"name":"r","object":null},"sel":{"children":[],"start":801,"end":807,"code":"Reader","nodeType":"Identifier","column":0,"line":0,"namePos":801,"name":"Reader","object":null}}],"ellipsis":0,"rparen":0}]},{"children":[],"start":810,"end":816,"code":"return","nodeType":"ReturnStatement","column":0,"line":0,"return":810,"results":[]}],"rbrace":817}},{"children":[],"start":876,"end":981,"code":"func (r Reader) WriteContentType(w http.ResponseWriter) {\n\twriteContentType(w, []string{r.ContentType})\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":881,"end":891,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":881,"list":[{"children":[],"start":882,"end":890,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":882,"end":883,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":882,"name":"r","object":null}],"type":{"children":[],"start":884,"end":890,"code":"Reader","nodeType":"Identifier","column":0,"line":0,"namePos":884,"name":"Reader","object":null},"tag":null,"comment":null}],"closing":890},"name":{"children":[],"start":892,"end":908,"code":"WriteContentType","nodeType":"Identifier","column":0,"line":0,"namePos":892,"name":"WriteContentType","object":null},"type":{"children":[],"start":876,"end":931,"code":"func(w http.ResponseWriter)","nodeType":"FunctionType","column":0,"line":0,"Function":876,"TypeParams":null,"Params":{"children":[],"start":908,"end":931,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":908,"list":[{"children":[],"start":909,"end":930,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":909,"end":910,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":909,"name":"w","object":null}],"type":{"children":[],"start":911,"end":930,"code":"http.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":911,"end":915,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":911,"name":"http","object":null},"sel":{"children":[],"start":916,"end":930,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":916,"name":"ResponseWriter","object":null}},"tag":null,"comment":null}],"closing":930},"Results":null},"body":{"children":[],"start":932,"end":981,"code":"{\n\twriteContentType(w, []string{r.ContentType})\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":932,"list":[{"children":[],"start":935,"end":979,"code":"writeContentType(w, []string{r.ContentType})","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":935,"end":979,"code":"writeContentType(w, []string{r.ContentType})","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":935,"end":951,"code":"writeContentType","nodeType":"Identifier","column":0,"line":0,"namePos":935,"name":"writeContentType","object":null},"lparen":0,"args":[{"children":[],"start":952,"end":953,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":952,"name":"w","object":null},{"children":[],"start":955,"end":978,"code":"[]string{r.ContentType}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":955,"end":963,"code":"[]string","nodeType":"ArrayType","column":0,"line":0,"leftBracket":955,"length":null,"element":{"children":[],"start":957,"end":963,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":957,"name":"string","object":null}},"lbrace":963,"elements":[{"children":[],"start":964,"end":977,"code":"r.ContentType","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":964,"end":965,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":964,"name":"r","object":null},"sel":{"children":[],"start":966,"end":977,"code":"ContentType","nodeType":"Identifier","column":0,"line":0,"namePos":966,"name":"ContentType","object":null}}],"rbrace":977,"incomplete":false}],"ellipsis":0,"rparen":0}}],"rbrace":980}},{"children":[],"start":1021,"end":1208,"code":"func (r Reader) writeHeaders(w http.ResponseWriter, headers map[string]string) {\n\theader := w.Header()\n\tfor k, v := range headers {\n\t\tif header.Get(k) == \"\" {\n\t\t\theader.Set(k, v)\n\t\t}\n\t}\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":1026,"end":1036,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1026,"list":[{"children":[],"start":1027,"end":1035,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1027,"end":1028,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":1027,"name":"r","object":null}],"type":{"children":[],"start":1029,"end":1035,"code":"Reader","nodeType":"Identifier","column":0,"line":0,"namePos":1029,"name":"Reader","object":null},"tag":null,"comment":null}],"closing":1035},"name":{"children":[],"start":1037,"end":1049,"code":"writeHeaders","nodeType":"Identifier","column":0,"line":0,"namePos":1037,"name":"writeHeaders","object":null},"type":{"children":[],"start":1021,"end":1099,"code":"func(w http.ResponseWriter, headers map[string]string)","nodeType":"FunctionType","column":0,"line":0,"Function":1021,"TypeParams":null,"Params":{"children":[],"start":1049,"end":1099,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1049,"list":[{"children":[],"start":1050,"end":1071,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1050,"end":1051,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1050,"name":"w","object":null}],"type":{"children":[],"start":1052,"end":1071,"code":"http.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1052,"end":1056,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":1052,"name":"http","object":null},"sel":{"children":[],"start":1057,"end":1071,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":1057,"name":"ResponseWriter","object":null}},"tag":null,"comment":null},{"children":[],"start":1073,"end":1098,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1073,"end":1080,"code":"headers","nodeType":"Identifier","column":0,"line":0,"namePos":1073,"name":"headers","object":null}],"type":{"children":[],"start":1081,"end":1098,"code":"map[string]string","nodeType":"MapType","column":0,"line":0,"map":1081,"key":{"children":[],"start":1085,"end":1091,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":1085,"name":"string","object":null},"value":{"children":[],"start":1092,"end":1098,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":1092,"name":"string","object":null}},"tag":null,"comment":null}],"closing":1098},"Results":null},"body":{"children":[],"start":1100,"end":1208,"code":"{\n\theader := w.Header()\n\tfor k, v := range headers {\n\t\tif header.Get(k) == \"\" {\n\t\t\theader.Set(k, v)\n\t\t}\n\t}\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1100,"list":[{"children":[],"start":1103,"end":1123,"code":"header := w.Header()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1103,"end":1109,"code":"header","nodeType":"Identifier","column":0,"line":0,"namePos":1103,"name":"header","object":null}],"tokenPos":1110,"token":47,"rhs":[{"children":[],"start":1113,"end":1123,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1113,"end":1121,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1113,"end":1114,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1113,"name":"w","object":null},"sel":{"children":[],"start":1115,"end":1121,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":1115,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":1125,"end":1206,"code":"for k, v := range headers {\n\tif header.Get(k) == \"\" {\n\t\theader.Set(k, v)\n\t}\n}","nodeType":"RangeStatement","column":0,"line":0,"for":1125,"key":{"children":[],"start":1129,"end":1130,"code":"k","nodeType":"Identifier","column":0,"line":0,"namePos":1129,"name":"k","object":null},"value":{"children":[],"start":1132,"end":1133,"code":"v","nodeType":"Identifier","column":0,"line":0,"namePos":1132,"name":"v","object":null},"tokenPos":1134,"token":47,"range":1137,"expression":{"children":[],"start":1143,"end":1150,"code":"headers","nodeType":"Identifier","column":0,"line":0,"namePos":1143,"name":"headers","object":null},"body":{"children":[],"start":1151,"end":1206,"code":"{\n\tif header.Get(k) == \"\" {\n\t\theader.Set(k, v)\n\t}\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1151,"list":[{"children":[],"start":1155,"end":1203,"code":"if header.Get(k) == \"\" {\n\theader.Set(k, v)\n}","nodeType":"IfStatement","column":0,"line":0,"if":1155,"initialization":null,"condition":{"children":[],"start":1158,"end":1177,"code":"header.Get(k) == \"\"","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":1158,"end":1171,"code":"header.Get(k)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1158,"end":1168,"code":"header.Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1158,"end":1164,"code":"header","nodeType":"Identifier","column":0,"line":0,"namePos":1158,"name":"header","object":null},"sel":{"children":[],"start":1165,"end":1168,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":1165,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":1169,"end":1170,"code":"k","nodeType":"Identifier","column":0,"line":0,"namePos":1169,"name":"k","object":null}],"ellipsis":0,"rparen":0},"opPos":1172,"op":39,"rightExpression":{"children":[],"start":1175,"end":1177,"code":"\"\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1175,"kind":9,"value":"\"\""}},"body":{"children":[],"start":1178,"end":1203,"code":"{\n\theader.Set(k, v)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1178,"list":[{"children":[],"start":1183,"end":1199,"code":"header.Set(k, v)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1183,"end":1199,"code":"header.Set(k, v)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1183,"end":1193,"code":"header.Set","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1183,"end":1189,"code":"header","nodeType":"Identifier","column":0,"line":0,"namePos":1183,"name":"header","object":null},"sel":{"children":[],"start":1190,"end":1193,"code":"Set","nodeType":"Identifier","column":0,"line":0,"namePos":1190,"name":"Set","object":null}},"lparen":0,"args":[{"children":[],"start":1194,"end":1195,"code":"k","nodeType":"Identifier","column":0,"line":0,"namePos":1194,"name":"k","object":null},{"children":[],"start":1197,"end":1198,"code":"v","nodeType":"Identifier","column":0,"line":0,"namePos":1197,"name":"v","object":null}],"ellipsis":0,"rparen":0}}],"rbrace":1202},"else":null}],"rbrace":1205}}],"rbrace":1207}}],"fileStart":1,"fileEnd":1209,"scope":{"outer":null,"objects":null},"imports":[],"unresolved":[],"comments":[],"goVersion":""}