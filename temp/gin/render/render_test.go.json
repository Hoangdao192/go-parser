{"children":[],"start":168,"end":15471,"code":"package render\n\nimport (\n\t\"encoding/xml\"\n\t\"errors\"\n\t\"html/template\"\n\t\"net\"\n\t\"net/http\"\n\t\"net/http/httptest\"\n\t\"strconv\"\n\t\"strings\"\n\t\"testing\"\n\t\"github.com/gin-gonic/gin/internal/json\"\n\ttestdata \"github.com/gin-gonic/gin/testdata/protoexample\"\n\t\"github.com/stretchr/testify/assert\"\n\t\"google.golang.org/protobuf/proto\"\n)\n\nfunc TestRenderJSON(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\", \"html\": \"\u003cb\u003e\"}\n\t(JSON{data}).WriteContentType(w)\n\tassert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n\terr := (JSON{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\",\\\"html\\\":\\\"\\\\u003cb\\\\u003e\\\"}\", w.Body.String())\n\tassert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}\nfunc TestRenderJSONError(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := make(chan int)\n\tassert.Error(t, (JSON{data}).Render(w))\n}\nfunc TestRenderIndentedJSON(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\", \"bar\": \"foo\"}\n\terr := (IndentedJSON{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"{\\n    \\\"bar\\\": \\\"foo\\\",\\n    \\\"foo\\\": \\\"bar\\\"\\n}\", w.Body.String())\n\tassert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}\nfunc TestRenderIndentedJSONPanics(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := make(chan int)\n\terr := (IndentedJSON{data}).Render(w)\n\tassert.Error(t, err)\n}\nfunc TestRenderSecureJSON(t *testing.T) {\n\tw1 := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\"}\n\t(SecureJSON{\"while(1);\", data}).WriteContentType(w1)\n\tassert.Equal(t, \"application/json; charset=utf-8\", w1.Header().Get(\"Content-Type\"))\n\terr1 := (SecureJSON{\"while(1);\", data}).Render(w1)\n\tassert.NoError(t, err1)\n\tassert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\"}\", w1.Body.String())\n\tassert.Equal(t, \"application/json; charset=utf-8\", w1.Header().Get(\"Content-Type\"))\n\tw2 := httptest.NewRecorder()\n\tdatas := []map[string]any{{\"foo\": \"bar\"}, {\"bar\": \"foo\"}}\n\terr2 := (SecureJSON{\"while(1);\", datas}).Render(w2)\n\tassert.NoError(t, err2)\n\tassert.Equal(t, \"while(1);[{\\\"foo\\\":\\\"bar\\\"},{\\\"bar\\\":\\\"foo\\\"}]\", w2.Body.String())\n\tassert.Equal(t, \"application/json; charset=utf-8\", w2.Header().Get(\"Content-Type\"))\n}\nfunc TestRenderSecureJSONFail(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := make(chan int)\n\terr := (SecureJSON{\"while(1);\", data}).Render(w)\n\tassert.Error(t, err)\n}\nfunc TestRenderJsonpJSON(t *testing.T) {\n\tw1 := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\"}\n\t(JsonpJSON{\"x\", data}).WriteContentType(w1)\n\tassert.Equal(t, \"application/javascript; charset=utf-8\", w1.Header().Get(\"Content-Type\"))\n\terr1 := (JsonpJSON{\"x\", data}).Render(w1)\n\tassert.NoError(t, err1)\n\tassert.Equal(t, \"x({\\\"foo\\\":\\\"bar\\\"});\", w1.Body.String())\n\tassert.Equal(t, \"application/javascript; charset=utf-8\", w1.Header().Get(\"Content-Type\"))\n\tw2 := httptest.NewRecorder()\n\tdatas := []map[string]any{{\"foo\": \"bar\"}, {\"bar\": \"foo\"}}\n\terr2 := (JsonpJSON{\"x\", datas}).Render(w2)\n\tassert.NoError(t, err2)\n\tassert.Equal(t, \"x([{\\\"foo\\\":\\\"bar\\\"},{\\\"bar\\\":\\\"foo\\\"}]);\", w2.Body.String())\n\tassert.Equal(t, \"application/javascript; charset=utf-8\", w2.Header().Get(\"Content-Type\"))\n}\n\ntype errorWriter struct {\n\tbufString\tstring\n\t*httptest.ResponseRecorder\n}\n\nvar _ http.ResponseWriter = (*errorWriter)(nil)\n\nfunc (w *errorWriter) Write(buf []byte) (int, error) {\n\tif string(buf) == w.bufString {\n\t\treturn 0, errors.New(`write \"` + w.bufString + `\" error`)\n\t}\n\treturn w.ResponseRecorder.Write(buf)\n}\nfunc TestRenderJsonpJSONError(t *testing.T) {\n\tew := \u0026errorWriter{ResponseRecorder: httptest.NewRecorder()}\n\tjsonpJSON := JsonpJSON{Callback: \"foo\", Data: map[string]string{\"foo\": \"bar\"}}\n\tcb := template.JSEscapeString(jsonpJSON.Callback)\n\tew.bufString = cb\n\terr := jsonpJSON.Render(ew)\n\tassert.Equal(t, `write \"`+cb+`\" error`, err.Error())\n\tew.bufString = `(`\n\terr = jsonpJSON.Render(ew)\n\tassert.Equal(t, `write \"`+`(`+`\" error`, err.Error())\n\tdata, _ := json.Marshal(jsonpJSON.Data)\n\tew.bufString = string(data)\n\terr = jsonpJSON.Render(ew)\n\tassert.Equal(t, `write \"`+string(data)+`\" error`, err.Error())\n\tew.bufString = `);`\n\terr = jsonpJSON.Render(ew)\n\tassert.Equal(t, `write \"`+`);`+`\" error`, err.Error())\n}\nfunc TestRenderJsonpJSONError2(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\"}\n\t(JsonpJSON{\"\", data}).WriteContentType(w)\n\tassert.Equal(t, \"application/javascript; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n\te := (JsonpJSON{\"\", data}).Render(w)\n\tassert.NoError(t, e)\n\tassert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\"}\", w.Body.String())\n\tassert.Equal(t, \"application/javascript; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}\nfunc TestRenderJsonpJSONFail(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := make(chan int)\n\terr := (JsonpJSON{\"x\", data}).Render(w)\n\tassert.Error(t, err)\n}\nfunc TestRenderAsciiJSON(t *testing.T) {\n\tw1 := httptest.NewRecorder()\n\tdata1 := map[string]any{\"lang\": \"GO语言\", \"tag\": \"\u003cbr\u003e\"}\n\terr := (AsciiJSON{data1}).Render(w1)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"{\\\"lang\\\":\\\"GO\\\\u8bed\\\\u8a00\\\",\\\"tag\\\":\\\"\\\\u003cbr\\\\u003e\\\"}\", w1.Body.String())\n\tassert.Equal(t, \"application/json\", w1.Header().Get(\"Content-Type\"))\n\tw2 := httptest.NewRecorder()\n\tdata2 := 3.1415926\n\terr = (AsciiJSON{data2}).Render(w2)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"3.1415926\", w2.Body.String())\n}\nfunc TestRenderAsciiJSONFail(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := make(chan int)\n\tassert.Error(t, (AsciiJSON{data}).Render(w))\n}\nfunc TestRenderPureJSON(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\", \"html\": \"\u003cb\u003e\"}\n\terr := (PureJSON{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\",\\\"html\\\":\\\"\u003cb\u003e\\\"}\\n\", w.Body.String())\n\tassert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}\n\ntype xmlmap map[string]any\n\nfunc (h xmlmap) MarshalXML(e *xml.Encoder, start xml.StartElement) error {\n\tstart.Name = xml.Name{Space: \"\", Local: \"map\"}\n\tif err := e.EncodeToken(start); err != nil {\n\t\treturn err\n\t}\n\tfor key, value := range h {\n\t\telem := xml.StartElement{Name: xml.Name{Space: \"\", Local: key}, Attr: []xml.Attr{}}\n\t\tif err := e.EncodeElement(value, elem); err != nil {\n\t\t\treturn err\n\t\t}\n\t}\n\treturn e.EncodeToken(xml.EndElement{Name: start.Name})\n}\nfunc TestRenderYAML(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := `\na : Easy!\nb:\n\tc: 2\n\td: [3, 4]\n\t`\n\t(YAML{data}).WriteContentType(w)\n\tassert.Equal(t, \"application/x-yaml; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n\terr := (YAML{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"|4-\\n    a : Easy!\\n    b:\\n    \\tc: 2\\n    \\td: [3, 4]\\n    \\t\\n\", w.Body.String())\n\tassert.Equal(t, \"application/x-yaml; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}\n\ntype fail struct{}\n\nfunc (ft *fail) MarshalYAML() (any, error) {\n\treturn nil, errors.New(\"fail\")\n}\nfunc TestRenderYAMLFail(t *testing.T) {\n\tw := httptest.NewRecorder()\n\terr := (YAML{\u0026fail{}}).Render(w)\n\tassert.Error(t, err)\n}\nfunc TestRenderTOML(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\", \"html\": \"\u003cb\u003e\"}\n\t(TOML{data}).WriteContentType(w)\n\tassert.Equal(t, \"application/toml; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n\terr := (TOML{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"foo = 'bar'\\nhtml = '\u003cb\u003e'\\n\", w.Body.String())\n\tassert.Equal(t, \"application/toml; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}\nfunc TestRenderTOMLFail(t *testing.T) {\n\tw := httptest.NewRecorder()\n\terr := (TOML{net.IPv4bcast}).Render(w)\n\tassert.Error(t, err)\n}\nfunc TestRenderProtoBuf(t *testing.T) {\n\tw := httptest.NewRecorder()\n\treps := []int64{int64(1), int64(2)}\n\tlabel := \"test\"\n\tdata := \u0026testdata.Test{Label: \u0026label, Reps: reps}\n\t(ProtoBuf{data}).WriteContentType(w)\n\tprotoData, err := proto.Marshal(data)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"application/x-protobuf\", w.Header().Get(\"Content-Type\"))\n\terr = (ProtoBuf{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, string(protoData), w.Body.String())\n\tassert.Equal(t, \"application/x-protobuf\", w.Header().Get(\"Content-Type\"))\n}\nfunc TestRenderProtoBufFail(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := \u0026testdata.Test{}\n\terr := (ProtoBuf{data}).Render(w)\n\tassert.Error(t, err)\n}\nfunc TestRenderXML(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := xmlmap{\"foo\": \"bar\"}\n\t(XML{data}).WriteContentType(w)\n\tassert.Equal(t, \"application/xml; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n\terr := (XML{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"\u003cmap\u003e\u003cfoo\u003ebar\u003c/foo\u003e\u003c/map\u003e\", w.Body.String())\n\tassert.Equal(t, \"application/xml; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}\nfunc TestRenderRedirect(t *testing.T) {\n\treq, err := http.NewRequest(\"GET\", \"/test-redirect\", nil)\n\tassert.NoError(t, err)\n\tdata1 := Redirect{Code: http.StatusMovedPermanently, Request: req, Location: \"/new/location\"}\n\tw := httptest.NewRecorder()\n\terr = data1.Render(w)\n\tassert.NoError(t, err)\n\tdata2 := Redirect{Code: http.StatusOK, Request: req, Location: \"/new/location\"}\n\tw = httptest.NewRecorder()\n\tassert.PanicsWithValue(t, \"Cannot redirect with status code 200\", func() {\n\t\terr := data2.Render(w)\n\t\tassert.NoError(t, err)\n\t})\n\tdata3 := Redirect{Code: http.StatusCreated, Request: req, Location: \"/new/location\"}\n\tw = httptest.NewRecorder()\n\terr = data3.Render(w)\n\tassert.NoError(t, err)\n\tdata2.WriteContentType(w)\n}\nfunc TestRenderData(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := []byte(\"#!PNG some raw data\")\n\terr := (Data{ContentType: \"image/png\", Data: data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"#!PNG some raw data\", w.Body.String())\n\tassert.Equal(t, \"image/png\", w.Header().Get(\"Content-Type\"))\n}\nfunc TestRenderString(t *testing.T) {\n\tw := httptest.NewRecorder()\n\t(String{Format: \"hello %s %d\", Data: []any{}}).WriteContentType(w)\n\tassert.Equal(t, \"text/plain; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n\terr := (String{Format: \"hola %s %d\", Data: []any{\"manu\", 2}}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"hola manu 2\", w.Body.String())\n\tassert.Equal(t, \"text/plain; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}\nfunc TestRenderStringLenZero(t *testing.T) {\n\tw := httptest.NewRecorder()\n\terr := (String{Format: \"hola %s %d\", Data: []any{}}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"hola %s %d\", w.Body.String())\n\tassert.Equal(t, \"text/plain; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}\nfunc TestRenderHTMLTemplate(t *testing.T) {\n\tw := httptest.NewRecorder()\n\ttempl := template.Must(template.New(\"t\").Parse(`Hello {{.name}}`))\n\thtmlRender := HTMLProduction{Template: templ}\n\tinstance := htmlRender.Instance(\"t\", map[string]any{\"name\": \"alexandernyquist\"})\n\terr := instance.Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"Hello alexandernyquist\", w.Body.String())\n\tassert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}\nfunc TestRenderHTMLTemplateEmptyName(t *testing.T) {\n\tw := httptest.NewRecorder()\n\ttempl := template.Must(template.New(\"\").Parse(`Hello {{.name}}`))\n\thtmlRender := HTMLProduction{Template: templ}\n\tinstance := htmlRender.Instance(\"\", map[string]any{\"name\": \"alexandernyquist\"})\n\terr := instance.Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"Hello alexandernyquist\", w.Body.String())\n\tassert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}\nfunc TestRenderHTMLDebugFiles(t *testing.T) {\n\tw := httptest.NewRecorder()\n\thtmlRender := HTMLDebug{Files: []string{\"../testdata/template/hello.tmpl\"}, Glob: \"\", Delims: Delims{Left: \"{[{\", Right: \"}]}\"}, FuncMap: nil}\n\tinstance := htmlRender.Instance(\"hello.tmpl\", map[string]any{\"name\": \"thinkerou\"})\n\terr := instance.Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"\u003ch1\u003eHello thinkerou\u003c/h1\u003e\", w.Body.String())\n\tassert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}\nfunc TestRenderHTMLDebugGlob(t *testing.T) {\n\tw := httptest.NewRecorder()\n\thtmlRender := HTMLDebug{Files: nil, Glob: \"../testdata/template/hello*\", Delims: Delims{Left: \"{[{\", Right: \"}]}\"}, FuncMap: nil}\n\tinstance := htmlRender.Instance(\"hello.tmpl\", map[string]any{\"name\": \"thinkerou\"})\n\terr := instance.Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"\u003ch1\u003eHello thinkerou\u003c/h1\u003e\", w.Body.String())\n\tassert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}\nfunc TestRenderHTMLDebugPanics(t *testing.T) {\n\thtmlRender := HTMLDebug{Files: nil, Glob: \"\", Delims: Delims{\"{{\", \"}}\"}, FuncMap: nil}\n\tassert.Panics(t, func() {\n\t\thtmlRender.Instance(\"\", nil)\n\t})\n}\nfunc TestRenderReader(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tbody := \"#!PNG some raw data\"\n\theaders := make(map[string]string)\n\theaders[\"Content-Disposition\"] = `attachment; filename=\"filename.png\"`\n\theaders[\"x-request-id\"] = \"requestId\"\n\terr := (Reader{ContentLength: int64(len(body)), ContentType: \"image/png\", Reader: strings.NewReader(body), Headers: headers}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, body, w.Body.String())\n\tassert.Equal(t, \"image/png\", w.Header().Get(\"Content-Type\"))\n\tassert.Equal(t, strconv.Itoa(len(body)), w.Header().Get(\"Content-Length\"))\n\tassert.Equal(t, headers[\"Content-Disposition\"], w.Header().Get(\"Content-Disposition\"))\n\tassert.Equal(t, headers[\"x-request-id\"], w.Header().Get(\"x-request-id\"))\n}\nfunc TestRenderReaderNoContentLength(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tbody := \"#!PNG some raw data\"\n\theaders := make(map[string]string)\n\theaders[\"Content-Disposition\"] = `attachment; filename=\"filename.png\"`\n\theaders[\"x-request-id\"] = \"requestId\"\n\terr := (Reader{ContentLength: -1, ContentType: \"image/png\", Reader: strings.NewReader(body), Headers: headers}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, body, w.Body.String())\n\tassert.Equal(t, \"image/png\", w.Header().Get(\"Content-Type\"))\n\tassert.NotContains(t, \"Content-Length\", w.Header())\n\tassert.Equal(t, headers[\"Content-Disposition\"], w.Header().Get(\"Content-Disposition\"))\n\tassert.Equal(t, headers[\"x-request-id\"], w.Header().Get(\"x-request-id\"))\n}\nfunc TestRenderWriteError(t *testing.T) {\n\tdata := []interface{}{\"value1\", \"value2\"}\n\tprefix := \"my-prefix:\"\n\tr := SecureJSON{Data: data, Prefix: prefix}\n\tew := \u0026errorWriter{bufString: prefix, ResponseRecorder: httptest.NewRecorder()}\n\terr := r.Render(ew)\n\tassert.NotNil(t, err)\n\tassert.Equal(t, `write \"my-prefix:\" error`, err.Error())\n}\n","nodeType":"File","column":0,"line":0,"doc":null,"package":168,"name":{"children":[],"start":176,"end":182,"code":"render","nodeType":"Identifier","column":0,"line":0,"namePos":176,"name":"render","object":null},"declarations":[{"children":[],"start":184,"end":486,"code":"import (\n\t\"encoding/xml\"\n\t\"errors\"\n\t\"html/template\"\n\t\"net\"\n\t\"net/http\"\n\t\"net/http/httptest\"\n\t\"strconv\"\n\t\"strings\"\n\t\"testing\"\n\t\"github.com/gin-gonic/gin/internal/json\"\n\ttestdata \"github.com/gin-gonic/gin/testdata/protoexample\"\n\t\"github.com/stretchr/testify/assert\"\n\t\"google.golang.org/protobuf/proto\"\n)","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":184,"token":75,"lparen":191,"specifications":[{"children":[],"start":194,"end":208,"code":"\"encoding/xml\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":194,"end":208,"code":"\"encoding/xml\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":194,"kind":9,"value":"\"encoding/xml\""},"comment":null,"endPosition":0},{"children":[],"start":210,"end":218,"code":"\"errors\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":210,"end":218,"code":"\"errors\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":210,"kind":9,"value":"\"errors\""},"comment":null,"endPosition":0},{"children":[],"start":220,"end":235,"code":"\"html/template\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":220,"end":235,"code":"\"html/template\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":220,"kind":9,"value":"\"html/template\""},"comment":null,"endPosition":0},{"children":[],"start":237,"end":242,"code":"\"net\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":237,"end":242,"code":"\"net\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":237,"kind":9,"value":"\"net\""},"comment":null,"endPosition":0},{"children":[],"start":244,"end":254,"code":"\"net/http\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":244,"end":254,"code":"\"net/http\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":244,"kind":9,"value":"\"net/http\""},"comment":null,"endPosition":0},{"children":[],"start":256,"end":275,"code":"\"net/http/httptest\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":256,"end":275,"code":"\"net/http/httptest\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":256,"kind":9,"value":"\"net/http/httptest\""},"comment":null,"endPosition":0},{"children":[],"start":277,"end":286,"code":"\"strconv\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":277,"end":286,"code":"\"strconv\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":277,"kind":9,"value":"\"strconv\""},"comment":null,"endPosition":0},{"children":[],"start":288,"end":297,"code":"\"strings\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":288,"end":297,"code":"\"strings\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":288,"kind":9,"value":"\"strings\""},"comment":null,"endPosition":0},{"children":[],"start":299,"end":308,"code":"\"testing\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":299,"end":308,"code":"\"testing\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":299,"kind":9,"value":"\"testing\""},"comment":null,"endPosition":0},{"children":[],"start":311,"end":351,"code":"\"github.com/gin-gonic/gin/internal/json\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":311,"end":351,"code":"\"github.com/gin-gonic/gin/internal/json\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":311,"kind":9,"value":"\"github.com/gin-gonic/gin/internal/json\""},"comment":null,"endPosition":0},{"children":[],"start":353,"end":410,"code":"testdata \"github.com/gin-gonic/gin/testdata/protoexample\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":{"children":[],"start":353,"end":361,"code":"testdata","nodeType":"Identifier","column":0,"line":0,"namePos":353,"name":"testdata","object":null},"path":{"children":[],"start":362,"end":410,"code":"\"github.com/gin-gonic/gin/testdata/protoexample\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":362,"kind":9,"value":"\"github.com/gin-gonic/gin/testdata/protoexample\""},"comment":null,"endPosition":0},{"children":[],"start":412,"end":448,"code":"\"github.com/stretchr/testify/assert\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":412,"end":448,"code":"\"github.com/stretchr/testify/assert\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":412,"kind":9,"value":"\"github.com/stretchr/testify/assert\""},"comment":null,"endPosition":0},{"children":[],"start":450,"end":484,"code":"\"google.golang.org/protobuf/proto\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":450,"end":484,"code":"\"google.golang.org/protobuf/proto\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":450,"kind":9,"value":"\"google.golang.org/protobuf/proto\""},"comment":null,"endPosition":0}],"rparen":485},{"children":[],"start":523,"end":995,"code":"func TestRenderJSON(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\", \"html\": \"\u003cb\u003e\"}\n\t(JSON{data}).WriteContentType(w)\n\tassert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n\terr := (JSON{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\",\\\"html\\\":\\\"\\\\u003cb\\\\u003e\\\"}\", w.Body.String())\n\tassert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":528,"end":542,"code":"TestRenderJSON","nodeType":"Identifier","column":0,"line":0,"namePos":528,"name":"TestRenderJSON","object":null},"type":{"children":[],"start":523,"end":556,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":523,"TypeParams":null,"Params":{"children":[],"start":542,"end":556,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":542,"list":[{"children":[],"start":543,"end":555,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":543,"end":544,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":543,"name":"t","object":null}],"type":{"children":[],"start":545,"end":555,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":545,"expression":{"children":[],"start":546,"end":555,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":546,"end":553,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":546,"name":"testing","object":null},"sel":{"children":[],"start":554,"end":555,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":554,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":555},"Results":null},"body":{"children":[],"start":557,"end":995,"code":"{\n\tw := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\", \"html\": \"\u003cb\u003e\"}\n\t(JSON{data}).WriteContentType(w)\n\tassert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n\terr := (JSON{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\",\\\"html\\\":\\\"\\\\u003cb\\\\u003e\\\"}\", w.Body.String())\n\tassert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":557,"list":[{"children":[],"start":560,"end":587,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":560,"end":561,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":560,"name":"w","object":null}],"tokenPos":562,"token":47,"rhs":[{"children":[],"start":565,"end":587,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":565,"end":585,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":565,"end":573,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":565,"name":"httptest","object":null},"sel":{"children":[],"start":574,"end":585,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":574,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":589,"end":649,"code":"data := map[string]any{\"foo\": \"bar\", \"html\": \"\u003cb\u003e\"}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":589,"end":593,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":589,"name":"data","object":null}],"tokenPos":594,"token":47,"rhs":[{"children":[],"start":597,"end":649,"code":"map[string]any{\"foo\": \"bar\", \"html\": \"\u003cb\u003e\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":597,"end":611,"code":"map[string]any","nodeType":"MapType","column":0,"line":0,"map":597,"key":{"children":[],"start":601,"end":607,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":601,"name":"string","object":null},"value":{"children":[],"start":608,"end":611,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":608,"name":"any","object":null}},"lbrace":611,"elements":[{"children":[],"start":615,"end":628,"code":"\"foo\": \"bar\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":615,"end":620,"code":"\"foo\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":615,"kind":9,"value":"\"foo\""},"colon":0,"value":{"children":[],"start":623,"end":628,"code":"\"bar\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":623,"kind":9,"value":"\"bar\""}},{"children":[],"start":632,"end":645,"code":"\"html\": \"\u003cb\u003e\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":632,"end":638,"code":"\"html\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":632,"kind":9,"value":"\"html\""},"colon":0,"value":{"children":[],"start":640,"end":645,"code":"\"\u003cb\u003e\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":640,"kind":9,"value":"\"\u003cb\u003e\""}}],"rbrace":648,"incomplete":false}]},{"children":[],"start":652,"end":684,"code":"(JSON{data}).WriteContentType(w)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":652,"end":684,"code":"(JSON{data}).WriteContentType(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":652,"end":681,"code":"(JSON{data}).WriteContentType","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":652,"end":664,"code":"(JSON{data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":652,"expression":{"children":[],"start":653,"end":663,"code":"JSON{data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":653,"end":657,"code":"JSON","nodeType":"Identifier","column":0,"line":0,"namePos":653,"name":"JSON","object":null},"lbrace":657,"elements":[{"children":[],"start":658,"end":662,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":658,"name":"data","object":null}],"rbrace":662,"incomplete":false},"rparen":663},"sel":{"children":[],"start":665,"end":681,"code":"WriteContentType","nodeType":"Identifier","column":0,"line":0,"namePos":665,"name":"WriteContentType","object":null}},"lparen":0,"args":[{"children":[],"start":682,"end":683,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":682,"name":"w","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":686,"end":768,"code":"assert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":686,"end":768,"code":"assert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":686,"end":698,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":686,"end":692,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":686,"name":"assert","object":null},"sel":{"children":[],"start":693,"end":698,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":693,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":699,"end":700,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":699,"name":"t","object":null},{"children":[],"start":702,"end":735,"code":"\"application/json; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":702,"kind":9,"value":"\"application/json; charset=utf-8\""},{"children":[],"start":737,"end":767,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":737,"end":751,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":737,"end":747,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":737,"end":745,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":737,"end":738,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":737,"name":"w","object":null},"sel":{"children":[],"start":739,"end":745,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":739,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":748,"end":751,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":748,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":752,"end":766,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":752,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":771,"end":800,"code":"err := (JSON{data}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":771,"end":774,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":771,"name":"err","object":null}],"tokenPos":775,"token":47,"rhs":[{"children":[],"start":778,"end":800,"code":"(JSON{data}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":778,"end":797,"code":"(JSON{data}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":778,"end":790,"code":"(JSON{data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":778,"expression":{"children":[],"start":779,"end":789,"code":"JSON{data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":779,"end":783,"code":"JSON","nodeType":"Identifier","column":0,"line":0,"namePos":779,"name":"JSON","object":null},"lbrace":783,"elements":[{"children":[],"start":784,"end":788,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":784,"name":"data","object":null}],"rbrace":788,"incomplete":false},"rparen":789},"sel":{"children":[],"start":791,"end":797,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":791,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":798,"end":799,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":798,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":803,"end":825,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":803,"end":825,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":803,"end":817,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":803,"end":809,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":803,"name":"assert","object":null},"sel":{"children":[],"start":810,"end":817,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":810,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":818,"end":819,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":818,"name":"t","object":null},{"children":[],"start":821,"end":824,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":821,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":827,"end":909,"code":"assert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\",\\\"html\\\":\\\"\\\\u003cb\\\\u003e\\\"}\", w.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":827,"end":909,"code":"assert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\",\\\"html\\\":\\\"\\\\u003cb\\\\u003e\\\"}\", w.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":827,"end":839,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":827,"end":833,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":827,"name":"assert","object":null},"sel":{"children":[],"start":834,"end":839,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":834,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":840,"end":841,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":840,"name":"t","object":null},{"children":[],"start":843,"end":891,"code":"\"{\\\"foo\\\":\\\"bar\\\",\\\"html\\\":\\\"\\\\u003cb\\\\u003e\\\"}\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":843,"kind":9,"value":"\"{\\\"foo\\\":\\\"bar\\\",\\\"html\\\":\\\"\\\\u003cb\\\\u003e\\\"}\""},{"children":[],"start":893,"end":908,"code":"w.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":893,"end":906,"code":"w.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":893,"end":899,"code":"w.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":893,"end":894,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":893,"name":"w","object":null},"sel":{"children":[],"start":895,"end":899,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":895,"name":"Body","object":null}},"sel":{"children":[],"start":900,"end":906,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":900,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":911,"end":993,"code":"assert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":911,"end":993,"code":"assert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":911,"end":923,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":911,"end":917,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":911,"name":"assert","object":null},"sel":{"children":[],"start":918,"end":923,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":918,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":924,"end":925,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":924,"name":"t","object":null},{"children":[],"start":927,"end":960,"code":"\"application/json; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":927,"kind":9,"value":"\"application/json; charset=utf-8\""},{"children":[],"start":962,"end":992,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":962,"end":976,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":962,"end":972,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":962,"end":970,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":962,"end":963,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":962,"name":"w","object":null},"sel":{"children":[],"start":964,"end":970,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":964,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":973,"end":976,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":973,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":977,"end":991,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":977,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":994}},{"children":[],"start":997,"end":1171,"code":"func TestRenderJSONError(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := make(chan int)\n\tassert.Error(t, (JSON{data}).Render(w))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":1002,"end":1021,"code":"TestRenderJSONError","nodeType":"Identifier","column":0,"line":0,"namePos":1002,"name":"TestRenderJSONError","object":null},"type":{"children":[],"start":997,"end":1035,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":997,"TypeParams":null,"Params":{"children":[],"start":1021,"end":1035,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1021,"list":[{"children":[],"start":1022,"end":1034,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1022,"end":1023,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1022,"name":"t","object":null}],"type":{"children":[],"start":1024,"end":1034,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":1024,"expression":{"children":[],"start":1025,"end":1034,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1025,"end":1032,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":1025,"name":"testing","object":null},"sel":{"children":[],"start":1033,"end":1034,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":1033,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":1034},"Results":null},"body":{"children":[],"start":1036,"end":1171,"code":"{\n\tw := httptest.NewRecorder()\n\tdata := make(chan int)\n\tassert.Error(t, (JSON{data}).Render(w))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1036,"list":[{"children":[],"start":1039,"end":1066,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1039,"end":1040,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1039,"name":"w","object":null}],"tokenPos":1041,"token":47,"rhs":[{"children":[],"start":1044,"end":1066,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1044,"end":1064,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1044,"end":1052,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":1044,"name":"httptest","object":null},"sel":{"children":[],"start":1053,"end":1064,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":1053,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":1068,"end":1090,"code":"data := make(chan int)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1068,"end":1072,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":1068,"name":"data","object":null}],"tokenPos":1073,"token":47,"rhs":[{"children":[],"start":1076,"end":1090,"code":"make(chan int)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1076,"end":1080,"code":"make","nodeType":"Identifier","column":0,"line":0,"namePos":1076,"name":"make","object":null},"lparen":0,"args":[{"children":[],"start":1081,"end":1089,"code":"chan int","nodeType":"ChanelType","column":0,"line":0,"begin":1081,"arrow":0,"direction":3,"value":{"children":[],"start":1086,"end":1089,"code":"int","nodeType":"Identifier","column":0,"line":0,"namePos":1086,"name":"int","object":null}}],"ellipsis":0,"rparen":0}]},{"children":[],"start":1130,"end":1169,"code":"assert.Error(t, (JSON{data}).Render(w))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1130,"end":1169,"code":"assert.Error(t, (JSON{data}).Render(w))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1130,"end":1142,"code":"assert.Error","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1130,"end":1136,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":1130,"name":"assert","object":null},"sel":{"children":[],"start":1137,"end":1142,"code":"Error","nodeType":"Identifier","column":0,"line":0,"namePos":1137,"name":"Error","object":null}},"lparen":0,"args":[{"children":[],"start":1143,"end":1144,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1143,"name":"t","object":null},{"children":[],"start":1146,"end":1168,"code":"(JSON{data}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1146,"end":1165,"code":"(JSON{data}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1146,"end":1158,"code":"(JSON{data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":1146,"expression":{"children":[],"start":1147,"end":1157,"code":"JSON{data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":1147,"end":1151,"code":"JSON","nodeType":"Identifier","column":0,"line":0,"namePos":1147,"name":"JSON","object":null},"lbrace":1151,"elements":[{"children":[],"start":1152,"end":1156,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":1152,"name":"data","object":null}],"rbrace":1156,"incomplete":false},"rparen":1157},"sel":{"children":[],"start":1159,"end":1165,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":1159,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":1166,"end":1167,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1166,"name":"w","object":null}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":1170}},{"children":[],"start":1173,"end":1543,"code":"func TestRenderIndentedJSON(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\", \"bar\": \"foo\"}\n\terr := (IndentedJSON{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"{\\n    \\\"bar\\\": \\\"foo\\\",\\n    \\\"foo\\\": \\\"bar\\\"\\n}\", w.Body.String())\n\tassert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":1178,"end":1200,"code":"TestRenderIndentedJSON","nodeType":"Identifier","column":0,"line":0,"namePos":1178,"name":"TestRenderIndentedJSON","object":null},"type":{"children":[],"start":1173,"end":1214,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":1173,"TypeParams":null,"Params":{"children":[],"start":1200,"end":1214,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1200,"list":[{"children":[],"start":1201,"end":1213,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1201,"end":1202,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1201,"name":"t","object":null}],"type":{"children":[],"start":1203,"end":1213,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":1203,"expression":{"children":[],"start":1204,"end":1213,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1204,"end":1211,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":1204,"name":"testing","object":null},"sel":{"children":[],"start":1212,"end":1213,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":1212,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":1213},"Results":null},"body":{"children":[],"start":1215,"end":1543,"code":"{\n\tw := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\", \"bar\": \"foo\"}\n\terr := (IndentedJSON{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"{\\n    \\\"bar\\\": \\\"foo\\\",\\n    \\\"foo\\\": \\\"bar\\\"\\n}\", w.Body.String())\n\tassert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1215,"list":[{"children":[],"start":1218,"end":1245,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1218,"end":1219,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1218,"name":"w","object":null}],"tokenPos":1220,"token":47,"rhs":[{"children":[],"start":1223,"end":1245,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1223,"end":1243,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1223,"end":1231,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":1223,"name":"httptest","object":null},"sel":{"children":[],"start":1232,"end":1243,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":1232,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":1247,"end":1305,"code":"data := map[string]any{\"foo\": \"bar\", \"bar\": \"foo\"}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1247,"end":1251,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":1247,"name":"data","object":null}],"tokenPos":1252,"token":47,"rhs":[{"children":[],"start":1255,"end":1305,"code":"map[string]any{\"foo\": \"bar\", \"bar\": \"foo\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":1255,"end":1269,"code":"map[string]any","nodeType":"MapType","column":0,"line":0,"map":1255,"key":{"children":[],"start":1259,"end":1265,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":1259,"name":"string","object":null},"value":{"children":[],"start":1266,"end":1269,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":1266,"name":"any","object":null}},"lbrace":1269,"elements":[{"children":[],"start":1273,"end":1285,"code":"\"foo\": \"bar\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":1273,"end":1278,"code":"\"foo\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1273,"kind":9,"value":"\"foo\""},"colon":0,"value":{"children":[],"start":1280,"end":1285,"code":"\"bar\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1280,"kind":9,"value":"\"bar\""}},{"children":[],"start":1289,"end":1301,"code":"\"bar\": \"foo\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":1289,"end":1294,"code":"\"bar\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1289,"kind":9,"value":"\"bar\""},"colon":0,"value":{"children":[],"start":1296,"end":1301,"code":"\"foo\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1296,"kind":9,"value":"\"foo\""}}],"rbrace":1304,"incomplete":false}]},{"children":[],"start":1308,"end":1345,"code":"err := (IndentedJSON{data}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1308,"end":1311,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":1308,"name":"err","object":null}],"tokenPos":1312,"token":47,"rhs":[{"children":[],"start":1315,"end":1345,"code":"(IndentedJSON{data}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1315,"end":1342,"code":"(IndentedJSON{data}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1315,"end":1335,"code":"(IndentedJSON{data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":1315,"expression":{"children":[],"start":1316,"end":1334,"code":"IndentedJSON{data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":1316,"end":1328,"code":"IndentedJSON","nodeType":"Identifier","column":0,"line":0,"namePos":1316,"name":"IndentedJSON","object":null},"lbrace":1328,"elements":[{"children":[],"start":1329,"end":1333,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":1329,"name":"data","object":null}],"rbrace":1333,"incomplete":false},"rparen":1334},"sel":{"children":[],"start":1336,"end":1342,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":1336,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":1343,"end":1344,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1343,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":1348,"end":1370,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1348,"end":1370,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1348,"end":1362,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1348,"end":1354,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":1348,"name":"assert","object":null},"sel":{"children":[],"start":1355,"end":1362,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":1355,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":1363,"end":1364,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1363,"name":"t","object":null},{"children":[],"start":1366,"end":1369,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":1366,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":1372,"end":1457,"code":"assert.Equal(t, \"{\\n    \\\"bar\\\": \\\"foo\\\",\\n    \\\"foo\\\": \\\"bar\\\"\\n}\", w.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1372,"end":1457,"code":"assert.Equal(t, \"{\\n    \\\"bar\\\": \\\"foo\\\",\\n    \\\"foo\\\": \\\"bar\\\"\\n}\", w.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1372,"end":1384,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1372,"end":1378,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":1372,"name":"assert","object":null},"sel":{"children":[],"start":1379,"end":1384,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":1379,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":1385,"end":1386,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1385,"name":"t","object":null},{"children":[],"start":1388,"end":1439,"code":"\"{\\n    \\\"bar\\\": \\\"foo\\\",\\n    \\\"foo\\\": \\\"bar\\\"\\n}\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1388,"kind":9,"value":"\"{\\n    \\\"bar\\\": \\\"foo\\\",\\n    \\\"foo\\\": \\\"bar\\\"\\n}\""},{"children":[],"start":1441,"end":1456,"code":"w.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1441,"end":1454,"code":"w.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1441,"end":1447,"code":"w.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1441,"end":1442,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1441,"name":"w","object":null},"sel":{"children":[],"start":1443,"end":1447,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":1443,"name":"Body","object":null}},"sel":{"children":[],"start":1448,"end":1454,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":1448,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":1459,"end":1541,"code":"assert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1459,"end":1541,"code":"assert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1459,"end":1471,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1459,"end":1465,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":1459,"name":"assert","object":null},"sel":{"children":[],"start":1466,"end":1471,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":1466,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":1472,"end":1473,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1472,"name":"t","object":null},{"children":[],"start":1475,"end":1508,"code":"\"application/json; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1475,"kind":9,"value":"\"application/json; charset=utf-8\""},{"children":[],"start":1510,"end":1540,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1510,"end":1524,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1510,"end":1520,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1510,"end":1518,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1510,"end":1511,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1510,"name":"w","object":null},"sel":{"children":[],"start":1512,"end":1518,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":1512,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":1521,"end":1524,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":1521,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":1525,"end":1539,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1525,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":1542}},{"children":[],"start":1545,"end":1748,"code":"func TestRenderIndentedJSONPanics(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := make(chan int)\n\terr := (IndentedJSON{data}).Render(w)\n\tassert.Error(t, err)\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":1550,"end":1578,"code":"TestRenderIndentedJSONPanics","nodeType":"Identifier","column":0,"line":0,"namePos":1550,"name":"TestRenderIndentedJSONPanics","object":null},"type":{"children":[],"start":1545,"end":1592,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":1545,"TypeParams":null,"Params":{"children":[],"start":1578,"end":1592,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1578,"list":[{"children":[],"start":1579,"end":1591,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1579,"end":1580,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1579,"name":"t","object":null}],"type":{"children":[],"start":1581,"end":1591,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":1581,"expression":{"children":[],"start":1582,"end":1591,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1582,"end":1589,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":1582,"name":"testing","object":null},"sel":{"children":[],"start":1590,"end":1591,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":1590,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":1591},"Results":null},"body":{"children":[],"start":1593,"end":1748,"code":"{\n\tw := httptest.NewRecorder()\n\tdata := make(chan int)\n\terr := (IndentedJSON{data}).Render(w)\n\tassert.Error(t, err)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1593,"list":[{"children":[],"start":1596,"end":1623,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1596,"end":1597,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1596,"name":"w","object":null}],"tokenPos":1598,"token":47,"rhs":[{"children":[],"start":1601,"end":1623,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1601,"end":1621,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1601,"end":1609,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":1601,"name":"httptest","object":null},"sel":{"children":[],"start":1610,"end":1621,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":1610,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":1625,"end":1647,"code":"data := make(chan int)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1625,"end":1629,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":1625,"name":"data","object":null}],"tokenPos":1630,"token":47,"rhs":[{"children":[],"start":1633,"end":1647,"code":"make(chan int)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1633,"end":1637,"code":"make","nodeType":"Identifier","column":0,"line":0,"namePos":1633,"name":"make","object":null},"lparen":0,"args":[{"children":[],"start":1638,"end":1646,"code":"chan int","nodeType":"ChanelType","column":0,"line":0,"begin":1638,"arrow":0,"direction":3,"value":{"children":[],"start":1643,"end":1646,"code":"int","nodeType":"Identifier","column":0,"line":0,"namePos":1643,"name":"int","object":null}}],"ellipsis":0,"rparen":0}]},{"children":[],"start":1687,"end":1724,"code":"err := (IndentedJSON{data}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1687,"end":1690,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":1687,"name":"err","object":null}],"tokenPos":1691,"token":47,"rhs":[{"children":[],"start":1694,"end":1724,"code":"(IndentedJSON{data}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1694,"end":1721,"code":"(IndentedJSON{data}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1694,"end":1714,"code":"(IndentedJSON{data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":1694,"expression":{"children":[],"start":1695,"end":1713,"code":"IndentedJSON{data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":1695,"end":1707,"code":"IndentedJSON","nodeType":"Identifier","column":0,"line":0,"namePos":1695,"name":"IndentedJSON","object":null},"lbrace":1707,"elements":[{"children":[],"start":1708,"end":1712,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":1708,"name":"data","object":null}],"rbrace":1712,"incomplete":false},"rparen":1713},"sel":{"children":[],"start":1715,"end":1721,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":1715,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":1722,"end":1723,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":1722,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":1726,"end":1746,"code":"assert.Error(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1726,"end":1746,"code":"assert.Error(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1726,"end":1738,"code":"assert.Error","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1726,"end":1732,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":1726,"name":"assert","object":null},"sel":{"children":[],"start":1733,"end":1738,"code":"Error","nodeType":"Identifier","column":0,"line":0,"namePos":1733,"name":"Error","object":null}},"lparen":0,"args":[{"children":[],"start":1739,"end":1740,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1739,"name":"t","object":null},{"children":[],"start":1742,"end":1745,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":1742,"name":"err","object":null}],"ellipsis":0,"rparen":0}}],"rbrace":1747}},{"children":[],"start":1750,"end":2578,"code":"func TestRenderSecureJSON(t *testing.T) {\n\tw1 := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\"}\n\t(SecureJSON{\"while(1);\", data}).WriteContentType(w1)\n\tassert.Equal(t, \"application/json; charset=utf-8\", w1.Header().Get(\"Content-Type\"))\n\terr1 := (SecureJSON{\"while(1);\", data}).Render(w1)\n\tassert.NoError(t, err1)\n\tassert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\"}\", w1.Body.String())\n\tassert.Equal(t, \"application/json; charset=utf-8\", w1.Header().Get(\"Content-Type\"))\n\tw2 := httptest.NewRecorder()\n\tdatas := []map[string]any{{\"foo\": \"bar\"}, {\"bar\": \"foo\"}}\n\terr2 := (SecureJSON{\"while(1);\", datas}).Render(w2)\n\tassert.NoError(t, err2)\n\tassert.Equal(t, \"while(1);[{\\\"foo\\\":\\\"bar\\\"},{\\\"bar\\\":\\\"foo\\\"}]\", w2.Body.String())\n\tassert.Equal(t, \"application/json; charset=utf-8\", w2.Header().Get(\"Content-Type\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":1755,"end":1775,"code":"TestRenderSecureJSON","nodeType":"Identifier","column":0,"line":0,"namePos":1755,"name":"TestRenderSecureJSON","object":null},"type":{"children":[],"start":1750,"end":1789,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":1750,"TypeParams":null,"Params":{"children":[],"start":1775,"end":1789,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":1775,"list":[{"children":[],"start":1776,"end":1788,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":1776,"end":1777,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1776,"name":"t","object":null}],"type":{"children":[],"start":1778,"end":1788,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":1778,"expression":{"children":[],"start":1779,"end":1788,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1779,"end":1786,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":1779,"name":"testing","object":null},"sel":{"children":[],"start":1787,"end":1788,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":1787,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":1788},"Results":null},"body":{"children":[],"start":1790,"end":2578,"code":"{\n\tw1 := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\"}\n\t(SecureJSON{\"while(1);\", data}).WriteContentType(w1)\n\tassert.Equal(t, \"application/json; charset=utf-8\", w1.Header().Get(\"Content-Type\"))\n\terr1 := (SecureJSON{\"while(1);\", data}).Render(w1)\n\tassert.NoError(t, err1)\n\tassert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\"}\", w1.Body.String())\n\tassert.Equal(t, \"application/json; charset=utf-8\", w1.Header().Get(\"Content-Type\"))\n\tw2 := httptest.NewRecorder()\n\tdatas := []map[string]any{{\"foo\": \"bar\"}, {\"bar\": \"foo\"}}\n\terr2 := (SecureJSON{\"while(1);\", datas}).Render(w2)\n\tassert.NoError(t, err2)\n\tassert.Equal(t, \"while(1);[{\\\"foo\\\":\\\"bar\\\"},{\\\"bar\\\":\\\"foo\\\"}]\", w2.Body.String())\n\tassert.Equal(t, \"application/json; charset=utf-8\", w2.Header().Get(\"Content-Type\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":1790,"list":[{"children":[],"start":1793,"end":1821,"code":"w1 := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1793,"end":1795,"code":"w1","nodeType":"Identifier","column":0,"line":0,"namePos":1793,"name":"w1","object":null}],"tokenPos":1796,"token":47,"rhs":[{"children":[],"start":1799,"end":1821,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1799,"end":1819,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1799,"end":1807,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":1799,"name":"httptest","object":null},"sel":{"children":[],"start":1808,"end":1819,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":1808,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":1823,"end":1865,"code":"data := map[string]any{\"foo\": \"bar\"}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":1823,"end":1827,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":1823,"name":"data","object":null}],"tokenPos":1828,"token":47,"rhs":[{"children":[],"start":1831,"end":1865,"code":"map[string]any{\"foo\": \"bar\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":1831,"end":1845,"code":"map[string]any","nodeType":"MapType","column":0,"line":0,"map":1831,"key":{"children":[],"start":1835,"end":1841,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":1835,"name":"string","object":null},"value":{"children":[],"start":1842,"end":1845,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":1842,"name":"any","object":null}},"lbrace":1845,"elements":[{"children":[],"start":1849,"end":1861,"code":"\"foo\": \"bar\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":1849,"end":1854,"code":"\"foo\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1849,"kind":9,"value":"\"foo\""},"colon":0,"value":{"children":[],"start":1856,"end":1861,"code":"\"bar\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1856,"kind":9,"value":"\"bar\""}}],"rbrace":1864,"incomplete":false}]},{"children":[],"start":1868,"end":1920,"code":"(SecureJSON{\"while(1);\", data}).WriteContentType(w1)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1868,"end":1920,"code":"(SecureJSON{\"while(1);\", data}).WriteContentType(w1)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1868,"end":1916,"code":"(SecureJSON{\"while(1);\", data}).WriteContentType","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1868,"end":1899,"code":"(SecureJSON{\"while(1);\", data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":1868,"expression":{"children":[],"start":1869,"end":1898,"code":"SecureJSON{\"while(1);\", data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":1869,"end":1879,"code":"SecureJSON","nodeType":"Identifier","column":0,"line":0,"namePos":1869,"name":"SecureJSON","object":null},"lbrace":1879,"elements":[{"children":[],"start":1880,"end":1891,"code":"\"while(1);\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1880,"kind":9,"value":"\"while(1);\""},{"children":[],"start":1893,"end":1897,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":1893,"name":"data","object":null}],"rbrace":1897,"incomplete":false},"rparen":1898},"sel":{"children":[],"start":1900,"end":1916,"code":"WriteContentType","nodeType":"Identifier","column":0,"line":0,"namePos":1900,"name":"WriteContentType","object":null}},"lparen":0,"args":[{"children":[],"start":1917,"end":1919,"code":"w1","nodeType":"Identifier","column":0,"line":0,"namePos":1917,"name":"w1","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":1922,"end":2005,"code":"assert.Equal(t, \"application/json; charset=utf-8\", w1.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":1922,"end":2005,"code":"assert.Equal(t, \"application/json; charset=utf-8\", w1.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1922,"end":1934,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1922,"end":1928,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":1922,"name":"assert","object":null},"sel":{"children":[],"start":1929,"end":1934,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":1929,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":1935,"end":1936,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":1935,"name":"t","object":null},{"children":[],"start":1938,"end":1971,"code":"\"application/json; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1938,"kind":9,"value":"\"application/json; charset=utf-8\""},{"children":[],"start":1973,"end":2004,"code":"w1.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1973,"end":1988,"code":"w1.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1973,"end":1984,"code":"w1.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":1973,"end":1982,"code":"w1.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":1973,"end":1975,"code":"w1","nodeType":"Identifier","column":0,"line":0,"namePos":1973,"name":"w1","object":null},"sel":{"children":[],"start":1976,"end":1982,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":1976,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":1985,"end":1988,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":1985,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":1989,"end":2003,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":1989,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":2008,"end":2058,"code":"err1 := (SecureJSON{\"while(1);\", data}).Render(w1)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2008,"end":2012,"code":"err1","nodeType":"Identifier","column":0,"line":0,"namePos":2008,"name":"err1","object":null}],"tokenPos":2013,"token":47,"rhs":[{"children":[],"start":2016,"end":2058,"code":"(SecureJSON{\"while(1);\", data}).Render(w1)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2016,"end":2054,"code":"(SecureJSON{\"while(1);\", data}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2016,"end":2047,"code":"(SecureJSON{\"while(1);\", data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":2016,"expression":{"children":[],"start":2017,"end":2046,"code":"SecureJSON{\"while(1);\", data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":2017,"end":2027,"code":"SecureJSON","nodeType":"Identifier","column":0,"line":0,"namePos":2017,"name":"SecureJSON","object":null},"lbrace":2027,"elements":[{"children":[],"start":2028,"end":2039,"code":"\"while(1);\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2028,"kind":9,"value":"\"while(1);\""},{"children":[],"start":2041,"end":2045,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":2041,"name":"data","object":null}],"rbrace":2045,"incomplete":false},"rparen":2046},"sel":{"children":[],"start":2048,"end":2054,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":2048,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":2055,"end":2057,"code":"w1","nodeType":"Identifier","column":0,"line":0,"namePos":2055,"name":"w1","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":2061,"end":2084,"code":"assert.NoError(t, err1)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2061,"end":2084,"code":"assert.NoError(t, err1)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2061,"end":2075,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2061,"end":2067,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2061,"name":"assert","object":null},"sel":{"children":[],"start":2068,"end":2075,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":2068,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":2076,"end":2077,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2076,"name":"t","object":null},{"children":[],"start":2079,"end":2083,"code":"err1","nodeType":"Identifier","column":0,"line":0,"namePos":2079,"name":"err1","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":2086,"end":2140,"code":"assert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\"}\", w1.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2086,"end":2140,"code":"assert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\"}\", w1.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2086,"end":2098,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2086,"end":2092,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2086,"name":"assert","object":null},"sel":{"children":[],"start":2093,"end":2098,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":2093,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":2099,"end":2100,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2099,"name":"t","object":null},{"children":[],"start":2102,"end":2121,"code":"\"{\\\"foo\\\":\\\"bar\\\"}\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2102,"kind":9,"value":"\"{\\\"foo\\\":\\\"bar\\\"}\""},{"children":[],"start":2123,"end":2139,"code":"w1.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2123,"end":2137,"code":"w1.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2123,"end":2130,"code":"w1.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2123,"end":2125,"code":"w1","nodeType":"Identifier","column":0,"line":0,"namePos":2123,"name":"w1","object":null},"sel":{"children":[],"start":2126,"end":2130,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":2126,"name":"Body","object":null}},"sel":{"children":[],"start":2131,"end":2137,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":2131,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":2142,"end":2225,"code":"assert.Equal(t, \"application/json; charset=utf-8\", w1.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2142,"end":2225,"code":"assert.Equal(t, \"application/json; charset=utf-8\", w1.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2142,"end":2154,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2142,"end":2148,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2142,"name":"assert","object":null},"sel":{"children":[],"start":2149,"end":2154,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":2149,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":2155,"end":2156,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2155,"name":"t","object":null},{"children":[],"start":2158,"end":2191,"code":"\"application/json; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2158,"kind":9,"value":"\"application/json; charset=utf-8\""},{"children":[],"start":2193,"end":2224,"code":"w1.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2193,"end":2208,"code":"w1.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2193,"end":2204,"code":"w1.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2193,"end":2202,"code":"w1.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2193,"end":2195,"code":"w1","nodeType":"Identifier","column":0,"line":0,"namePos":2193,"name":"w1","object":null},"sel":{"children":[],"start":2196,"end":2202,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":2196,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":2205,"end":2208,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":2205,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":2209,"end":2223,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2209,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":2228,"end":2256,"code":"w2 := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2228,"end":2230,"code":"w2","nodeType":"Identifier","column":0,"line":0,"namePos":2228,"name":"w2","object":null}],"tokenPos":2231,"token":47,"rhs":[{"children":[],"start":2234,"end":2256,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2234,"end":2254,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2234,"end":2242,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":2234,"name":"httptest","object":null},"sel":{"children":[],"start":2243,"end":2254,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":2243,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":2258,"end":2327,"code":"datas := []map[string]any{{\"foo\": \"bar\"}, {\"bar\": \"foo\"}}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2258,"end":2263,"code":"datas","nodeType":"Identifier","column":0,"line":0,"namePos":2258,"name":"datas","object":null}],"tokenPos":2264,"token":47,"rhs":[{"children":[],"start":2267,"end":2327,"code":"[]map[string]any{{\"foo\": \"bar\"}, {\"bar\": \"foo\"}}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":2267,"end":2283,"code":"[]map[string]any","nodeType":"ArrayType","column":0,"line":0,"leftBracket":2267,"length":null,"element":{"children":[],"start":2269,"end":2283,"code":"map[string]any","nodeType":"MapType","column":0,"line":0,"map":2269,"key":{"children":[],"start":2273,"end":2279,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":2273,"name":"string","object":null},"value":{"children":[],"start":2280,"end":2283,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":2280,"name":"any","object":null}}},"lbrace":2283,"elements":[{"children":[],"start":2284,"end":2304,"code":"{\"foo\": \"bar\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":null,"lbrace":2284,"elements":[{"children":[],"start":2288,"end":2300,"code":"\"foo\": \"bar\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":2288,"end":2293,"code":"\"foo\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2288,"kind":9,"value":"\"foo\""},"colon":0,"value":{"children":[],"start":2295,"end":2300,"code":"\"bar\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2295,"kind":9,"value":"\"bar\""}}],"rbrace":2303,"incomplete":false},{"children":[],"start":2306,"end":2326,"code":"{\"bar\": \"foo\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":null,"lbrace":2306,"elements":[{"children":[],"start":2310,"end":2322,"code":"\"bar\": \"foo\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":2310,"end":2315,"code":"\"bar\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2310,"kind":9,"value":"\"bar\""},"colon":0,"value":{"children":[],"start":2317,"end":2322,"code":"\"foo\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2317,"kind":9,"value":"\"foo\""}}],"rbrace":2325,"incomplete":false}],"rbrace":2326,"incomplete":false}]},{"children":[],"start":2330,"end":2381,"code":"err2 := (SecureJSON{\"while(1);\", datas}).Render(w2)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2330,"end":2334,"code":"err2","nodeType":"Identifier","column":0,"line":0,"namePos":2330,"name":"err2","object":null}],"tokenPos":2335,"token":47,"rhs":[{"children":[],"start":2338,"end":2381,"code":"(SecureJSON{\"while(1);\", datas}).Render(w2)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2338,"end":2377,"code":"(SecureJSON{\"while(1);\", datas}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2338,"end":2370,"code":"(SecureJSON{\"while(1);\", datas})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":2338,"expression":{"children":[],"start":2339,"end":2369,"code":"SecureJSON{\"while(1);\", datas}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":2339,"end":2349,"code":"SecureJSON","nodeType":"Identifier","column":0,"line":0,"namePos":2339,"name":"SecureJSON","object":null},"lbrace":2349,"elements":[{"children":[],"start":2350,"end":2361,"code":"\"while(1);\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2350,"kind":9,"value":"\"while(1);\""},{"children":[],"start":2363,"end":2368,"code":"datas","nodeType":"Identifier","column":0,"line":0,"namePos":2363,"name":"datas","object":null}],"rbrace":2368,"incomplete":false},"rparen":2369},"sel":{"children":[],"start":2371,"end":2377,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":2371,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":2378,"end":2380,"code":"w2","nodeType":"Identifier","column":0,"line":0,"namePos":2378,"name":"w2","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":2383,"end":2406,"code":"assert.NoError(t, err2)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2383,"end":2406,"code":"assert.NoError(t, err2)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2383,"end":2397,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2383,"end":2389,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2383,"name":"assert","object":null},"sel":{"children":[],"start":2390,"end":2397,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":2390,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":2398,"end":2399,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2398,"name":"t","object":null},{"children":[],"start":2401,"end":2405,"code":"err2","nodeType":"Identifier","column":0,"line":0,"namePos":2401,"name":"err2","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":2408,"end":2491,"code":"assert.Equal(t, \"while(1);[{\\\"foo\\\":\\\"bar\\\"},{\\\"bar\\\":\\\"foo\\\"}]\", w2.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2408,"end":2491,"code":"assert.Equal(t, \"while(1);[{\\\"foo\\\":\\\"bar\\\"},{\\\"bar\\\":\\\"foo\\\"}]\", w2.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2408,"end":2420,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2408,"end":2414,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2408,"name":"assert","object":null},"sel":{"children":[],"start":2415,"end":2420,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":2415,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":2421,"end":2422,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2421,"name":"t","object":null},{"children":[],"start":2424,"end":2472,"code":"\"while(1);[{\\\"foo\\\":\\\"bar\\\"},{\\\"bar\\\":\\\"foo\\\"}]\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2424,"kind":9,"value":"\"while(1);[{\\\"foo\\\":\\\"bar\\\"},{\\\"bar\\\":\\\"foo\\\"}]\""},{"children":[],"start":2474,"end":2490,"code":"w2.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2474,"end":2488,"code":"w2.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2474,"end":2481,"code":"w2.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2474,"end":2476,"code":"w2","nodeType":"Identifier","column":0,"line":0,"namePos":2474,"name":"w2","object":null},"sel":{"children":[],"start":2477,"end":2481,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":2477,"name":"Body","object":null}},"sel":{"children":[],"start":2482,"end":2488,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":2482,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":2493,"end":2576,"code":"assert.Equal(t, \"application/json; charset=utf-8\", w2.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2493,"end":2576,"code":"assert.Equal(t, \"application/json; charset=utf-8\", w2.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2493,"end":2505,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2493,"end":2499,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2493,"name":"assert","object":null},"sel":{"children":[],"start":2500,"end":2505,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":2500,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":2506,"end":2507,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2506,"name":"t","object":null},{"children":[],"start":2509,"end":2542,"code":"\"application/json; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2509,"kind":9,"value":"\"application/json; charset=utf-8\""},{"children":[],"start":2544,"end":2575,"code":"w2.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2544,"end":2559,"code":"w2.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2544,"end":2555,"code":"w2.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2544,"end":2553,"code":"w2.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2544,"end":2546,"code":"w2","nodeType":"Identifier","column":0,"line":0,"namePos":2544,"name":"w2","object":null},"sel":{"children":[],"start":2547,"end":2553,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":2547,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":2556,"end":2559,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":2556,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":2560,"end":2574,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2560,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":2577}},{"children":[],"start":2580,"end":2790,"code":"func TestRenderSecureJSONFail(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := make(chan int)\n\terr := (SecureJSON{\"while(1);\", data}).Render(w)\n\tassert.Error(t, err)\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":2585,"end":2609,"code":"TestRenderSecureJSONFail","nodeType":"Identifier","column":0,"line":0,"namePos":2585,"name":"TestRenderSecureJSONFail","object":null},"type":{"children":[],"start":2580,"end":2623,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":2580,"TypeParams":null,"Params":{"children":[],"start":2609,"end":2623,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2609,"list":[{"children":[],"start":2610,"end":2622,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":2610,"end":2611,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2610,"name":"t","object":null}],"type":{"children":[],"start":2612,"end":2622,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":2612,"expression":{"children":[],"start":2613,"end":2622,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2613,"end":2620,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":2613,"name":"testing","object":null},"sel":{"children":[],"start":2621,"end":2622,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":2621,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":2622},"Results":null},"body":{"children":[],"start":2624,"end":2790,"code":"{\n\tw := httptest.NewRecorder()\n\tdata := make(chan int)\n\terr := (SecureJSON{\"while(1);\", data}).Render(w)\n\tassert.Error(t, err)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":2624,"list":[{"children":[],"start":2627,"end":2654,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2627,"end":2628,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2627,"name":"w","object":null}],"tokenPos":2629,"token":47,"rhs":[{"children":[],"start":2632,"end":2654,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2632,"end":2652,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2632,"end":2640,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":2632,"name":"httptest","object":null},"sel":{"children":[],"start":2641,"end":2652,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":2641,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":2656,"end":2678,"code":"data := make(chan int)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2656,"end":2660,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":2656,"name":"data","object":null}],"tokenPos":2661,"token":47,"rhs":[{"children":[],"start":2664,"end":2678,"code":"make(chan int)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2664,"end":2668,"code":"make","nodeType":"Identifier","column":0,"line":0,"namePos":2664,"name":"make","object":null},"lparen":0,"args":[{"children":[],"start":2669,"end":2677,"code":"chan int","nodeType":"ChanelType","column":0,"line":0,"begin":2669,"arrow":0,"direction":3,"value":{"children":[],"start":2674,"end":2677,"code":"int","nodeType":"Identifier","column":0,"line":0,"namePos":2674,"name":"int","object":null}}],"ellipsis":0,"rparen":0}]},{"children":[],"start":2718,"end":2766,"code":"err := (SecureJSON{\"while(1);\", data}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2718,"end":2721,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":2718,"name":"err","object":null}],"tokenPos":2722,"token":47,"rhs":[{"children":[],"start":2725,"end":2766,"code":"(SecureJSON{\"while(1);\", data}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2725,"end":2763,"code":"(SecureJSON{\"while(1);\", data}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2725,"end":2756,"code":"(SecureJSON{\"while(1);\", data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":2725,"expression":{"children":[],"start":2726,"end":2755,"code":"SecureJSON{\"while(1);\", data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":2726,"end":2736,"code":"SecureJSON","nodeType":"Identifier","column":0,"line":0,"namePos":2726,"name":"SecureJSON","object":null},"lbrace":2736,"elements":[{"children":[],"start":2737,"end":2748,"code":"\"while(1);\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2737,"kind":9,"value":"\"while(1);\""},{"children":[],"start":2750,"end":2754,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":2750,"name":"data","object":null}],"rbrace":2754,"incomplete":false},"rparen":2755},"sel":{"children":[],"start":2757,"end":2763,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":2757,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":2764,"end":2765,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":2764,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":2768,"end":2788,"code":"assert.Error(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2768,"end":2788,"code":"assert.Error(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2768,"end":2780,"code":"assert.Error","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2768,"end":2774,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2768,"name":"assert","object":null},"sel":{"children":[],"start":2775,"end":2780,"code":"Error","nodeType":"Identifier","column":0,"line":0,"namePos":2775,"name":"Error","object":null}},"lparen":0,"args":[{"children":[],"start":2781,"end":2782,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2781,"name":"t","object":null},{"children":[],"start":2784,"end":2787,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":2784,"name":"err","object":null}],"ellipsis":0,"rparen":0}}],"rbrace":2789}},{"children":[],"start":2792,"end":3609,"code":"func TestRenderJsonpJSON(t *testing.T) {\n\tw1 := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\"}\n\t(JsonpJSON{\"x\", data}).WriteContentType(w1)\n\tassert.Equal(t, \"application/javascript; charset=utf-8\", w1.Header().Get(\"Content-Type\"))\n\terr1 := (JsonpJSON{\"x\", data}).Render(w1)\n\tassert.NoError(t, err1)\n\tassert.Equal(t, \"x({\\\"foo\\\":\\\"bar\\\"});\", w1.Body.String())\n\tassert.Equal(t, \"application/javascript; charset=utf-8\", w1.Header().Get(\"Content-Type\"))\n\tw2 := httptest.NewRecorder()\n\tdatas := []map[string]any{{\"foo\": \"bar\"}, {\"bar\": \"foo\"}}\n\terr2 := (JsonpJSON{\"x\", datas}).Render(w2)\n\tassert.NoError(t, err2)\n\tassert.Equal(t, \"x([{\\\"foo\\\":\\\"bar\\\"},{\\\"bar\\\":\\\"foo\\\"}]);\", w2.Body.String())\n\tassert.Equal(t, \"application/javascript; charset=utf-8\", w2.Header().Get(\"Content-Type\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":2797,"end":2816,"code":"TestRenderJsonpJSON","nodeType":"Identifier","column":0,"line":0,"namePos":2797,"name":"TestRenderJsonpJSON","object":null},"type":{"children":[],"start":2792,"end":2830,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":2792,"TypeParams":null,"Params":{"children":[],"start":2816,"end":2830,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":2816,"list":[{"children":[],"start":2817,"end":2829,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":2817,"end":2818,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2817,"name":"t","object":null}],"type":{"children":[],"start":2819,"end":2829,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":2819,"expression":{"children":[],"start":2820,"end":2829,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2820,"end":2827,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":2820,"name":"testing","object":null},"sel":{"children":[],"start":2828,"end":2829,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":2828,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":2829},"Results":null},"body":{"children":[],"start":2831,"end":3609,"code":"{\n\tw1 := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\"}\n\t(JsonpJSON{\"x\", data}).WriteContentType(w1)\n\tassert.Equal(t, \"application/javascript; charset=utf-8\", w1.Header().Get(\"Content-Type\"))\n\terr1 := (JsonpJSON{\"x\", data}).Render(w1)\n\tassert.NoError(t, err1)\n\tassert.Equal(t, \"x({\\\"foo\\\":\\\"bar\\\"});\", w1.Body.String())\n\tassert.Equal(t, \"application/javascript; charset=utf-8\", w1.Header().Get(\"Content-Type\"))\n\tw2 := httptest.NewRecorder()\n\tdatas := []map[string]any{{\"foo\": \"bar\"}, {\"bar\": \"foo\"}}\n\terr2 := (JsonpJSON{\"x\", datas}).Render(w2)\n\tassert.NoError(t, err2)\n\tassert.Equal(t, \"x([{\\\"foo\\\":\\\"bar\\\"},{\\\"bar\\\":\\\"foo\\\"}]);\", w2.Body.String())\n\tassert.Equal(t, \"application/javascript; charset=utf-8\", w2.Header().Get(\"Content-Type\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":2831,"list":[{"children":[],"start":2834,"end":2862,"code":"w1 := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2834,"end":2836,"code":"w1","nodeType":"Identifier","column":0,"line":0,"namePos":2834,"name":"w1","object":null}],"tokenPos":2837,"token":47,"rhs":[{"children":[],"start":2840,"end":2862,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2840,"end":2860,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2840,"end":2848,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":2840,"name":"httptest","object":null},"sel":{"children":[],"start":2849,"end":2860,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":2849,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":2864,"end":2906,"code":"data := map[string]any{\"foo\": \"bar\"}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":2864,"end":2868,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":2864,"name":"data","object":null}],"tokenPos":2869,"token":47,"rhs":[{"children":[],"start":2872,"end":2906,"code":"map[string]any{\"foo\": \"bar\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":2872,"end":2886,"code":"map[string]any","nodeType":"MapType","column":0,"line":0,"map":2872,"key":{"children":[],"start":2876,"end":2882,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":2876,"name":"string","object":null},"value":{"children":[],"start":2883,"end":2886,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":2883,"name":"any","object":null}},"lbrace":2886,"elements":[{"children":[],"start":2890,"end":2902,"code":"\"foo\": \"bar\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":2890,"end":2895,"code":"\"foo\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2890,"kind":9,"value":"\"foo\""},"colon":0,"value":{"children":[],"start":2897,"end":2902,"code":"\"bar\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2897,"kind":9,"value":"\"bar\""}}],"rbrace":2905,"incomplete":false}]},{"children":[],"start":2909,"end":2952,"code":"(JsonpJSON{\"x\", data}).WriteContentType(w1)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2909,"end":2952,"code":"(JsonpJSON{\"x\", data}).WriteContentType(w1)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2909,"end":2948,"code":"(JsonpJSON{\"x\", data}).WriteContentType","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2909,"end":2931,"code":"(JsonpJSON{\"x\", data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":2909,"expression":{"children":[],"start":2910,"end":2930,"code":"JsonpJSON{\"x\", data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":2910,"end":2919,"code":"JsonpJSON","nodeType":"Identifier","column":0,"line":0,"namePos":2910,"name":"JsonpJSON","object":null},"lbrace":2919,"elements":[{"children":[],"start":2920,"end":2923,"code":"\"x\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2920,"kind":9,"value":"\"x\""},{"children":[],"start":2925,"end":2929,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":2925,"name":"data","object":null}],"rbrace":2929,"incomplete":false},"rparen":2930},"sel":{"children":[],"start":2932,"end":2948,"code":"WriteContentType","nodeType":"Identifier","column":0,"line":0,"namePos":2932,"name":"WriteContentType","object":null}},"lparen":0,"args":[{"children":[],"start":2949,"end":2951,"code":"w1","nodeType":"Identifier","column":0,"line":0,"namePos":2949,"name":"w1","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":2954,"end":3043,"code":"assert.Equal(t, \"application/javascript; charset=utf-8\", w1.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":2954,"end":3043,"code":"assert.Equal(t, \"application/javascript; charset=utf-8\", w1.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":2954,"end":2966,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":2954,"end":2960,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":2954,"name":"assert","object":null},"sel":{"children":[],"start":2961,"end":2966,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":2961,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":2967,"end":2968,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":2967,"name":"t","object":null},{"children":[],"start":2970,"end":3009,"code":"\"application/javascript; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":2970,"kind":9,"value":"\"application/javascript; charset=utf-8\""},{"children":[],"start":3011,"end":3042,"code":"w1.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3011,"end":3026,"code":"w1.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3011,"end":3022,"code":"w1.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3011,"end":3020,"code":"w1.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3011,"end":3013,"code":"w1","nodeType":"Identifier","column":0,"line":0,"namePos":3011,"name":"w1","object":null},"sel":{"children":[],"start":3014,"end":3020,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":3014,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":3023,"end":3026,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":3023,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":3027,"end":3041,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":3027,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":3046,"end":3087,"code":"err1 := (JsonpJSON{\"x\", data}).Render(w1)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":3046,"end":3050,"code":"err1","nodeType":"Identifier","column":0,"line":0,"namePos":3046,"name":"err1","object":null}],"tokenPos":3051,"token":47,"rhs":[{"children":[],"start":3054,"end":3087,"code":"(JsonpJSON{\"x\", data}).Render(w1)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3054,"end":3083,"code":"(JsonpJSON{\"x\", data}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3054,"end":3076,"code":"(JsonpJSON{\"x\", data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":3054,"expression":{"children":[],"start":3055,"end":3075,"code":"JsonpJSON{\"x\", data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":3055,"end":3064,"code":"JsonpJSON","nodeType":"Identifier","column":0,"line":0,"namePos":3055,"name":"JsonpJSON","object":null},"lbrace":3064,"elements":[{"children":[],"start":3065,"end":3068,"code":"\"x\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":3065,"kind":9,"value":"\"x\""},{"children":[],"start":3070,"end":3074,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":3070,"name":"data","object":null}],"rbrace":3074,"incomplete":false},"rparen":3075},"sel":{"children":[],"start":3077,"end":3083,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":3077,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":3084,"end":3086,"code":"w1","nodeType":"Identifier","column":0,"line":0,"namePos":3084,"name":"w1","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":3090,"end":3113,"code":"assert.NoError(t, err1)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3090,"end":3113,"code":"assert.NoError(t, err1)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3090,"end":3104,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3090,"end":3096,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":3090,"name":"assert","object":null},"sel":{"children":[],"start":3097,"end":3104,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":3097,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":3105,"end":3106,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":3105,"name":"t","object":null},{"children":[],"start":3108,"end":3112,"code":"err1","nodeType":"Identifier","column":0,"line":0,"namePos":3108,"name":"err1","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":3115,"end":3173,"code":"assert.Equal(t, \"x({\\\"foo\\\":\\\"bar\\\"});\", w1.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3115,"end":3173,"code":"assert.Equal(t, \"x({\\\"foo\\\":\\\"bar\\\"});\", w1.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3115,"end":3127,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3115,"end":3121,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":3115,"name":"assert","object":null},"sel":{"children":[],"start":3122,"end":3127,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":3122,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":3128,"end":3129,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":3128,"name":"t","object":null},{"children":[],"start":3131,"end":3154,"code":"\"x({\\\"foo\\\":\\\"bar\\\"});\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":3131,"kind":9,"value":"\"x({\\\"foo\\\":\\\"bar\\\"});\""},{"children":[],"start":3156,"end":3172,"code":"w1.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3156,"end":3170,"code":"w1.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3156,"end":3163,"code":"w1.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3156,"end":3158,"code":"w1","nodeType":"Identifier","column":0,"line":0,"namePos":3156,"name":"w1","object":null},"sel":{"children":[],"start":3159,"end":3163,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":3159,"name":"Body","object":null}},"sel":{"children":[],"start":3164,"end":3170,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":3164,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":3175,"end":3264,"code":"assert.Equal(t, \"application/javascript; charset=utf-8\", w1.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3175,"end":3264,"code":"assert.Equal(t, \"application/javascript; charset=utf-8\", w1.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3175,"end":3187,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3175,"end":3181,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":3175,"name":"assert","object":null},"sel":{"children":[],"start":3182,"end":3187,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":3182,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":3188,"end":3189,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":3188,"name":"t","object":null},{"children":[],"start":3191,"end":3230,"code":"\"application/javascript; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":3191,"kind":9,"value":"\"application/javascript; charset=utf-8\""},{"children":[],"start":3232,"end":3263,"code":"w1.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3232,"end":3247,"code":"w1.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3232,"end":3243,"code":"w1.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3232,"end":3241,"code":"w1.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3232,"end":3234,"code":"w1","nodeType":"Identifier","column":0,"line":0,"namePos":3232,"name":"w1","object":null},"sel":{"children":[],"start":3235,"end":3241,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":3235,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":3244,"end":3247,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":3244,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":3248,"end":3262,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":3248,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":3267,"end":3295,"code":"w2 := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":3267,"end":3269,"code":"w2","nodeType":"Identifier","column":0,"line":0,"namePos":3267,"name":"w2","object":null}],"tokenPos":3270,"token":47,"rhs":[{"children":[],"start":3273,"end":3295,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3273,"end":3293,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3273,"end":3281,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":3273,"name":"httptest","object":null},"sel":{"children":[],"start":3282,"end":3293,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":3282,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":3297,"end":3366,"code":"datas := []map[string]any{{\"foo\": \"bar\"}, {\"bar\": \"foo\"}}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":3297,"end":3302,"code":"datas","nodeType":"Identifier","column":0,"line":0,"namePos":3297,"name":"datas","object":null}],"tokenPos":3303,"token":47,"rhs":[{"children":[],"start":3306,"end":3366,"code":"[]map[string]any{{\"foo\": \"bar\"}, {\"bar\": \"foo\"}}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":3306,"end":3322,"code":"[]map[string]any","nodeType":"ArrayType","column":0,"line":0,"leftBracket":3306,"length":null,"element":{"children":[],"start":3308,"end":3322,"code":"map[string]any","nodeType":"MapType","column":0,"line":0,"map":3308,"key":{"children":[],"start":3312,"end":3318,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":3312,"name":"string","object":null},"value":{"children":[],"start":3319,"end":3322,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":3319,"name":"any","object":null}}},"lbrace":3322,"elements":[{"children":[],"start":3323,"end":3343,"code":"{\"foo\": \"bar\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":null,"lbrace":3323,"elements":[{"children":[],"start":3327,"end":3339,"code":"\"foo\": \"bar\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":3327,"end":3332,"code":"\"foo\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":3327,"kind":9,"value":"\"foo\""},"colon":0,"value":{"children":[],"start":3334,"end":3339,"code":"\"bar\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":3334,"kind":9,"value":"\"bar\""}}],"rbrace":3342,"incomplete":false},{"children":[],"start":3345,"end":3365,"code":"{\"bar\": \"foo\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":null,"lbrace":3345,"elements":[{"children":[],"start":3349,"end":3361,"code":"\"bar\": \"foo\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":3349,"end":3354,"code":"\"bar\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":3349,"kind":9,"value":"\"bar\""},"colon":0,"value":{"children":[],"start":3356,"end":3361,"code":"\"foo\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":3356,"kind":9,"value":"\"foo\""}}],"rbrace":3364,"incomplete":false}],"rbrace":3365,"incomplete":false}]},{"children":[],"start":3369,"end":3411,"code":"err2 := (JsonpJSON{\"x\", datas}).Render(w2)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":3369,"end":3373,"code":"err2","nodeType":"Identifier","column":0,"line":0,"namePos":3369,"name":"err2","object":null}],"tokenPos":3374,"token":47,"rhs":[{"children":[],"start":3377,"end":3411,"code":"(JsonpJSON{\"x\", datas}).Render(w2)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3377,"end":3407,"code":"(JsonpJSON{\"x\", datas}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3377,"end":3400,"code":"(JsonpJSON{\"x\", datas})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":3377,"expression":{"children":[],"start":3378,"end":3399,"code":"JsonpJSON{\"x\", datas}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":3378,"end":3387,"code":"JsonpJSON","nodeType":"Identifier","column":0,"line":0,"namePos":3378,"name":"JsonpJSON","object":null},"lbrace":3387,"elements":[{"children":[],"start":3388,"end":3391,"code":"\"x\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":3388,"kind":9,"value":"\"x\""},{"children":[],"start":3393,"end":3398,"code":"datas","nodeType":"Identifier","column":0,"line":0,"namePos":3393,"name":"datas","object":null}],"rbrace":3398,"incomplete":false},"rparen":3399},"sel":{"children":[],"start":3401,"end":3407,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":3401,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":3408,"end":3410,"code":"w2","nodeType":"Identifier","column":0,"line":0,"namePos":3408,"name":"w2","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":3413,"end":3436,"code":"assert.NoError(t, err2)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3413,"end":3436,"code":"assert.NoError(t, err2)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3413,"end":3427,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3413,"end":3419,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":3413,"name":"assert","object":null},"sel":{"children":[],"start":3420,"end":3427,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":3420,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":3428,"end":3429,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":3428,"name":"t","object":null},{"children":[],"start":3431,"end":3435,"code":"err2","nodeType":"Identifier","column":0,"line":0,"namePos":3431,"name":"err2","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":3438,"end":3516,"code":"assert.Equal(t, \"x([{\\\"foo\\\":\\\"bar\\\"},{\\\"bar\\\":\\\"foo\\\"}]);\", w2.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3438,"end":3516,"code":"assert.Equal(t, \"x([{\\\"foo\\\":\\\"bar\\\"},{\\\"bar\\\":\\\"foo\\\"}]);\", w2.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3438,"end":3450,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3438,"end":3444,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":3438,"name":"assert","object":null},"sel":{"children":[],"start":3445,"end":3450,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":3445,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":3451,"end":3452,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":3451,"name":"t","object":null},{"children":[],"start":3454,"end":3497,"code":"\"x([{\\\"foo\\\":\\\"bar\\\"},{\\\"bar\\\":\\\"foo\\\"}]);\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":3454,"kind":9,"value":"\"x([{\\\"foo\\\":\\\"bar\\\"},{\\\"bar\\\":\\\"foo\\\"}]);\""},{"children":[],"start":3499,"end":3515,"code":"w2.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3499,"end":3513,"code":"w2.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3499,"end":3506,"code":"w2.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3499,"end":3501,"code":"w2","nodeType":"Identifier","column":0,"line":0,"namePos":3499,"name":"w2","object":null},"sel":{"children":[],"start":3502,"end":3506,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":3502,"name":"Body","object":null}},"sel":{"children":[],"start":3507,"end":3513,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":3507,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":3518,"end":3607,"code":"assert.Equal(t, \"application/javascript; charset=utf-8\", w2.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":3518,"end":3607,"code":"assert.Equal(t, \"application/javascript; charset=utf-8\", w2.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3518,"end":3530,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3518,"end":3524,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":3518,"name":"assert","object":null},"sel":{"children":[],"start":3525,"end":3530,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":3525,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":3531,"end":3532,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":3531,"name":"t","object":null},{"children":[],"start":3534,"end":3573,"code":"\"application/javascript; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":3534,"kind":9,"value":"\"application/javascript; charset=utf-8\""},{"children":[],"start":3575,"end":3606,"code":"w2.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3575,"end":3590,"code":"w2.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3575,"end":3586,"code":"w2.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3575,"end":3584,"code":"w2.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3575,"end":3577,"code":"w2","nodeType":"Identifier","column":0,"line":0,"namePos":3575,"name":"w2","object":null},"sel":{"children":[],"start":3578,"end":3584,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":3578,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":3587,"end":3590,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":3587,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":3591,"end":3605,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":3591,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":3608}},{"children":[],"start":3611,"end":3684,"code":"type errorWriter struct {\n\tbufString\tstring\n\t*httptest.ResponseRecorder\n}","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":3611,"token":84,"lparen":0,"specifications":[{"children":[],"start":3616,"end":3684,"code":"errorWriter struct {\n\tbufString\tstring\n\t*httptest.ResponseRecorder\n}","nodeType":"TypeSpecification","column":0,"line":0,"doc":null,"name":{"children":[],"start":3616,"end":3627,"code":"errorWriter","nodeType":"Identifier","column":0,"line":0,"namePos":3616,"name":"errorWriter","object":null},"typeParams":null,"assign":0,"type":{"children":[],"start":3628,"end":3684,"code":"struct {\n\tbufString\tstring\n\t*httptest.ResponseRecorder\n}","nodeType":"StructType","column":0,"line":0,"struct":3628,"fields":{"children":[],"start":3635,"end":3684,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":3635,"list":[{"children":[],"start":3638,"end":3654,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":3638,"end":3647,"code":"bufString","nodeType":"Identifier","column":0,"line":0,"namePos":3638,"name":"bufString","object":null}],"type":{"children":[],"start":3648,"end":3654,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":3648,"name":"string","object":null},"tag":null,"comment":null},{"children":[],"start":3656,"end":3682,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":3656,"end":3682,"code":"*httptest.ResponseRecorder","nodeType":"StarExpression","column":0,"line":0,"star":3656,"expression":{"children":[],"start":3657,"end":3682,"code":"httptest.ResponseRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3657,"end":3665,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":3657,"name":"httptest","object":null},"sel":{"children":[],"start":3666,"end":3682,"code":"ResponseRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":3666,"name":"ResponseRecorder","object":null}}},"tag":null,"comment":null}],"closing":3683},"incomplete":false},"comment":null}],"rparen":0},{"children":[],"start":3686,"end":3733,"code":"var _ http.ResponseWriter = (*errorWriter)(nil)","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":3686,"token":85,"lparen":0,"specifications":[{"children":[],"start":3690,"end":3733,"code":"_ http.ResponseWriter = (*errorWriter)(nil)","nodeType":"ValueSpecification","column":0,"line":0,"doc":null,"names":[{"children":[],"start":3690,"end":3691,"code":"_","nodeType":"Identifier","column":0,"line":0,"namePos":3690,"name":"_","object":null}],"type":{"children":[],"start":3692,"end":3711,"code":"http.ResponseWriter","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3692,"end":3696,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":3692,"name":"http","object":null},"sel":{"children":[],"start":3697,"end":3711,"code":"ResponseWriter","nodeType":"Identifier","column":0,"line":0,"namePos":3697,"name":"ResponseWriter","object":null}},"values":[{"children":[],"start":3714,"end":3733,"code":"(*errorWriter)(nil)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3714,"end":3728,"code":"(*errorWriter)","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":3714,"expression":{"children":[],"start":3715,"end":3727,"code":"*errorWriter","nodeType":"StarExpression","column":0,"line":0,"star":3715,"expression":{"children":[],"start":3716,"end":3727,"code":"errorWriter","nodeType":"Identifier","column":0,"line":0,"namePos":3716,"name":"errorWriter","object":null}},"rparen":3727},"lparen":0,"args":[{"children":[],"start":3729,"end":3732,"code":"nil","nodeType":"Identifier","column":0,"line":0,"namePos":3729,"name":"nil","object":null}],"ellipsis":0,"rparen":0}],"comment":null}],"rparen":0},{"children":[],"start":3735,"end":3925,"code":"func (w *errorWriter) Write(buf []byte) (int, error) {\n\tif string(buf) == w.bufString {\n\t\treturn 0, errors.New(`write \"` + w.bufString + `\" error`)\n\t}\n\treturn w.ResponseRecorder.Write(buf)\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":3740,"end":3756,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":3740,"list":[{"children":[],"start":3741,"end":3755,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":3741,"end":3742,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":3741,"name":"w","object":null}],"type":{"children":[],"start":3743,"end":3755,"code":"*errorWriter","nodeType":"StarExpression","column":0,"line":0,"star":3743,"expression":{"children":[],"start":3744,"end":3755,"code":"errorWriter","nodeType":"Identifier","column":0,"line":0,"namePos":3744,"name":"errorWriter","object":null}},"tag":null,"comment":null}],"closing":3755},"name":{"children":[],"start":3757,"end":3762,"code":"Write","nodeType":"Identifier","column":0,"line":0,"namePos":3757,"name":"Write","object":null},"type":{"children":[],"start":3735,"end":3787,"code":"func(buf []byte) (int, error)","nodeType":"FunctionType","column":0,"line":0,"Function":3735,"TypeParams":null,"Params":{"children":[],"start":3762,"end":3774,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":3762,"list":[{"children":[],"start":3763,"end":3773,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":3763,"end":3766,"code":"buf","nodeType":"Identifier","column":0,"line":0,"namePos":3763,"name":"buf","object":null}],"type":{"children":[],"start":3767,"end":3773,"code":"[]byte","nodeType":"ArrayType","column":0,"line":0,"leftBracket":3767,"length":null,"element":{"children":[],"start":3769,"end":3773,"code":"byte","nodeType":"Identifier","column":0,"line":0,"namePos":3769,"name":"byte","object":null}},"tag":null,"comment":null}],"closing":3773},"Results":{"children":[],"start":3775,"end":3787,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":3775,"list":[{"children":[],"start":3776,"end":3779,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":3776,"end":3779,"code":"int","nodeType":"Identifier","column":0,"line":0,"namePos":3776,"name":"int","object":null},"tag":null,"comment":null},{"children":[],"start":3781,"end":3786,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":3781,"end":3786,"code":"error","nodeType":"Identifier","column":0,"line":0,"namePos":3781,"name":"error","object":null},"tag":null,"comment":null}],"closing":3786}},"body":{"children":[],"start":3788,"end":3925,"code":"{\n\tif string(buf) == w.bufString {\n\t\treturn 0, errors.New(`write \"` + w.bufString + `\" error`)\n\t}\n\treturn w.ResponseRecorder.Write(buf)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":3788,"list":[{"children":[],"start":3791,"end":3885,"code":"if string(buf) == w.bufString {\n\treturn 0, errors.New(`write \"` + w.bufString + `\" error`)\n}","nodeType":"IfStatement","column":0,"line":0,"if":3791,"initialization":null,"condition":{"children":[],"start":3794,"end":3820,"code":"string(buf) == w.bufString","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":3794,"end":3805,"code":"string(buf)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3794,"end":3800,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":3794,"name":"string","object":null},"lparen":0,"args":[{"children":[],"start":3801,"end":3804,"code":"buf","nodeType":"Identifier","column":0,"line":0,"namePos":3801,"name":"buf","object":null}],"ellipsis":0,"rparen":0},"opPos":3806,"op":39,"rightExpression":{"children":[],"start":3809,"end":3820,"code":"w.bufString","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3809,"end":3810,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":3809,"name":"w","object":null},"sel":{"children":[],"start":3811,"end":3820,"code":"bufString","nodeType":"Identifier","column":0,"line":0,"namePos":3811,"name":"bufString","object":null}}},"body":{"children":[],"start":3821,"end":3885,"code":"{\n\treturn 0, errors.New(`write \"` + w.bufString + `\" error`)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":3821,"list":[{"children":[],"start":3825,"end":3882,"code":"return 0, errors.New(`write \"` + w.bufString + `\" error`)","nodeType":"ReturnStatement","column":0,"line":0,"return":3825,"results":[{"children":[],"start":3832,"end":3833,"code":"0","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":3832,"kind":5,"value":"0"},{"children":[],"start":3835,"end":3882,"code":"errors.New(`write \"` + w.bufString + `\" error`)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3835,"end":3845,"code":"errors.New","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3835,"end":3841,"code":"errors","nodeType":"Identifier","column":0,"line":0,"namePos":3835,"name":"errors","object":null},"sel":{"children":[],"start":3842,"end":3845,"code":"New","nodeType":"Identifier","column":0,"line":0,"namePos":3842,"name":"New","object":null}},"lparen":0,"args":[{"children":[],"start":3846,"end":3881,"code":"`write \"` + w.bufString + `\" error`","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":3846,"end":3869,"code":"`write \"` + w.bufString","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":3846,"end":3855,"code":"`write \"`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":3846,"kind":9,"value":"`write \"`"},"opPos":3856,"op":12,"rightExpression":{"children":[],"start":3858,"end":3869,"code":"w.bufString","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3858,"end":3859,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":3858,"name":"w","object":null},"sel":{"children":[],"start":3860,"end":3869,"code":"bufString","nodeType":"Identifier","column":0,"line":0,"namePos":3860,"name":"bufString","object":null}}},"opPos":3870,"op":12,"rightExpression":{"children":[],"start":3872,"end":3881,"code":"`\" error`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":3872,"kind":9,"value":"`\" error`"}}],"ellipsis":0,"rparen":0}]}],"rbrace":3884},"else":null},{"children":[],"start":3887,"end":3923,"code":"return w.ResponseRecorder.Write(buf)","nodeType":"ReturnStatement","column":0,"line":0,"return":3887,"results":[{"children":[],"start":3894,"end":3923,"code":"w.ResponseRecorder.Write(buf)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":3894,"end":3918,"code":"w.ResponseRecorder.Write","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3894,"end":3912,"code":"w.ResponseRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3894,"end":3895,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":3894,"name":"w","object":null},"sel":{"children":[],"start":3896,"end":3912,"code":"ResponseRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":3896,"name":"ResponseRecorder","object":null}},"sel":{"children":[],"start":3913,"end":3918,"code":"Write","nodeType":"Identifier","column":0,"line":0,"namePos":3913,"name":"Write","object":null}},"lparen":0,"args":[{"children":[],"start":3919,"end":3922,"code":"buf","nodeType":"Identifier","column":0,"line":0,"namePos":3919,"name":"buf","object":null}],"ellipsis":0,"rparen":0}]}],"rbrace":3924}},{"children":[],"start":3927,"end":4752,"code":"func TestRenderJsonpJSONError(t *testing.T) {\n\tew := \u0026errorWriter{ResponseRecorder: httptest.NewRecorder()}\n\tjsonpJSON := JsonpJSON{Callback: \"foo\", Data: map[string]string{\"foo\": \"bar\"}}\n\tcb := template.JSEscapeString(jsonpJSON.Callback)\n\tew.bufString = cb\n\terr := jsonpJSON.Render(ew)\n\tassert.Equal(t, `write \"`+cb+`\" error`, err.Error())\n\tew.bufString = `(`\n\terr = jsonpJSON.Render(ew)\n\tassert.Equal(t, `write \"`+`(`+`\" error`, err.Error())\n\tdata, _ := json.Marshal(jsonpJSON.Data)\n\tew.bufString = string(data)\n\terr = jsonpJSON.Render(ew)\n\tassert.Equal(t, `write \"`+string(data)+`\" error`, err.Error())\n\tew.bufString = `);`\n\terr = jsonpJSON.Render(ew)\n\tassert.Equal(t, `write \"`+`);`+`\" error`, err.Error())\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":3932,"end":3956,"code":"TestRenderJsonpJSONError","nodeType":"Identifier","column":0,"line":0,"namePos":3932,"name":"TestRenderJsonpJSONError","object":null},"type":{"children":[],"start":3927,"end":3970,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":3927,"TypeParams":null,"Params":{"children":[],"start":3956,"end":3970,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":3956,"list":[{"children":[],"start":3957,"end":3969,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":3957,"end":3958,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":3957,"name":"t","object":null}],"type":{"children":[],"start":3959,"end":3969,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":3959,"expression":{"children":[],"start":3960,"end":3969,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":3960,"end":3967,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":3960,"name":"testing","object":null},"sel":{"children":[],"start":3968,"end":3969,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":3968,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":3969},"Results":null},"body":{"children":[],"start":3971,"end":4752,"code":"{\n\tew := \u0026errorWriter{ResponseRecorder: httptest.NewRecorder()}\n\tjsonpJSON := JsonpJSON{Callback: \"foo\", Data: map[string]string{\"foo\": \"bar\"}}\n\tcb := template.JSEscapeString(jsonpJSON.Callback)\n\tew.bufString = cb\n\terr := jsonpJSON.Render(ew)\n\tassert.Equal(t, `write \"`+cb+`\" error`, err.Error())\n\tew.bufString = `(`\n\terr = jsonpJSON.Render(ew)\n\tassert.Equal(t, `write \"`+`(`+`\" error`, err.Error())\n\tdata, _ := json.Marshal(jsonpJSON.Data)\n\tew.bufString = string(data)\n\terr = jsonpJSON.Render(ew)\n\tassert.Equal(t, `write \"`+string(data)+`\" error`, err.Error())\n\tew.bufString = `);`\n\terr = jsonpJSON.Render(ew)\n\tassert.Equal(t, `write \"`+`);`+`\" error`, err.Error())\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":3971,"list":[{"children":[],"start":3974,"end":4040,"code":"ew := \u0026errorWriter{ResponseRecorder: httptest.NewRecorder()}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":3974,"end":3976,"code":"ew","nodeType":"Identifier","column":0,"line":0,"namePos":3974,"name":"ew","object":null}],"tokenPos":3977,"token":47,"rhs":[{"children":[],"start":3980,"end":4040,"code":"\u0026errorWriter{ResponseRecorder: httptest.NewRecorder()}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":3980,"op":17,"expression":{"children":[],"start":3981,"end":4040,"code":"errorWriter{ResponseRecorder: httptest.NewRecorder()}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":3981,"end":3992,"code":"errorWriter","nodeType":"Identifier","column":0,"line":0,"namePos":3981,"name":"errorWriter","object":null},"lbrace":3992,"elements":[{"children":[],"start":3996,"end":4036,"code":"ResponseRecorder: httptest.NewRecorder()","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":3996,"end":4012,"code":"ResponseRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":3996,"name":"ResponseRecorder","object":null},"colon":0,"value":{"children":[],"start":4014,"end":4036,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4014,"end":4034,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4014,"end":4022,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":4014,"name":"httptest","object":null},"sel":{"children":[],"start":4023,"end":4034,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":4023,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}}],"rbrace":4039,"incomplete":false}}]},{"children":[],"start":4043,"end":4137,"code":"jsonpJSON := JsonpJSON{Callback: \"foo\", Data: map[string]string{\"foo\": \"bar\"}}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4043,"end":4052,"code":"jsonpJSON","nodeType":"Identifier","column":0,"line":0,"namePos":4043,"name":"jsonpJSON","object":null}],"tokenPos":4053,"token":47,"rhs":[{"children":[],"start":4056,"end":4137,"code":"JsonpJSON{Callback: \"foo\", Data: map[string]string{\"foo\": \"bar\"}}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":4056,"end":4065,"code":"JsonpJSON","nodeType":"Identifier","column":0,"line":0,"namePos":4056,"name":"JsonpJSON","object":null},"lbrace":4065,"elements":[{"children":[],"start":4069,"end":4084,"code":"Callback: \"foo\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":4069,"end":4077,"code":"Callback","nodeType":"Identifier","column":0,"line":0,"namePos":4069,"name":"Callback","object":null},"colon":0,"value":{"children":[],"start":4079,"end":4084,"code":"\"foo\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4079,"kind":9,"value":"\"foo\""}},{"children":[],"start":4088,"end":4133,"code":"Data: map[string]string{\"foo\": \"bar\"}","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":4088,"end":4092,"code":"Data","nodeType":"Identifier","column":0,"line":0,"namePos":4088,"name":"Data","object":null},"colon":0,"value":{"children":[],"start":4094,"end":4133,"code":"map[string]string{\"foo\": \"bar\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":4094,"end":4111,"code":"map[string]string","nodeType":"MapType","column":0,"line":0,"map":4094,"key":{"children":[],"start":4098,"end":4104,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":4098,"name":"string","object":null},"value":{"children":[],"start":4105,"end":4111,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":4105,"name":"string","object":null}},"lbrace":4111,"elements":[{"children":[],"start":4116,"end":4128,"code":"\"foo\": \"bar\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":4116,"end":4121,"code":"\"foo\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4116,"kind":9,"value":"\"foo\""},"colon":0,"value":{"children":[],"start":4123,"end":4128,"code":"\"bar\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4123,"kind":9,"value":"\"bar\""}}],"rbrace":4132,"incomplete":false}}],"rbrace":4136,"incomplete":false}]},{"children":[],"start":4140,"end":4189,"code":"cb := template.JSEscapeString(jsonpJSON.Callback)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4140,"end":4142,"code":"cb","nodeType":"Identifier","column":0,"line":0,"namePos":4140,"name":"cb","object":null}],"tokenPos":4143,"token":47,"rhs":[{"children":[],"start":4146,"end":4189,"code":"template.JSEscapeString(jsonpJSON.Callback)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4146,"end":4169,"code":"template.JSEscapeString","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4146,"end":4154,"code":"template","nodeType":"Identifier","column":0,"line":0,"namePos":4146,"name":"template","object":null},"sel":{"children":[],"start":4155,"end":4169,"code":"JSEscapeString","nodeType":"Identifier","column":0,"line":0,"namePos":4155,"name":"JSEscapeString","object":null}},"lparen":0,"args":[{"children":[],"start":4170,"end":4188,"code":"jsonpJSON.Callback","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4170,"end":4179,"code":"jsonpJSON","nodeType":"Identifier","column":0,"line":0,"namePos":4170,"name":"jsonpJSON","object":null},"sel":{"children":[],"start":4180,"end":4188,"code":"Callback","nodeType":"Identifier","column":0,"line":0,"namePos":4180,"name":"Callback","object":null}}],"ellipsis":0,"rparen":0}]},{"children":[],"start":4191,"end":4208,"code":"ew.bufString = cb","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4191,"end":4203,"code":"ew.bufString","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4191,"end":4193,"code":"ew","nodeType":"Identifier","column":0,"line":0,"namePos":4191,"name":"ew","object":null},"sel":{"children":[],"start":4194,"end":4203,"code":"bufString","nodeType":"Identifier","column":0,"line":0,"namePos":4194,"name":"bufString","object":null}}],"tokenPos":4204,"token":42,"rhs":[{"children":[],"start":4206,"end":4208,"code":"cb","nodeType":"Identifier","column":0,"line":0,"namePos":4206,"name":"cb","object":null}]},{"children":[],"start":4210,"end":4237,"code":"err := jsonpJSON.Render(ew)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4210,"end":4213,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":4210,"name":"err","object":null}],"tokenPos":4214,"token":47,"rhs":[{"children":[],"start":4217,"end":4237,"code":"jsonpJSON.Render(ew)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4217,"end":4233,"code":"jsonpJSON.Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4217,"end":4226,"code":"jsonpJSON","nodeType":"Identifier","column":0,"line":0,"namePos":4217,"name":"jsonpJSON","object":null},"sel":{"children":[],"start":4227,"end":4233,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":4227,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":4234,"end":4236,"code":"ew","nodeType":"Identifier","column":0,"line":0,"namePos":4234,"name":"ew","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":4284,"end":4336,"code":"assert.Equal(t, `write \"`+cb+`\" error`, err.Error())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":4284,"end":4336,"code":"assert.Equal(t, `write \"`+cb+`\" error`, err.Error())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4284,"end":4296,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4284,"end":4290,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":4284,"name":"assert","object":null},"sel":{"children":[],"start":4291,"end":4296,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":4291,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":4297,"end":4298,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":4297,"name":"t","object":null},{"children":[],"start":4300,"end":4322,"code":"`write \"` + cb + `\" error`","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":4300,"end":4312,"code":"`write \"` + cb","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":4300,"end":4309,"code":"`write \"`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4300,"kind":9,"value":"`write \"`"},"opPos":4309,"op":12,"rightExpression":{"children":[],"start":4310,"end":4312,"code":"cb","nodeType":"Identifier","column":0,"line":0,"namePos":4310,"name":"cb","object":null}},"opPos":4312,"op":12,"rightExpression":{"children":[],"start":4313,"end":4322,"code":"`\" error`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4313,"kind":9,"value":"`\" error`"}},{"children":[],"start":4324,"end":4335,"code":"err.Error()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4324,"end":4333,"code":"err.Error","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4324,"end":4327,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":4324,"name":"err","object":null},"sel":{"children":[],"start":4328,"end":4333,"code":"Error","nodeType":"Identifier","column":0,"line":0,"namePos":4328,"name":"Error","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":4339,"end":4357,"code":"ew.bufString = `(`","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4339,"end":4351,"code":"ew.bufString","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4339,"end":4341,"code":"ew","nodeType":"Identifier","column":0,"line":0,"namePos":4339,"name":"ew","object":null},"sel":{"children":[],"start":4342,"end":4351,"code":"bufString","nodeType":"Identifier","column":0,"line":0,"namePos":4342,"name":"bufString","object":null}}],"tokenPos":4352,"token":42,"rhs":[{"children":[],"start":4354,"end":4357,"code":"`(`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4354,"kind":9,"value":"`(`"}]},{"children":[],"start":4359,"end":4385,"code":"err = jsonpJSON.Render(ew)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4359,"end":4362,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":4359,"name":"err","object":null}],"tokenPos":4363,"token":42,"rhs":[{"children":[],"start":4365,"end":4385,"code":"jsonpJSON.Render(ew)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4365,"end":4381,"code":"jsonpJSON.Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4365,"end":4374,"code":"jsonpJSON","nodeType":"Identifier","column":0,"line":0,"namePos":4365,"name":"jsonpJSON","object":null},"sel":{"children":[],"start":4375,"end":4381,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":4375,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":4382,"end":4384,"code":"ew","nodeType":"Identifier","column":0,"line":0,"namePos":4382,"name":"ew","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":4387,"end":4440,"code":"assert.Equal(t, `write \"`+`(`+`\" error`, err.Error())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":4387,"end":4440,"code":"assert.Equal(t, `write \"`+`(`+`\" error`, err.Error())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4387,"end":4399,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4387,"end":4393,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":4387,"name":"assert","object":null},"sel":{"children":[],"start":4394,"end":4399,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":4394,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":4400,"end":4401,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":4400,"name":"t","object":null},{"children":[],"start":4403,"end":4426,"code":"`write \"` + `(` + `\" error`","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":4403,"end":4416,"code":"`write \"` + `(`","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":4403,"end":4412,"code":"`write \"`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4403,"kind":9,"value":"`write \"`"},"opPos":4412,"op":12,"rightExpression":{"children":[],"start":4413,"end":4416,"code":"`(`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4413,"kind":9,"value":"`(`"}},"opPos":4416,"op":12,"rightExpression":{"children":[],"start":4417,"end":4426,"code":"`\" error`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4417,"kind":9,"value":"`\" error`"}},{"children":[],"start":4428,"end":4439,"code":"err.Error()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4428,"end":4437,"code":"err.Error","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4428,"end":4431,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":4428,"name":"err","object":null},"sel":{"children":[],"start":4432,"end":4437,"code":"Error","nodeType":"Identifier","column":0,"line":0,"namePos":4432,"name":"Error","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":4443,"end":4482,"code":"data, _ := json.Marshal(jsonpJSON.Data)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4443,"end":4447,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":4443,"name":"data","object":null},{"children":[],"start":4449,"end":4450,"code":"_","nodeType":"Identifier","column":0,"line":0,"namePos":4449,"name":"_","object":null}],"tokenPos":4451,"token":47,"rhs":[{"children":[],"start":4454,"end":4482,"code":"json.Marshal(jsonpJSON.Data)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4454,"end":4466,"code":"json.Marshal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4454,"end":4458,"code":"json","nodeType":"Identifier","column":0,"line":0,"namePos":4454,"name":"json","object":null},"sel":{"children":[],"start":4459,"end":4466,"code":"Marshal","nodeType":"Identifier","column":0,"line":0,"namePos":4459,"name":"Marshal","object":null}},"lparen":0,"args":[{"children":[],"start":4467,"end":4481,"code":"jsonpJSON.Data","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4467,"end":4476,"code":"jsonpJSON","nodeType":"Identifier","column":0,"line":0,"namePos":4467,"name":"jsonpJSON","object":null},"sel":{"children":[],"start":4477,"end":4481,"code":"Data","nodeType":"Identifier","column":0,"line":0,"namePos":4477,"name":"Data","object":null}}],"ellipsis":0,"rparen":0}]},{"children":[],"start":4525,"end":4552,"code":"ew.bufString = string(data)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4525,"end":4537,"code":"ew.bufString","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4525,"end":4527,"code":"ew","nodeType":"Identifier","column":0,"line":0,"namePos":4525,"name":"ew","object":null},"sel":{"children":[],"start":4528,"end":4537,"code":"bufString","nodeType":"Identifier","column":0,"line":0,"namePos":4528,"name":"bufString","object":null}}],"tokenPos":4538,"token":42,"rhs":[{"children":[],"start":4540,"end":4552,"code":"string(data)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4540,"end":4546,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":4540,"name":"string","object":null},"lparen":0,"args":[{"children":[],"start":4547,"end":4551,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":4547,"name":"data","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":4554,"end":4580,"code":"err = jsonpJSON.Render(ew)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4554,"end":4557,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":4554,"name":"err","object":null}],"tokenPos":4558,"token":42,"rhs":[{"children":[],"start":4560,"end":4580,"code":"jsonpJSON.Render(ew)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4560,"end":4576,"code":"jsonpJSON.Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4560,"end":4569,"code":"jsonpJSON","nodeType":"Identifier","column":0,"line":0,"namePos":4560,"name":"jsonpJSON","object":null},"sel":{"children":[],"start":4570,"end":4576,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":4570,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":4577,"end":4579,"code":"ew","nodeType":"Identifier","column":0,"line":0,"namePos":4577,"name":"ew","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":4582,"end":4644,"code":"assert.Equal(t, `write \"`+string(data)+`\" error`, err.Error())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":4582,"end":4644,"code":"assert.Equal(t, `write \"`+string(data)+`\" error`, err.Error())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4582,"end":4594,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4582,"end":4588,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":4582,"name":"assert","object":null},"sel":{"children":[],"start":4589,"end":4594,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":4589,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":4595,"end":4596,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":4595,"name":"t","object":null},{"children":[],"start":4598,"end":4630,"code":"`write \"` + string(data) + `\" error`","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":4598,"end":4620,"code":"`write \"` + string(data)","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":4598,"end":4607,"code":"`write \"`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4598,"kind":9,"value":"`write \"`"},"opPos":4607,"op":12,"rightExpression":{"children":[],"start":4608,"end":4620,"code":"string(data)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4608,"end":4614,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":4608,"name":"string","object":null},"lparen":0,"args":[{"children":[],"start":4615,"end":4619,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":4615,"name":"data","object":null}],"ellipsis":0,"rparen":0}},"opPos":4620,"op":12,"rightExpression":{"children":[],"start":4621,"end":4630,"code":"`\" error`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4621,"kind":9,"value":"`\" error`"}},{"children":[],"start":4632,"end":4643,"code":"err.Error()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4632,"end":4641,"code":"err.Error","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4632,"end":4635,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":4632,"name":"err","object":null},"sel":{"children":[],"start":4636,"end":4641,"code":"Error","nodeType":"Identifier","column":0,"line":0,"namePos":4636,"name":"Error","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":4647,"end":4666,"code":"ew.bufString = `);`","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4647,"end":4659,"code":"ew.bufString","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4647,"end":4649,"code":"ew","nodeType":"Identifier","column":0,"line":0,"namePos":4647,"name":"ew","object":null},"sel":{"children":[],"start":4650,"end":4659,"code":"bufString","nodeType":"Identifier","column":0,"line":0,"namePos":4650,"name":"bufString","object":null}}],"tokenPos":4660,"token":42,"rhs":[{"children":[],"start":4662,"end":4666,"code":"`);`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4662,"kind":9,"value":"`);`"}]},{"children":[],"start":4668,"end":4694,"code":"err = jsonpJSON.Render(ew)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4668,"end":4671,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":4668,"name":"err","object":null}],"tokenPos":4672,"token":42,"rhs":[{"children":[],"start":4674,"end":4694,"code":"jsonpJSON.Render(ew)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4674,"end":4690,"code":"jsonpJSON.Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4674,"end":4683,"code":"jsonpJSON","nodeType":"Identifier","column":0,"line":0,"namePos":4674,"name":"jsonpJSON","object":null},"sel":{"children":[],"start":4684,"end":4690,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":4684,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":4691,"end":4693,"code":"ew","nodeType":"Identifier","column":0,"line":0,"namePos":4691,"name":"ew","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":4696,"end":4750,"code":"assert.Equal(t, `write \"`+`);`+`\" error`, err.Error())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":4696,"end":4750,"code":"assert.Equal(t, `write \"`+`);`+`\" error`, err.Error())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4696,"end":4708,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4696,"end":4702,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":4696,"name":"assert","object":null},"sel":{"children":[],"start":4703,"end":4708,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":4703,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":4709,"end":4710,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":4709,"name":"t","object":null},{"children":[],"start":4712,"end":4736,"code":"`write \"` + `);` + `\" error`","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":4712,"end":4726,"code":"`write \"` + `);`","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":4712,"end":4721,"code":"`write \"`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4712,"kind":9,"value":"`write \"`"},"opPos":4721,"op":12,"rightExpression":{"children":[],"start":4722,"end":4726,"code":"`);`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4722,"kind":9,"value":"`);`"}},"opPos":4726,"op":12,"rightExpression":{"children":[],"start":4727,"end":4736,"code":"`\" error`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4727,"kind":9,"value":"`\" error`"}},{"children":[],"start":4738,"end":4749,"code":"err.Error()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4738,"end":4747,"code":"err.Error","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4738,"end":4741,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":4738,"name":"err","object":null},"sel":{"children":[],"start":4742,"end":4747,"code":"Error","nodeType":"Identifier","column":0,"line":0,"namePos":4742,"name":"Error","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":4751}},{"children":[],"start":4754,"end":5215,"code":"func TestRenderJsonpJSONError2(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\"}\n\t(JsonpJSON{\"\", data}).WriteContentType(w)\n\tassert.Equal(t, \"application/javascript; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n\te := (JsonpJSON{\"\", data}).Render(w)\n\tassert.NoError(t, e)\n\tassert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\"}\", w.Body.String())\n\tassert.Equal(t, \"application/javascript; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":4759,"end":4784,"code":"TestRenderJsonpJSONError2","nodeType":"Identifier","column":0,"line":0,"namePos":4759,"name":"TestRenderJsonpJSONError2","object":null},"type":{"children":[],"start":4754,"end":4798,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":4754,"TypeParams":null,"Params":{"children":[],"start":4784,"end":4798,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":4784,"list":[{"children":[],"start":4785,"end":4797,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":4785,"end":4786,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":4785,"name":"t","object":null}],"type":{"children":[],"start":4787,"end":4797,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":4787,"expression":{"children":[],"start":4788,"end":4797,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4788,"end":4795,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":4788,"name":"testing","object":null},"sel":{"children":[],"start":4796,"end":4797,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":4796,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":4797},"Results":null},"body":{"children":[],"start":4799,"end":5215,"code":"{\n\tw := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\"}\n\t(JsonpJSON{\"\", data}).WriteContentType(w)\n\tassert.Equal(t, \"application/javascript; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n\te := (JsonpJSON{\"\", data}).Render(w)\n\tassert.NoError(t, e)\n\tassert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\"}\", w.Body.String())\n\tassert.Equal(t, \"application/javascript; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":4799,"list":[{"children":[],"start":4802,"end":4829,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4802,"end":4803,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":4802,"name":"w","object":null}],"tokenPos":4804,"token":47,"rhs":[{"children":[],"start":4807,"end":4829,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4807,"end":4827,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4807,"end":4815,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":4807,"name":"httptest","object":null},"sel":{"children":[],"start":4816,"end":4827,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":4816,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":4831,"end":4873,"code":"data := map[string]any{\"foo\": \"bar\"}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":4831,"end":4835,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":4831,"name":"data","object":null}],"tokenPos":4836,"token":47,"rhs":[{"children":[],"start":4839,"end":4873,"code":"map[string]any{\"foo\": \"bar\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":4839,"end":4853,"code":"map[string]any","nodeType":"MapType","column":0,"line":0,"map":4839,"key":{"children":[],"start":4843,"end":4849,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":4843,"name":"string","object":null},"value":{"children":[],"start":4850,"end":4853,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":4850,"name":"any","object":null}},"lbrace":4853,"elements":[{"children":[],"start":4857,"end":4869,"code":"\"foo\": \"bar\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":4857,"end":4862,"code":"\"foo\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4857,"kind":9,"value":"\"foo\""},"colon":0,"value":{"children":[],"start":4864,"end":4869,"code":"\"bar\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4864,"kind":9,"value":"\"bar\""}}],"rbrace":4872,"incomplete":false}]},{"children":[],"start":4875,"end":4916,"code":"(JsonpJSON{\"\", data}).WriteContentType(w)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":4875,"end":4916,"code":"(JsonpJSON{\"\", data}).WriteContentType(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4875,"end":4913,"code":"(JsonpJSON{\"\", data}).WriteContentType","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4875,"end":4896,"code":"(JsonpJSON{\"\", data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":4875,"expression":{"children":[],"start":4876,"end":4895,"code":"JsonpJSON{\"\", data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":4876,"end":4885,"code":"JsonpJSON","nodeType":"Identifier","column":0,"line":0,"namePos":4876,"name":"JsonpJSON","object":null},"lbrace":4885,"elements":[{"children":[],"start":4886,"end":4888,"code":"\"\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4886,"kind":9,"value":"\"\""},{"children":[],"start":4890,"end":4894,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":4890,"name":"data","object":null}],"rbrace":4894,"incomplete":false},"rparen":4895},"sel":{"children":[],"start":4897,"end":4913,"code":"WriteContentType","nodeType":"Identifier","column":0,"line":0,"namePos":4897,"name":"WriteContentType","object":null}},"lparen":0,"args":[{"children":[],"start":4914,"end":4915,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":4914,"name":"w","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":4918,"end":5006,"code":"assert.Equal(t, \"application/javascript; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":4918,"end":5006,"code":"assert.Equal(t, \"application/javascript; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4918,"end":4930,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4918,"end":4924,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":4918,"name":"assert","object":null},"sel":{"children":[],"start":4925,"end":4930,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":4925,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":4931,"end":4932,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":4931,"name":"t","object":null},{"children":[],"start":4934,"end":4973,"code":"\"application/javascript; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4934,"kind":9,"value":"\"application/javascript; charset=utf-8\""},{"children":[],"start":4975,"end":5005,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4975,"end":4989,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4975,"end":4985,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":4975,"end":4983,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":4975,"end":4976,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":4975,"name":"w","object":null},"sel":{"children":[],"start":4977,"end":4983,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":4977,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":4986,"end":4989,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":4986,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":4990,"end":5004,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":4990,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":5009,"end":5045,"code":"e := (JsonpJSON{\"\", data}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":5009,"end":5010,"code":"e","nodeType":"Identifier","column":0,"line":0,"namePos":5009,"name":"e","object":null}],"tokenPos":5011,"token":47,"rhs":[{"children":[],"start":5014,"end":5045,"code":"(JsonpJSON{\"\", data}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5014,"end":5042,"code":"(JsonpJSON{\"\", data}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5014,"end":5035,"code":"(JsonpJSON{\"\", data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":5014,"expression":{"children":[],"start":5015,"end":5034,"code":"JsonpJSON{\"\", data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":5015,"end":5024,"code":"JsonpJSON","nodeType":"Identifier","column":0,"line":0,"namePos":5015,"name":"JsonpJSON","object":null},"lbrace":5024,"elements":[{"children":[],"start":5025,"end":5027,"code":"\"\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":5025,"kind":9,"value":"\"\""},{"children":[],"start":5029,"end":5033,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":5029,"name":"data","object":null}],"rbrace":5033,"incomplete":false},"rparen":5034},"sel":{"children":[],"start":5036,"end":5042,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":5036,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":5043,"end":5044,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":5043,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":5047,"end":5067,"code":"assert.NoError(t, e)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":5047,"end":5067,"code":"assert.NoError(t, e)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5047,"end":5061,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5047,"end":5053,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":5047,"name":"assert","object":null},"sel":{"children":[],"start":5054,"end":5061,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":5054,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":5062,"end":5063,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":5062,"name":"t","object":null},{"children":[],"start":5065,"end":5066,"code":"e","nodeType":"Identifier","column":0,"line":0,"namePos":5065,"name":"e","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":5070,"end":5123,"code":"assert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\"}\", w.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":5070,"end":5123,"code":"assert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\"}\", w.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5070,"end":5082,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5070,"end":5076,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":5070,"name":"assert","object":null},"sel":{"children":[],"start":5077,"end":5082,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":5077,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":5083,"end":5084,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":5083,"name":"t","object":null},{"children":[],"start":5086,"end":5105,"code":"\"{\\\"foo\\\":\\\"bar\\\"}\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":5086,"kind":9,"value":"\"{\\\"foo\\\":\\\"bar\\\"}\""},{"children":[],"start":5107,"end":5122,"code":"w.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5107,"end":5120,"code":"w.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5107,"end":5113,"code":"w.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5107,"end":5108,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":5107,"name":"w","object":null},"sel":{"children":[],"start":5109,"end":5113,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":5109,"name":"Body","object":null}},"sel":{"children":[],"start":5114,"end":5120,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":5114,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":5125,"end":5213,"code":"assert.Equal(t, \"application/javascript; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":5125,"end":5213,"code":"assert.Equal(t, \"application/javascript; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5125,"end":5137,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5125,"end":5131,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":5125,"name":"assert","object":null},"sel":{"children":[],"start":5132,"end":5137,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":5132,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":5138,"end":5139,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":5138,"name":"t","object":null},{"children":[],"start":5141,"end":5180,"code":"\"application/javascript; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":5141,"kind":9,"value":"\"application/javascript; charset=utf-8\""},{"children":[],"start":5182,"end":5212,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5182,"end":5196,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5182,"end":5192,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5182,"end":5190,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5182,"end":5183,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":5182,"name":"w","object":null},"sel":{"children":[],"start":5184,"end":5190,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":5184,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":5193,"end":5196,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":5193,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":5197,"end":5211,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":5197,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":5214}},{"children":[],"start":5217,"end":5417,"code":"func TestRenderJsonpJSONFail(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := make(chan int)\n\terr := (JsonpJSON{\"x\", data}).Render(w)\n\tassert.Error(t, err)\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":5222,"end":5245,"code":"TestRenderJsonpJSONFail","nodeType":"Identifier","column":0,"line":0,"namePos":5222,"name":"TestRenderJsonpJSONFail","object":null},"type":{"children":[],"start":5217,"end":5259,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":5217,"TypeParams":null,"Params":{"children":[],"start":5245,"end":5259,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":5245,"list":[{"children":[],"start":5246,"end":5258,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":5246,"end":5247,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":5246,"name":"t","object":null}],"type":{"children":[],"start":5248,"end":5258,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":5248,"expression":{"children":[],"start":5249,"end":5258,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5249,"end":5256,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":5249,"name":"testing","object":null},"sel":{"children":[],"start":5257,"end":5258,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":5257,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":5258},"Results":null},"body":{"children":[],"start":5260,"end":5417,"code":"{\n\tw := httptest.NewRecorder()\n\tdata := make(chan int)\n\terr := (JsonpJSON{\"x\", data}).Render(w)\n\tassert.Error(t, err)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":5260,"list":[{"children":[],"start":5263,"end":5290,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":5263,"end":5264,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":5263,"name":"w","object":null}],"tokenPos":5265,"token":47,"rhs":[{"children":[],"start":5268,"end":5290,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5268,"end":5288,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5268,"end":5276,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":5268,"name":"httptest","object":null},"sel":{"children":[],"start":5277,"end":5288,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":5277,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":5292,"end":5314,"code":"data := make(chan int)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":5292,"end":5296,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":5292,"name":"data","object":null}],"tokenPos":5297,"token":47,"rhs":[{"children":[],"start":5300,"end":5314,"code":"make(chan int)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5300,"end":5304,"code":"make","nodeType":"Identifier","column":0,"line":0,"namePos":5300,"name":"make","object":null},"lparen":0,"args":[{"children":[],"start":5305,"end":5313,"code":"chan int","nodeType":"ChanelType","column":0,"line":0,"begin":5305,"arrow":0,"direction":3,"value":{"children":[],"start":5310,"end":5313,"code":"int","nodeType":"Identifier","column":0,"line":0,"namePos":5310,"name":"int","object":null}}],"ellipsis":0,"rparen":0}]},{"children":[],"start":5354,"end":5393,"code":"err := (JsonpJSON{\"x\", data}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":5354,"end":5357,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":5354,"name":"err","object":null}],"tokenPos":5358,"token":47,"rhs":[{"children":[],"start":5361,"end":5393,"code":"(JsonpJSON{\"x\", data}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5361,"end":5390,"code":"(JsonpJSON{\"x\", data}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5361,"end":5383,"code":"(JsonpJSON{\"x\", data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":5361,"expression":{"children":[],"start":5362,"end":5382,"code":"JsonpJSON{\"x\", data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":5362,"end":5371,"code":"JsonpJSON","nodeType":"Identifier","column":0,"line":0,"namePos":5362,"name":"JsonpJSON","object":null},"lbrace":5371,"elements":[{"children":[],"start":5372,"end":5375,"code":"\"x\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":5372,"kind":9,"value":"\"x\""},{"children":[],"start":5377,"end":5381,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":5377,"name":"data","object":null}],"rbrace":5381,"incomplete":false},"rparen":5382},"sel":{"children":[],"start":5384,"end":5390,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":5384,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":5391,"end":5392,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":5391,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":5395,"end":5415,"code":"assert.Error(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":5395,"end":5415,"code":"assert.Error(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5395,"end":5407,"code":"assert.Error","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5395,"end":5401,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":5395,"name":"assert","object":null},"sel":{"children":[],"start":5402,"end":5407,"code":"Error","nodeType":"Identifier","column":0,"line":0,"namePos":5402,"name":"Error","object":null}},"lparen":0,"args":[{"children":[],"start":5408,"end":5409,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":5408,"name":"t","object":null},{"children":[],"start":5411,"end":5414,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":5411,"name":"err","object":null}],"ellipsis":0,"rparen":0}}],"rbrace":5416}},{"children":[],"start":5419,"end":5954,"code":"func TestRenderAsciiJSON(t *testing.T) {\n\tw1 := httptest.NewRecorder()\n\tdata1 := map[string]any{\"lang\": \"GO语言\", \"tag\": \"\u003cbr\u003e\"}\n\terr := (AsciiJSON{data1}).Render(w1)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"{\\\"lang\\\":\\\"GO\\\\u8bed\\\\u8a00\\\",\\\"tag\\\":\\\"\\\\u003cbr\\\\u003e\\\"}\", w1.Body.String())\n\tassert.Equal(t, \"application/json\", w1.Header().Get(\"Content-Type\"))\n\tw2 := httptest.NewRecorder()\n\tdata2 := 3.1415926\n\terr = (AsciiJSON{data2}).Render(w2)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"3.1415926\", w2.Body.String())\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":5424,"end":5443,"code":"TestRenderAsciiJSON","nodeType":"Identifier","column":0,"line":0,"namePos":5424,"name":"TestRenderAsciiJSON","object":null},"type":{"children":[],"start":5419,"end":5457,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":5419,"TypeParams":null,"Params":{"children":[],"start":5443,"end":5457,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":5443,"list":[{"children":[],"start":5444,"end":5456,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":5444,"end":5445,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":5444,"name":"t","object":null}],"type":{"children":[],"start":5446,"end":5456,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":5446,"expression":{"children":[],"start":5447,"end":5456,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5447,"end":5454,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":5447,"name":"testing","object":null},"sel":{"children":[],"start":5455,"end":5456,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":5455,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":5456},"Results":null},"body":{"children":[],"start":5458,"end":5954,"code":"{\n\tw1 := httptest.NewRecorder()\n\tdata1 := map[string]any{\"lang\": \"GO语言\", \"tag\": \"\u003cbr\u003e\"}\n\terr := (AsciiJSON{data1}).Render(w1)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"{\\\"lang\\\":\\\"GO\\\\u8bed\\\\u8a00\\\",\\\"tag\\\":\\\"\\\\u003cbr\\\\u003e\\\"}\", w1.Body.String())\n\tassert.Equal(t, \"application/json\", w1.Header().Get(\"Content-Type\"))\n\tw2 := httptest.NewRecorder()\n\tdata2 := 3.1415926\n\terr = (AsciiJSON{data2}).Render(w2)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"3.1415926\", w2.Body.String())\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":5458,"list":[{"children":[],"start":5461,"end":5489,"code":"w1 := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":5461,"end":5463,"code":"w1","nodeType":"Identifier","column":0,"line":0,"namePos":5461,"name":"w1","object":null}],"tokenPos":5464,"token":47,"rhs":[{"children":[],"start":5467,"end":5489,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5467,"end":5487,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5467,"end":5475,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":5467,"name":"httptest","object":null},"sel":{"children":[],"start":5476,"end":5487,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":5476,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":5491,"end":5558,"code":"data1 := map[string]any{\"lang\": \"GO语言\", \"tag\": \"\u003cbr\u003e\"}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":5491,"end":5496,"code":"data1","nodeType":"Identifier","column":0,"line":0,"namePos":5491,"name":"data1","object":null}],"tokenPos":5497,"token":47,"rhs":[{"children":[],"start":5500,"end":5558,"code":"map[string]any{\"lang\": \"GO语言\", \"tag\": \"\u003cbr\u003e\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":5500,"end":5514,"code":"map[string]any","nodeType":"MapType","column":0,"line":0,"map":5500,"key":{"children":[],"start":5504,"end":5510,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":5504,"name":"string","object":null},"value":{"children":[],"start":5511,"end":5514,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":5511,"name":"any","object":null}},"lbrace":5514,"elements":[{"children":[],"start":5518,"end":5536,"code":"\"lang\": \"GO语言\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":5518,"end":5524,"code":"\"lang\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":5518,"kind":9,"value":"\"lang\""},"colon":0,"value":{"children":[],"start":5526,"end":5536,"code":"\"GO语言\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":5526,"kind":9,"value":"\"GO语言\""}},{"children":[],"start":5540,"end":5554,"code":"\"tag\": \"\u003cbr\u003e\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":5540,"end":5545,"code":"\"tag\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":5540,"kind":9,"value":"\"tag\""},"colon":0,"value":{"children":[],"start":5548,"end":5554,"code":"\"\u003cbr\u003e\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":5548,"kind":9,"value":"\"\u003cbr\u003e\""}}],"rbrace":5557,"incomplete":false}]},{"children":[],"start":5561,"end":5597,"code":"err := (AsciiJSON{data1}).Render(w1)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":5561,"end":5564,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":5561,"name":"err","object":null}],"tokenPos":5565,"token":47,"rhs":[{"children":[],"start":5568,"end":5597,"code":"(AsciiJSON{data1}).Render(w1)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5568,"end":5593,"code":"(AsciiJSON{data1}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5568,"end":5586,"code":"(AsciiJSON{data1})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":5568,"expression":{"children":[],"start":5569,"end":5585,"code":"AsciiJSON{data1}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":5569,"end":5578,"code":"AsciiJSON","nodeType":"Identifier","column":0,"line":0,"namePos":5569,"name":"AsciiJSON","object":null},"lbrace":5578,"elements":[{"children":[],"start":5579,"end":5584,"code":"data1","nodeType":"Identifier","column":0,"line":0,"namePos":5579,"name":"data1","object":null}],"rbrace":5584,"incomplete":false},"rparen":5585},"sel":{"children":[],"start":5587,"end":5593,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":5587,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":5594,"end":5596,"code":"w1","nodeType":"Identifier","column":0,"line":0,"namePos":5594,"name":"w1","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":5600,"end":5622,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":5600,"end":5622,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5600,"end":5614,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5600,"end":5606,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":5600,"name":"assert","object":null},"sel":{"children":[],"start":5607,"end":5614,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":5607,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":5615,"end":5616,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":5615,"name":"t","object":null},{"children":[],"start":5618,"end":5621,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":5618,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":5624,"end":5721,"code":"assert.Equal(t, \"{\\\"lang\\\":\\\"GO\\\\u8bed\\\\u8a00\\\",\\\"tag\\\":\\\"\\\\u003cbr\\\\u003e\\\"}\", w1.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":5624,"end":5721,"code":"assert.Equal(t, \"{\\\"lang\\\":\\\"GO\\\\u8bed\\\\u8a00\\\",\\\"tag\\\":\\\"\\\\u003cbr\\\\u003e\\\"}\", w1.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5624,"end":5636,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5624,"end":5630,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":5624,"name":"assert","object":null},"sel":{"children":[],"start":5631,"end":5636,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":5631,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":5637,"end":5638,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":5637,"name":"t","object":null},{"children":[],"start":5640,"end":5702,"code":"\"{\\\"lang\\\":\\\"GO\\\\u8bed\\\\u8a00\\\",\\\"tag\\\":\\\"\\\\u003cbr\\\\u003e\\\"}\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":5640,"kind":9,"value":"\"{\\\"lang\\\":\\\"GO\\\\u8bed\\\\u8a00\\\",\\\"tag\\\":\\\"\\\\u003cbr\\\\u003e\\\"}\""},{"children":[],"start":5704,"end":5720,"code":"w1.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5704,"end":5718,"code":"w1.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5704,"end":5711,"code":"w1.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5704,"end":5706,"code":"w1","nodeType":"Identifier","column":0,"line":0,"namePos":5704,"name":"w1","object":null},"sel":{"children":[],"start":5707,"end":5711,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":5707,"name":"Body","object":null}},"sel":{"children":[],"start":5712,"end":5718,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":5712,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":5723,"end":5791,"code":"assert.Equal(t, \"application/json\", w1.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":5723,"end":5791,"code":"assert.Equal(t, \"application/json\", w1.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5723,"end":5735,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5723,"end":5729,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":5723,"name":"assert","object":null},"sel":{"children":[],"start":5730,"end":5735,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":5730,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":5736,"end":5737,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":5736,"name":"t","object":null},{"children":[],"start":5739,"end":5757,"code":"\"application/json\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":5739,"kind":9,"value":"\"application/json\""},{"children":[],"start":5759,"end":5790,"code":"w1.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5759,"end":5774,"code":"w1.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5759,"end":5770,"code":"w1.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5759,"end":5768,"code":"w1.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5759,"end":5761,"code":"w1","nodeType":"Identifier","column":0,"line":0,"namePos":5759,"name":"w1","object":null},"sel":{"children":[],"start":5762,"end":5768,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":5762,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":5771,"end":5774,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":5771,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":5775,"end":5789,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":5775,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":5794,"end":5822,"code":"w2 := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":5794,"end":5796,"code":"w2","nodeType":"Identifier","column":0,"line":0,"namePos":5794,"name":"w2","object":null}],"tokenPos":5797,"token":47,"rhs":[{"children":[],"start":5800,"end":5822,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5800,"end":5820,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5800,"end":5808,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":5800,"name":"httptest","object":null},"sel":{"children":[],"start":5809,"end":5820,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":5809,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":5824,"end":5842,"code":"data2 := 3.1415926","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":5824,"end":5829,"code":"data2","nodeType":"Identifier","column":0,"line":0,"namePos":5824,"name":"data2","object":null}],"tokenPos":5830,"token":47,"rhs":[{"children":[],"start":5833,"end":5842,"code":"3.1415926","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":5833,"kind":6,"value":"3.1415926"}]},{"children":[],"start":5845,"end":5880,"code":"err = (AsciiJSON{data2}).Render(w2)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":5845,"end":5848,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":5845,"name":"err","object":null}],"tokenPos":5849,"token":42,"rhs":[{"children":[],"start":5851,"end":5880,"code":"(AsciiJSON{data2}).Render(w2)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5851,"end":5876,"code":"(AsciiJSON{data2}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5851,"end":5869,"code":"(AsciiJSON{data2})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":5851,"expression":{"children":[],"start":5852,"end":5868,"code":"AsciiJSON{data2}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":5852,"end":5861,"code":"AsciiJSON","nodeType":"Identifier","column":0,"line":0,"namePos":5852,"name":"AsciiJSON","object":null},"lbrace":5861,"elements":[{"children":[],"start":5862,"end":5867,"code":"data2","nodeType":"Identifier","column":0,"line":0,"namePos":5862,"name":"data2","object":null}],"rbrace":5867,"incomplete":false},"rparen":5868},"sel":{"children":[],"start":5870,"end":5876,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":5870,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":5877,"end":5879,"code":"w2","nodeType":"Identifier","column":0,"line":0,"namePos":5877,"name":"w2","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":5882,"end":5904,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":5882,"end":5904,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5882,"end":5896,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5882,"end":5888,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":5882,"name":"assert","object":null},"sel":{"children":[],"start":5889,"end":5896,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":5889,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":5897,"end":5898,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":5897,"name":"t","object":null},{"children":[],"start":5900,"end":5903,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":5900,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":5906,"end":5952,"code":"assert.Equal(t, \"3.1415926\", w2.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":5906,"end":5952,"code":"assert.Equal(t, \"3.1415926\", w2.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5906,"end":5918,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5906,"end":5912,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":5906,"name":"assert","object":null},"sel":{"children":[],"start":5913,"end":5918,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":5913,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":5919,"end":5920,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":5919,"name":"t","object":null},{"children":[],"start":5922,"end":5933,"code":"\"3.1415926\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":5922,"kind":9,"value":"\"3.1415926\""},{"children":[],"start":5935,"end":5951,"code":"w2.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":5935,"end":5949,"code":"w2.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5935,"end":5942,"code":"w2.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5935,"end":5937,"code":"w2","nodeType":"Identifier","column":0,"line":0,"namePos":5935,"name":"w2","object":null},"sel":{"children":[],"start":5938,"end":5942,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":5938,"name":"Body","object":null}},"sel":{"children":[],"start":5943,"end":5949,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":5943,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":5953}},{"children":[],"start":5956,"end":6139,"code":"func TestRenderAsciiJSONFail(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := make(chan int)\n\tassert.Error(t, (AsciiJSON{data}).Render(w))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":5961,"end":5984,"code":"TestRenderAsciiJSONFail","nodeType":"Identifier","column":0,"line":0,"namePos":5961,"name":"TestRenderAsciiJSONFail","object":null},"type":{"children":[],"start":5956,"end":5998,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":5956,"TypeParams":null,"Params":{"children":[],"start":5984,"end":5998,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":5984,"list":[{"children":[],"start":5985,"end":5997,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":5985,"end":5986,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":5985,"name":"t","object":null}],"type":{"children":[],"start":5987,"end":5997,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":5987,"expression":{"children":[],"start":5988,"end":5997,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":5988,"end":5995,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":5988,"name":"testing","object":null},"sel":{"children":[],"start":5996,"end":5997,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":5996,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":5997},"Results":null},"body":{"children":[],"start":5999,"end":6139,"code":"{\n\tw := httptest.NewRecorder()\n\tdata := make(chan int)\n\tassert.Error(t, (AsciiJSON{data}).Render(w))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":5999,"list":[{"children":[],"start":6002,"end":6029,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":6002,"end":6003,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":6002,"name":"w","object":null}],"tokenPos":6004,"token":47,"rhs":[{"children":[],"start":6007,"end":6029,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":6007,"end":6027,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6007,"end":6015,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":6007,"name":"httptest","object":null},"sel":{"children":[],"start":6016,"end":6027,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":6016,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":6031,"end":6053,"code":"data := make(chan int)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":6031,"end":6035,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":6031,"name":"data","object":null}],"tokenPos":6036,"token":47,"rhs":[{"children":[],"start":6039,"end":6053,"code":"make(chan int)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":6039,"end":6043,"code":"make","nodeType":"Identifier","column":0,"line":0,"namePos":6039,"name":"make","object":null},"lparen":0,"args":[{"children":[],"start":6044,"end":6052,"code":"chan int","nodeType":"ChanelType","column":0,"line":0,"begin":6044,"arrow":0,"direction":3,"value":{"children":[],"start":6049,"end":6052,"code":"int","nodeType":"Identifier","column":0,"line":0,"namePos":6049,"name":"int","object":null}}],"ellipsis":0,"rparen":0}]},{"children":[],"start":6093,"end":6137,"code":"assert.Error(t, (AsciiJSON{data}).Render(w))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":6093,"end":6137,"code":"assert.Error(t, (AsciiJSON{data}).Render(w))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":6093,"end":6105,"code":"assert.Error","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6093,"end":6099,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":6093,"name":"assert","object":null},"sel":{"children":[],"start":6100,"end":6105,"code":"Error","nodeType":"Identifier","column":0,"line":0,"namePos":6100,"name":"Error","object":null}},"lparen":0,"args":[{"children":[],"start":6106,"end":6107,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":6106,"name":"t","object":null},{"children":[],"start":6109,"end":6136,"code":"(AsciiJSON{data}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":6109,"end":6133,"code":"(AsciiJSON{data}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6109,"end":6126,"code":"(AsciiJSON{data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":6109,"expression":{"children":[],"start":6110,"end":6125,"code":"AsciiJSON{data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":6110,"end":6119,"code":"AsciiJSON","nodeType":"Identifier","column":0,"line":0,"namePos":6110,"name":"AsciiJSON","object":null},"lbrace":6119,"elements":[{"children":[],"start":6120,"end":6124,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":6120,"name":"data","object":null}],"rbrace":6124,"incomplete":false},"rparen":6125},"sel":{"children":[],"start":6127,"end":6133,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":6127,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":6134,"end":6135,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":6134,"name":"w","object":null}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":6138}},{"children":[],"start":6141,"end":6490,"code":"func TestRenderPureJSON(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\", \"html\": \"\u003cb\u003e\"}\n\terr := (PureJSON{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\",\\\"html\\\":\\\"\u003cb\u003e\\\"}\\n\", w.Body.String())\n\tassert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":6146,"end":6164,"code":"TestRenderPureJSON","nodeType":"Identifier","column":0,"line":0,"namePos":6146,"name":"TestRenderPureJSON","object":null},"type":{"children":[],"start":6141,"end":6178,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":6141,"TypeParams":null,"Params":{"children":[],"start":6164,"end":6178,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":6164,"list":[{"children":[],"start":6165,"end":6177,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":6165,"end":6166,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":6165,"name":"t","object":null}],"type":{"children":[],"start":6167,"end":6177,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":6167,"expression":{"children":[],"start":6168,"end":6177,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6168,"end":6175,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":6168,"name":"testing","object":null},"sel":{"children":[],"start":6176,"end":6177,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":6176,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":6177},"Results":null},"body":{"children":[],"start":6179,"end":6490,"code":"{\n\tw := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\", \"html\": \"\u003cb\u003e\"}\n\terr := (PureJSON{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\",\\\"html\\\":\\\"\u003cb\u003e\\\"}\\n\", w.Body.String())\n\tassert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":6179,"list":[{"children":[],"start":6182,"end":6209,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":6182,"end":6183,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":6182,"name":"w","object":null}],"tokenPos":6184,"token":47,"rhs":[{"children":[],"start":6187,"end":6209,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":6187,"end":6207,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6187,"end":6195,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":6187,"name":"httptest","object":null},"sel":{"children":[],"start":6196,"end":6207,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":6196,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":6211,"end":6271,"code":"data := map[string]any{\"foo\": \"bar\", \"html\": \"\u003cb\u003e\"}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":6211,"end":6215,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":6211,"name":"data","object":null}],"tokenPos":6216,"token":47,"rhs":[{"children":[],"start":6219,"end":6271,"code":"map[string]any{\"foo\": \"bar\", \"html\": \"\u003cb\u003e\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":6219,"end":6233,"code":"map[string]any","nodeType":"MapType","column":0,"line":0,"map":6219,"key":{"children":[],"start":6223,"end":6229,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":6223,"name":"string","object":null},"value":{"children":[],"start":6230,"end":6233,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":6230,"name":"any","object":null}},"lbrace":6233,"elements":[{"children":[],"start":6237,"end":6250,"code":"\"foo\": \"bar\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":6237,"end":6242,"code":"\"foo\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":6237,"kind":9,"value":"\"foo\""},"colon":0,"value":{"children":[],"start":6245,"end":6250,"code":"\"bar\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":6245,"kind":9,"value":"\"bar\""}},{"children":[],"start":6254,"end":6267,"code":"\"html\": \"\u003cb\u003e\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":6254,"end":6260,"code":"\"html\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":6254,"kind":9,"value":"\"html\""},"colon":0,"value":{"children":[],"start":6262,"end":6267,"code":"\"\u003cb\u003e\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":6262,"kind":9,"value":"\"\u003cb\u003e\""}}],"rbrace":6270,"incomplete":false}]},{"children":[],"start":6273,"end":6306,"code":"err := (PureJSON{data}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":6273,"end":6276,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":6273,"name":"err","object":null}],"tokenPos":6277,"token":47,"rhs":[{"children":[],"start":6280,"end":6306,"code":"(PureJSON{data}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":6280,"end":6303,"code":"(PureJSON{data}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6280,"end":6296,"code":"(PureJSON{data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":6280,"expression":{"children":[],"start":6281,"end":6295,"code":"PureJSON{data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":6281,"end":6289,"code":"PureJSON","nodeType":"Identifier","column":0,"line":0,"namePos":6281,"name":"PureJSON","object":null},"lbrace":6289,"elements":[{"children":[],"start":6290,"end":6294,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":6290,"name":"data","object":null}],"rbrace":6294,"incomplete":false},"rparen":6295},"sel":{"children":[],"start":6297,"end":6303,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":6297,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":6304,"end":6305,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":6304,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":6308,"end":6330,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":6308,"end":6330,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":6308,"end":6322,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6308,"end":6314,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":6308,"name":"assert","object":null},"sel":{"children":[],"start":6315,"end":6322,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":6315,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":6323,"end":6324,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":6323,"name":"t","object":null},{"children":[],"start":6326,"end":6329,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":6326,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":6332,"end":6404,"code":"assert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\",\\\"html\\\":\\\"\u003cb\u003e\\\"}\\n\", w.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":6332,"end":6404,"code":"assert.Equal(t, \"{\\\"foo\\\":\\\"bar\\\",\\\"html\\\":\\\"\u003cb\u003e\\\"}\\n\", w.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":6332,"end":6344,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6332,"end":6338,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":6332,"name":"assert","object":null},"sel":{"children":[],"start":6339,"end":6344,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":6339,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":6345,"end":6346,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":6345,"name":"t","object":null},{"children":[],"start":6348,"end":6386,"code":"\"{\\\"foo\\\":\\\"bar\\\",\\\"html\\\":\\\"\u003cb\u003e\\\"}\\n\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":6348,"kind":9,"value":"\"{\\\"foo\\\":\\\"bar\\\",\\\"html\\\":\\\"\u003cb\u003e\\\"}\\n\""},{"children":[],"start":6388,"end":6403,"code":"w.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":6388,"end":6401,"code":"w.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6388,"end":6394,"code":"w.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6388,"end":6389,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":6388,"name":"w","object":null},"sel":{"children":[],"start":6390,"end":6394,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":6390,"name":"Body","object":null}},"sel":{"children":[],"start":6395,"end":6401,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":6395,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":6406,"end":6488,"code":"assert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":6406,"end":6488,"code":"assert.Equal(t, \"application/json; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":6406,"end":6418,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6406,"end":6412,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":6406,"name":"assert","object":null},"sel":{"children":[],"start":6413,"end":6418,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":6413,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":6419,"end":6420,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":6419,"name":"t","object":null},{"children":[],"start":6422,"end":6455,"code":"\"application/json; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":6422,"kind":9,"value":"\"application/json; charset=utf-8\""},{"children":[],"start":6457,"end":6487,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":6457,"end":6471,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6457,"end":6467,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":6457,"end":6465,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6457,"end":6458,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":6457,"name":"w","object":null},"sel":{"children":[],"start":6459,"end":6465,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":6459,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":6468,"end":6471,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":6468,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":6472,"end":6486,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":6472,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":6489}},{"children":[],"start":6492,"end":6518,"code":"type xmlmap map[string]any","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":6492,"token":84,"lparen":0,"specifications":[{"children":[],"start":6497,"end":6518,"code":"xmlmap map[string]any","nodeType":"TypeSpecification","column":0,"line":0,"doc":null,"name":{"children":[],"start":6497,"end":6503,"code":"xmlmap","nodeType":"Identifier","column":0,"line":0,"namePos":6497,"name":"xmlmap","object":null},"typeParams":null,"assign":0,"type":{"children":[],"start":6504,"end":6518,"code":"map[string]any","nodeType":"MapType","column":0,"line":0,"map":6504,"key":{"children":[],"start":6508,"end":6514,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":6508,"name":"string","object":null},"value":{"children":[],"start":6515,"end":6518,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":6515,"name":"any","object":null}},"comment":null}],"rparen":0},{"children":[],"start":6565,"end":7018,"code":"func (h xmlmap) MarshalXML(e *xml.Encoder, start xml.StartElement) error {\n\tstart.Name = xml.Name{Space: \"\", Local: \"map\"}\n\tif err := e.EncodeToken(start); err != nil {\n\t\treturn err\n\t}\n\tfor key, value := range h {\n\t\telem := xml.StartElement{Name: xml.Name{Space: \"\", Local: key}, Attr: []xml.Attr{}}\n\t\tif err := e.EncodeElement(value, elem); err != nil {\n\t\t\treturn err\n\t\t}\n\t}\n\treturn e.EncodeToken(xml.EndElement{Name: start.Name})\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":6570,"end":6580,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":6570,"list":[{"children":[],"start":6571,"end":6579,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":6571,"end":6572,"code":"h","nodeType":"Identifier","column":0,"line":0,"namePos":6571,"name":"h","object":null}],"type":{"children":[],"start":6573,"end":6579,"code":"xmlmap","nodeType":"Identifier","column":0,"line":0,"namePos":6573,"name":"xmlmap","object":null},"tag":null,"comment":null}],"closing":6579},"name":{"children":[],"start":6581,"end":6591,"code":"MarshalXML","nodeType":"Identifier","column":0,"line":0,"namePos":6581,"name":"MarshalXML","object":null},"type":{"children":[],"start":6565,"end":6637,"code":"func(e *xml.Encoder, start xml.StartElement) error","nodeType":"FunctionType","column":0,"line":0,"Function":6565,"TypeParams":null,"Params":{"children":[],"start":6591,"end":6631,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":6591,"list":[{"children":[],"start":6592,"end":6606,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":6592,"end":6593,"code":"e","nodeType":"Identifier","column":0,"line":0,"namePos":6592,"name":"e","object":null}],"type":{"children":[],"start":6594,"end":6606,"code":"*xml.Encoder","nodeType":"StarExpression","column":0,"line":0,"star":6594,"expression":{"children":[],"start":6595,"end":6606,"code":"xml.Encoder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6595,"end":6598,"code":"xml","nodeType":"Identifier","column":0,"line":0,"namePos":6595,"name":"xml","object":null},"sel":{"children":[],"start":6599,"end":6606,"code":"Encoder","nodeType":"Identifier","column":0,"line":0,"namePos":6599,"name":"Encoder","object":null}}},"tag":null,"comment":null},{"children":[],"start":6608,"end":6630,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":6608,"end":6613,"code":"start","nodeType":"Identifier","column":0,"line":0,"namePos":6608,"name":"start","object":null}],"type":{"children":[],"start":6614,"end":6630,"code":"xml.StartElement","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6614,"end":6617,"code":"xml","nodeType":"Identifier","column":0,"line":0,"namePos":6614,"name":"xml","object":null},"sel":{"children":[],"start":6618,"end":6630,"code":"StartElement","nodeType":"Identifier","column":0,"line":0,"namePos":6618,"name":"StartElement","object":null}},"tag":null,"comment":null}],"closing":6630},"Results":{"children":[],"start":6632,"end":6637,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":0,"list":[{"children":[],"start":6632,"end":6637,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":6632,"end":6637,"code":"error","nodeType":"Identifier","column":0,"line":0,"namePos":6632,"name":"error","object":null},"tag":null,"comment":null}],"closing":0}},"body":{"children":[],"start":6638,"end":7018,"code":"{\n\tstart.Name = xml.Name{Space: \"\", Local: \"map\"}\n\tif err := e.EncodeToken(start); err != nil {\n\t\treturn err\n\t}\n\tfor key, value := range h {\n\t\telem := xml.StartElement{Name: xml.Name{Space: \"\", Local: key}, Attr: []xml.Attr{}}\n\t\tif err := e.EncodeElement(value, elem); err != nil {\n\t\t\treturn err\n\t\t}\n\t}\n\treturn e.EncodeToken(xml.EndElement{Name: start.Name})\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":6638,"list":[{"children":[],"start":6641,"end":6695,"code":"start.Name = xml.Name{Space: \"\", Local: \"map\"}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":6641,"end":6651,"code":"start.Name","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6641,"end":6646,"code":"start","nodeType":"Identifier","column":0,"line":0,"namePos":6641,"name":"start","object":null},"sel":{"children":[],"start":6647,"end":6651,"code":"Name","nodeType":"Identifier","column":0,"line":0,"namePos":6647,"name":"Name","object":null}}],"tokenPos":6652,"token":42,"rhs":[{"children":[],"start":6654,"end":6695,"code":"xml.Name{Space: \"\", Local: \"map\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":6654,"end":6662,"code":"xml.Name","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6654,"end":6657,"code":"xml","nodeType":"Identifier","column":0,"line":0,"namePos":6654,"name":"xml","object":null},"sel":{"children":[],"start":6658,"end":6662,"code":"Name","nodeType":"Identifier","column":0,"line":0,"namePos":6658,"name":"Name","object":null}},"lbrace":6662,"elements":[{"children":[],"start":6666,"end":6675,"code":"Space: \"\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":6666,"end":6671,"code":"Space","nodeType":"Identifier","column":0,"line":0,"namePos":6666,"name":"Space","object":null},"colon":0,"value":{"children":[],"start":6673,"end":6675,"code":"\"\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":6673,"kind":9,"value":"\"\""}},{"children":[],"start":6679,"end":6691,"code":"Local: \"map\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":6679,"end":6684,"code":"Local","nodeType":"Identifier","column":0,"line":0,"namePos":6679,"name":"Local","object":null},"colon":0,"value":{"children":[],"start":6686,"end":6691,"code":"\"map\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":6686,"kind":9,"value":"\"map\""}}],"rbrace":6694,"incomplete":false}]},{"children":[],"start":6697,"end":6757,"code":"if err := e.EncodeToken(start); err != nil {\n\treturn err\n}","nodeType":"IfStatement","column":0,"line":0,"if":6697,"initialization":{"children":[],"start":6700,"end":6727,"code":"err := e.EncodeToken(start)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":6700,"end":6703,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":6700,"name":"err","object":null}],"tokenPos":6704,"token":47,"rhs":[{"children":[],"start":6707,"end":6727,"code":"e.EncodeToken(start)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":6707,"end":6720,"code":"e.EncodeToken","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6707,"end":6708,"code":"e","nodeType":"Identifier","column":0,"line":0,"namePos":6707,"name":"e","object":null},"sel":{"children":[],"start":6709,"end":6720,"code":"EncodeToken","nodeType":"Identifier","column":0,"line":0,"namePos":6709,"name":"EncodeToken","object":null}},"lparen":0,"args":[{"children":[],"start":6721,"end":6726,"code":"start","nodeType":"Identifier","column":0,"line":0,"namePos":6721,"name":"start","object":null}],"ellipsis":0,"rparen":0}]},"condition":{"children":[],"start":6729,"end":6739,"code":"err != nil","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":6729,"end":6732,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":6729,"name":"err","object":null},"opPos":6733,"op":44,"rightExpression":{"children":[],"start":6736,"end":6739,"code":"nil","nodeType":"Identifier","column":0,"line":0,"namePos":6736,"name":"nil","object":null}},"body":{"children":[],"start":6740,"end":6757,"code":"{\n\treturn err\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":6740,"list":[{"children":[],"start":6744,"end":6754,"code":"return err","nodeType":"ReturnStatement","column":0,"line":0,"return":6744,"results":[{"children":[],"start":6751,"end":6754,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":6751,"name":"err","object":null}]}],"rbrace":6756},"else":null},{"children":[],"start":6759,"end":6959,"code":"for key, value := range h {\n\telem := xml.StartElement{Name: xml.Name{Space: \"\", Local: key}, Attr: []xml.Attr{}}\n\tif err := e.EncodeElement(value, elem); err != nil {\n\t\treturn err\n\t}\n}","nodeType":"RangeStatement","column":0,"line":0,"for":6759,"key":{"children":[],"start":6763,"end":6766,"code":"key","nodeType":"Identifier","column":0,"line":0,"namePos":6763,"name":"key","object":null},"value":{"children":[],"start":6768,"end":6773,"code":"value","nodeType":"Identifier","column":0,"line":0,"namePos":6768,"name":"value","object":null},"tokenPos":6774,"token":47,"range":6777,"expression":{"children":[],"start":6783,"end":6784,"code":"h","nodeType":"Identifier","column":0,"line":0,"namePos":6783,"name":"h","object":null},"body":{"children":[],"start":6785,"end":6959,"code":"{\n\telem := xml.StartElement{Name: xml.Name{Space: \"\", Local: key}, Attr: []xml.Attr{}}\n\tif err := e.EncodeElement(value, elem); err != nil {\n\t\treturn err\n\t}\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":6785,"list":[{"children":[],"start":6789,"end":6883,"code":"elem := xml.StartElement{Name: xml.Name{Space: \"\", Local: key}, Attr: []xml.Attr{}}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":6789,"end":6793,"code":"elem","nodeType":"Identifier","column":0,"line":0,"namePos":6789,"name":"elem","object":null}],"tokenPos":6794,"token":47,"rhs":[{"children":[],"start":6797,"end":6883,"code":"xml.StartElement{Name: xml.Name{Space: \"\", Local: key}, Attr: []xml.Attr{}}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":6797,"end":6813,"code":"xml.StartElement","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6797,"end":6800,"code":"xml","nodeType":"Identifier","column":0,"line":0,"namePos":6797,"name":"xml","object":null},"sel":{"children":[],"start":6801,"end":6813,"code":"StartElement","nodeType":"Identifier","column":0,"line":0,"namePos":6801,"name":"StartElement","object":null}},"lbrace":6813,"elements":[{"children":[],"start":6818,"end":6855,"code":"Name: xml.Name{Space: \"\", Local: key}","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":6818,"end":6822,"code":"Name","nodeType":"Identifier","column":0,"line":0,"namePos":6818,"name":"Name","object":null},"colon":0,"value":{"children":[],"start":6824,"end":6855,"code":"xml.Name{Space: \"\", Local: key}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":6824,"end":6832,"code":"xml.Name","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6824,"end":6827,"code":"xml","nodeType":"Identifier","column":0,"line":0,"namePos":6824,"name":"xml","object":null},"sel":{"children":[],"start":6828,"end":6832,"code":"Name","nodeType":"Identifier","column":0,"line":0,"namePos":6828,"name":"Name","object":null}},"lbrace":6832,"elements":[{"children":[],"start":6833,"end":6842,"code":"Space: \"\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":6833,"end":6838,"code":"Space","nodeType":"Identifier","column":0,"line":0,"namePos":6833,"name":"Space","object":null},"colon":0,"value":{"children":[],"start":6840,"end":6842,"code":"\"\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":6840,"kind":9,"value":"\"\""}},{"children":[],"start":6844,"end":6854,"code":"Local: key","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":6844,"end":6849,"code":"Local","nodeType":"Identifier","column":0,"line":0,"namePos":6844,"name":"Local","object":null},"colon":0,"value":{"children":[],"start":6851,"end":6854,"code":"key","nodeType":"Identifier","column":0,"line":0,"namePos":6851,"name":"key","object":null}}],"rbrace":6854,"incomplete":false}},{"children":[],"start":6860,"end":6878,"code":"Attr: []xml.Attr{}","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":6860,"end":6864,"code":"Attr","nodeType":"Identifier","column":0,"line":0,"namePos":6860,"name":"Attr","object":null},"colon":0,"value":{"children":[],"start":6866,"end":6878,"code":"[]xml.Attr{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":6866,"end":6876,"code":"[]xml.Attr","nodeType":"ArrayType","column":0,"line":0,"leftBracket":6866,"length":null,"element":{"children":[],"start":6868,"end":6876,"code":"xml.Attr","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6868,"end":6871,"code":"xml","nodeType":"Identifier","column":0,"line":0,"namePos":6868,"name":"xml","object":null},"sel":{"children":[],"start":6872,"end":6876,"code":"Attr","nodeType":"Identifier","column":0,"line":0,"namePos":6872,"name":"Attr","object":null}}},"lbrace":6876,"elements":[],"rbrace":6877,"incomplete":false}}],"rbrace":6882,"incomplete":false}]},{"children":[],"start":6886,"end":6956,"code":"if err := e.EncodeElement(value, elem); err != nil {\n\treturn err\n}","nodeType":"IfStatement","column":0,"line":0,"if":6886,"initialization":{"children":[],"start":6889,"end":6924,"code":"err := e.EncodeElement(value, elem)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":6889,"end":6892,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":6889,"name":"err","object":null}],"tokenPos":6893,"token":47,"rhs":[{"children":[],"start":6896,"end":6924,"code":"e.EncodeElement(value, elem)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":6896,"end":6911,"code":"e.EncodeElement","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6896,"end":6897,"code":"e","nodeType":"Identifier","column":0,"line":0,"namePos":6896,"name":"e","object":null},"sel":{"children":[],"start":6898,"end":6911,"code":"EncodeElement","nodeType":"Identifier","column":0,"line":0,"namePos":6898,"name":"EncodeElement","object":null}},"lparen":0,"args":[{"children":[],"start":6912,"end":6917,"code":"value","nodeType":"Identifier","column":0,"line":0,"namePos":6912,"name":"value","object":null},{"children":[],"start":6919,"end":6923,"code":"elem","nodeType":"Identifier","column":0,"line":0,"namePos":6919,"name":"elem","object":null}],"ellipsis":0,"rparen":0}]},"condition":{"children":[],"start":6926,"end":6936,"code":"err != nil","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":6926,"end":6929,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":6926,"name":"err","object":null},"opPos":6930,"op":44,"rightExpression":{"children":[],"start":6933,"end":6936,"code":"nil","nodeType":"Identifier","column":0,"line":0,"namePos":6933,"name":"nil","object":null}},"body":{"children":[],"start":6937,"end":6956,"code":"{\n\treturn err\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":6937,"list":[{"children":[],"start":6942,"end":6952,"code":"return err","nodeType":"ReturnStatement","column":0,"line":0,"return":6942,"results":[{"children":[],"start":6949,"end":6952,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":6949,"name":"err","object":null}]}],"rbrace":6955},"else":null}],"rbrace":6958}},{"children":[],"start":6962,"end":7016,"code":"return e.EncodeToken(xml.EndElement{Name: start.Name})","nodeType":"ReturnStatement","column":0,"line":0,"return":6962,"results":[{"children":[],"start":6969,"end":7016,"code":"e.EncodeToken(xml.EndElement{Name: start.Name})","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":6969,"end":6982,"code":"e.EncodeToken","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6969,"end":6970,"code":"e","nodeType":"Identifier","column":0,"line":0,"namePos":6969,"name":"e","object":null},"sel":{"children":[],"start":6971,"end":6982,"code":"EncodeToken","nodeType":"Identifier","column":0,"line":0,"namePos":6971,"name":"EncodeToken","object":null}},"lparen":0,"args":[{"children":[],"start":6983,"end":7015,"code":"xml.EndElement{Name: start.Name}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":6983,"end":6997,"code":"xml.EndElement","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":6983,"end":6986,"code":"xml","nodeType":"Identifier","column":0,"line":0,"namePos":6983,"name":"xml","object":null},"sel":{"children":[],"start":6987,"end":6997,"code":"EndElement","nodeType":"Identifier","column":0,"line":0,"namePos":6987,"name":"EndElement","object":null}},"lbrace":6997,"elements":[{"children":[],"start":6998,"end":7014,"code":"Name: start.Name","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":6998,"end":7002,"code":"Name","nodeType":"Identifier","column":0,"line":0,"namePos":6998,"name":"Name","object":null},"colon":0,"value":{"children":[],"start":7004,"end":7014,"code":"start.Name","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7004,"end":7009,"code":"start","nodeType":"Identifier","column":0,"line":0,"namePos":7004,"name":"start","object":null},"sel":{"children":[],"start":7010,"end":7014,"code":"Name","nodeType":"Identifier","column":0,"line":0,"namePos":7010,"name":"Name","object":null}}}],"rbrace":7014,"incomplete":false}],"ellipsis":0,"rparen":0}]}],"rbrace":7017}},{"children":[],"start":7020,"end":7495,"code":"func TestRenderYAML(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := `\na : Easy!\nb:\n\tc: 2\n\td: [3, 4]\n\t`\n\t(YAML{data}).WriteContentType(w)\n\tassert.Equal(t, \"application/x-yaml; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n\terr := (YAML{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"|4-\\n    a : Easy!\\n    b:\\n    \\tc: 2\\n    \\td: [3, 4]\\n    \\t\\n\", w.Body.String())\n\tassert.Equal(t, \"application/x-yaml; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":7025,"end":7039,"code":"TestRenderYAML","nodeType":"Identifier","column":0,"line":0,"namePos":7025,"name":"TestRenderYAML","object":null},"type":{"children":[],"start":7020,"end":7053,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":7020,"TypeParams":null,"Params":{"children":[],"start":7039,"end":7053,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":7039,"list":[{"children":[],"start":7040,"end":7052,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":7040,"end":7041,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":7040,"name":"t","object":null}],"type":{"children":[],"start":7042,"end":7052,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":7042,"expression":{"children":[],"start":7043,"end":7052,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7043,"end":7050,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":7043,"name":"testing","object":null},"sel":{"children":[],"start":7051,"end":7052,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":7051,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":7052},"Results":null},"body":{"children":[],"start":7054,"end":7495,"code":"{\n\tw := httptest.NewRecorder()\n\tdata := `\na : Easy!\nb:\n\tc: 2\n\td: [3, 4]\n\t`\n\t(YAML{data}).WriteContentType(w)\n\tassert.Equal(t, \"application/x-yaml; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n\terr := (YAML{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"|4-\\n    a : Easy!\\n    b:\\n    \\tc: 2\\n    \\td: [3, 4]\\n    \\t\\n\", w.Body.String())\n\tassert.Equal(t, \"application/x-yaml; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":7054,"list":[{"children":[],"start":7057,"end":7084,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":7057,"end":7058,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":7057,"name":"w","object":null}],"tokenPos":7059,"token":47,"rhs":[{"children":[],"start":7062,"end":7084,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7062,"end":7082,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7062,"end":7070,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":7062,"name":"httptest","object":null},"sel":{"children":[],"start":7071,"end":7082,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":7071,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":7086,"end":7128,"code":"data := `\na : Easy!\nb:\n\tc: 2\n\td: [3, 4]\n\t`","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":7086,"end":7090,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":7086,"name":"data","object":null}],"tokenPos":7091,"token":47,"rhs":[{"children":[],"start":7094,"end":7128,"code":"`\na : Easy!\nb:\n\tc: 2\n\td: [3, 4]\n\t`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":7094,"kind":9,"value":"`\na : Easy!\nb:\n\tc: 2\n\td: [3, 4]\n\t`"}]},{"children":[],"start":7130,"end":7162,"code":"(YAML{data}).WriteContentType(w)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":7130,"end":7162,"code":"(YAML{data}).WriteContentType(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7130,"end":7159,"code":"(YAML{data}).WriteContentType","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7130,"end":7142,"code":"(YAML{data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":7130,"expression":{"children":[],"start":7131,"end":7141,"code":"YAML{data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":7131,"end":7135,"code":"YAML","nodeType":"Identifier","column":0,"line":0,"namePos":7131,"name":"YAML","object":null},"lbrace":7135,"elements":[{"children":[],"start":7136,"end":7140,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":7136,"name":"data","object":null}],"rbrace":7140,"incomplete":false},"rparen":7141},"sel":{"children":[],"start":7143,"end":7159,"code":"WriteContentType","nodeType":"Identifier","column":0,"line":0,"namePos":7143,"name":"WriteContentType","object":null}},"lparen":0,"args":[{"children":[],"start":7160,"end":7161,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":7160,"name":"w","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":7164,"end":7248,"code":"assert.Equal(t, \"application/x-yaml; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":7164,"end":7248,"code":"assert.Equal(t, \"application/x-yaml; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7164,"end":7176,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7164,"end":7170,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":7164,"name":"assert","object":null},"sel":{"children":[],"start":7171,"end":7176,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":7171,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":7177,"end":7178,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":7177,"name":"t","object":null},{"children":[],"start":7180,"end":7215,"code":"\"application/x-yaml; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":7180,"kind":9,"value":"\"application/x-yaml; charset=utf-8\""},{"children":[],"start":7217,"end":7247,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7217,"end":7231,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7217,"end":7227,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7217,"end":7225,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7217,"end":7218,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":7217,"name":"w","object":null},"sel":{"children":[],"start":7219,"end":7225,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":7219,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":7228,"end":7231,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":7228,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":7232,"end":7246,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":7232,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":7251,"end":7280,"code":"err := (YAML{data}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":7251,"end":7254,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":7251,"name":"err","object":null}],"tokenPos":7255,"token":47,"rhs":[{"children":[],"start":7258,"end":7280,"code":"(YAML{data}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7258,"end":7277,"code":"(YAML{data}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7258,"end":7270,"code":"(YAML{data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":7258,"expression":{"children":[],"start":7259,"end":7269,"code":"YAML{data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":7259,"end":7263,"code":"YAML","nodeType":"Identifier","column":0,"line":0,"namePos":7259,"name":"YAML","object":null},"lbrace":7263,"elements":[{"children":[],"start":7264,"end":7268,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":7264,"name":"data","object":null}],"rbrace":7268,"incomplete":false},"rparen":7269},"sel":{"children":[],"start":7271,"end":7277,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":7271,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":7278,"end":7279,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":7278,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":7282,"end":7304,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":7282,"end":7304,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7282,"end":7296,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7282,"end":7288,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":7282,"name":"assert","object":null},"sel":{"children":[],"start":7289,"end":7296,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":7289,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":7297,"end":7298,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":7297,"name":"t","object":null},{"children":[],"start":7300,"end":7303,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":7300,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":7306,"end":7407,"code":"assert.Equal(t, \"|4-\\n    a : Easy!\\n    b:\\n    \\tc: 2\\n    \\td: [3, 4]\\n    \\t\\n\", w.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":7306,"end":7407,"code":"assert.Equal(t, \"|4-\\n    a : Easy!\\n    b:\\n    \\tc: 2\\n    \\td: [3, 4]\\n    \\t\\n\", w.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7306,"end":7318,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7306,"end":7312,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":7306,"name":"assert","object":null},"sel":{"children":[],"start":7313,"end":7318,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":7313,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":7319,"end":7320,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":7319,"name":"t","object":null},{"children":[],"start":7322,"end":7389,"code":"\"|4-\\n    a : Easy!\\n    b:\\n    \\tc: 2\\n    \\td: [3, 4]\\n    \\t\\n\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":7322,"kind":9,"value":"\"|4-\\n    a : Easy!\\n    b:\\n    \\tc: 2\\n    \\td: [3, 4]\\n    \\t\\n\""},{"children":[],"start":7391,"end":7406,"code":"w.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7391,"end":7404,"code":"w.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7391,"end":7397,"code":"w.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7391,"end":7392,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":7391,"name":"w","object":null},"sel":{"children":[],"start":7393,"end":7397,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":7393,"name":"Body","object":null}},"sel":{"children":[],"start":7398,"end":7404,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":7398,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":7409,"end":7493,"code":"assert.Equal(t, \"application/x-yaml; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":7409,"end":7493,"code":"assert.Equal(t, \"application/x-yaml; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7409,"end":7421,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7409,"end":7415,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":7409,"name":"assert","object":null},"sel":{"children":[],"start":7416,"end":7421,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":7416,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":7422,"end":7423,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":7422,"name":"t","object":null},{"children":[],"start":7425,"end":7460,"code":"\"application/x-yaml; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":7425,"kind":9,"value":"\"application/x-yaml; charset=utf-8\""},{"children":[],"start":7462,"end":7492,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7462,"end":7476,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7462,"end":7472,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7462,"end":7470,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7462,"end":7463,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":7462,"name":"w","object":null},"sel":{"children":[],"start":7464,"end":7470,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":7464,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":7473,"end":7476,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":7473,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":7477,"end":7491,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":7477,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":7494}},{"children":[],"start":7497,"end":7515,"code":"type fail struct{}","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":7497,"token":84,"lparen":0,"specifications":[{"children":[],"start":7502,"end":7515,"code":"fail struct{}","nodeType":"TypeSpecification","column":0,"line":0,"doc":null,"name":{"children":[],"start":7502,"end":7506,"code":"fail","nodeType":"Identifier","column":0,"line":0,"namePos":7502,"name":"fail","object":null},"typeParams":null,"assign":0,"type":{"children":[],"start":7507,"end":7515,"code":"struct{}","nodeType":"StructType","column":0,"line":0,"struct":7507,"fields":{"children":[],"start":7513,"end":7515,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":7513,"list":[],"closing":7514},"incomplete":false},"comment":null}],"rparen":0},{"children":[],"start":7537,"end":7615,"code":"func (ft *fail) MarshalYAML() (any, error) {\n\treturn nil, errors.New(\"fail\")\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":7542,"end":7552,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":7542,"list":[{"children":[],"start":7543,"end":7551,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":7543,"end":7545,"code":"ft","nodeType":"Identifier","column":0,"line":0,"namePos":7543,"name":"ft","object":null}],"type":{"children":[],"start":7546,"end":7551,"code":"*fail","nodeType":"StarExpression","column":0,"line":0,"star":7546,"expression":{"children":[],"start":7547,"end":7551,"code":"fail","nodeType":"Identifier","column":0,"line":0,"namePos":7547,"name":"fail","object":null}},"tag":null,"comment":null}],"closing":7551},"name":{"children":[],"start":7553,"end":7564,"code":"MarshalYAML","nodeType":"Identifier","column":0,"line":0,"namePos":7553,"name":"MarshalYAML","object":null},"type":{"children":[],"start":7537,"end":7579,"code":"func() (any, error)","nodeType":"FunctionType","column":0,"line":0,"Function":7537,"TypeParams":null,"Params":{"children":[],"start":7564,"end":7566,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":7564,"list":[],"closing":7565},"Results":{"children":[],"start":7567,"end":7579,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":7567,"list":[{"children":[],"start":7568,"end":7571,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":7568,"end":7571,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":7568,"name":"any","object":null},"tag":null,"comment":null},{"children":[],"start":7573,"end":7578,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":7573,"end":7578,"code":"error","nodeType":"Identifier","column":0,"line":0,"namePos":7573,"name":"error","object":null},"tag":null,"comment":null}],"closing":7578}},"body":{"children":[],"start":7580,"end":7615,"code":"{\n\treturn nil, errors.New(\"fail\")\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":7580,"list":[{"children":[],"start":7583,"end":7613,"code":"return nil, errors.New(\"fail\")","nodeType":"ReturnStatement","column":0,"line":0,"return":7583,"results":[{"children":[],"start":7590,"end":7593,"code":"nil","nodeType":"Identifier","column":0,"line":0,"namePos":7590,"name":"nil","object":null},{"children":[],"start":7595,"end":7613,"code":"errors.New(\"fail\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7595,"end":7605,"code":"errors.New","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7595,"end":7601,"code":"errors","nodeType":"Identifier","column":0,"line":0,"namePos":7595,"name":"errors","object":null},"sel":{"children":[],"start":7602,"end":7605,"code":"New","nodeType":"Identifier","column":0,"line":0,"namePos":7602,"name":"New","object":null}},"lparen":0,"args":[{"children":[],"start":7606,"end":7612,"code":"\"fail\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":7606,"kind":9,"value":"\"fail\""}],"ellipsis":0,"rparen":0}]}],"rbrace":7614}},{"children":[],"start":7617,"end":7743,"code":"func TestRenderYAMLFail(t *testing.T) {\n\tw := httptest.NewRecorder()\n\terr := (YAML{\u0026fail{}}).Render(w)\n\tassert.Error(t, err)\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":7622,"end":7640,"code":"TestRenderYAMLFail","nodeType":"Identifier","column":0,"line":0,"namePos":7622,"name":"TestRenderYAMLFail","object":null},"type":{"children":[],"start":7617,"end":7654,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":7617,"TypeParams":null,"Params":{"children":[],"start":7640,"end":7654,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":7640,"list":[{"children":[],"start":7641,"end":7653,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":7641,"end":7642,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":7641,"name":"t","object":null}],"type":{"children":[],"start":7643,"end":7653,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":7643,"expression":{"children":[],"start":7644,"end":7653,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7644,"end":7651,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":7644,"name":"testing","object":null},"sel":{"children":[],"start":7652,"end":7653,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":7652,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":7653},"Results":null},"body":{"children":[],"start":7655,"end":7743,"code":"{\n\tw := httptest.NewRecorder()\n\terr := (YAML{\u0026fail{}}).Render(w)\n\tassert.Error(t, err)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":7655,"list":[{"children":[],"start":7658,"end":7685,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":7658,"end":7659,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":7658,"name":"w","object":null}],"tokenPos":7660,"token":47,"rhs":[{"children":[],"start":7663,"end":7685,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7663,"end":7683,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7663,"end":7671,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":7663,"name":"httptest","object":null},"sel":{"children":[],"start":7672,"end":7683,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":7672,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":7687,"end":7719,"code":"err := (YAML{\u0026fail{}}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":7687,"end":7690,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":7687,"name":"err","object":null}],"tokenPos":7691,"token":47,"rhs":[{"children":[],"start":7694,"end":7719,"code":"(YAML{\u0026fail{}}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7694,"end":7716,"code":"(YAML{\u0026fail{}}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7694,"end":7709,"code":"(YAML{\u0026fail{}})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":7694,"expression":{"children":[],"start":7695,"end":7708,"code":"YAML{\u0026fail{}}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":7695,"end":7699,"code":"YAML","nodeType":"Identifier","column":0,"line":0,"namePos":7695,"name":"YAML","object":null},"lbrace":7699,"elements":[{"children":[],"start":7700,"end":7707,"code":"\u0026fail{}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":7700,"op":17,"expression":{"children":[],"start":7701,"end":7707,"code":"fail{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":7701,"end":7705,"code":"fail","nodeType":"Identifier","column":0,"line":0,"namePos":7701,"name":"fail","object":null},"lbrace":7705,"elements":[],"rbrace":7706,"incomplete":false}}],"rbrace":7707,"incomplete":false},"rparen":7708},"sel":{"children":[],"start":7710,"end":7716,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":7710,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":7717,"end":7718,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":7717,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":7721,"end":7741,"code":"assert.Error(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":7721,"end":7741,"code":"assert.Error(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7721,"end":7733,"code":"assert.Error","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7721,"end":7727,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":7721,"name":"assert","object":null},"sel":{"children":[],"start":7728,"end":7733,"code":"Error","nodeType":"Identifier","column":0,"line":0,"namePos":7728,"name":"Error","object":null}},"lparen":0,"args":[{"children":[],"start":7734,"end":7735,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":7734,"name":"t","object":null},{"children":[],"start":7737,"end":7740,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":7737,"name":"err","object":null}],"ellipsis":0,"rparen":0}}],"rbrace":7742}},{"children":[],"start":7745,"end":8196,"code":"func TestRenderTOML(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\", \"html\": \"\u003cb\u003e\"}\n\t(TOML{data}).WriteContentType(w)\n\tassert.Equal(t, \"application/toml; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n\terr := (TOML{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"foo = 'bar'\\nhtml = '\u003cb\u003e'\\n\", w.Body.String())\n\tassert.Equal(t, \"application/toml; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":7750,"end":7764,"code":"TestRenderTOML","nodeType":"Identifier","column":0,"line":0,"namePos":7750,"name":"TestRenderTOML","object":null},"type":{"children":[],"start":7745,"end":7778,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":7745,"TypeParams":null,"Params":{"children":[],"start":7764,"end":7778,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":7764,"list":[{"children":[],"start":7765,"end":7777,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":7765,"end":7766,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":7765,"name":"t","object":null}],"type":{"children":[],"start":7767,"end":7777,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":7767,"expression":{"children":[],"start":7768,"end":7777,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7768,"end":7775,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":7768,"name":"testing","object":null},"sel":{"children":[],"start":7776,"end":7777,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":7776,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":7777},"Results":null},"body":{"children":[],"start":7779,"end":8196,"code":"{\n\tw := httptest.NewRecorder()\n\tdata := map[string]any{\"foo\": \"bar\", \"html\": \"\u003cb\u003e\"}\n\t(TOML{data}).WriteContentType(w)\n\tassert.Equal(t, \"application/toml; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n\terr := (TOML{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"foo = 'bar'\\nhtml = '\u003cb\u003e'\\n\", w.Body.String())\n\tassert.Equal(t, \"application/toml; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":7779,"list":[{"children":[],"start":7782,"end":7809,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":7782,"end":7783,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":7782,"name":"w","object":null}],"tokenPos":7784,"token":47,"rhs":[{"children":[],"start":7787,"end":7809,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7787,"end":7807,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7787,"end":7795,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":7787,"name":"httptest","object":null},"sel":{"children":[],"start":7796,"end":7807,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":7796,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":7811,"end":7871,"code":"data := map[string]any{\"foo\": \"bar\", \"html\": \"\u003cb\u003e\"}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":7811,"end":7815,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":7811,"name":"data","object":null}],"tokenPos":7816,"token":47,"rhs":[{"children":[],"start":7819,"end":7871,"code":"map[string]any{\"foo\": \"bar\", \"html\": \"\u003cb\u003e\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":7819,"end":7833,"code":"map[string]any","nodeType":"MapType","column":0,"line":0,"map":7819,"key":{"children":[],"start":7823,"end":7829,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":7823,"name":"string","object":null},"value":{"children":[],"start":7830,"end":7833,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":7830,"name":"any","object":null}},"lbrace":7833,"elements":[{"children":[],"start":7837,"end":7850,"code":"\"foo\": \"bar\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":7837,"end":7842,"code":"\"foo\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":7837,"kind":9,"value":"\"foo\""},"colon":0,"value":{"children":[],"start":7845,"end":7850,"code":"\"bar\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":7845,"kind":9,"value":"\"bar\""}},{"children":[],"start":7854,"end":7867,"code":"\"html\": \"\u003cb\u003e\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":7854,"end":7860,"code":"\"html\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":7854,"kind":9,"value":"\"html\""},"colon":0,"value":{"children":[],"start":7862,"end":7867,"code":"\"\u003cb\u003e\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":7862,"kind":9,"value":"\"\u003cb\u003e\""}}],"rbrace":7870,"incomplete":false}]},{"children":[],"start":7873,"end":7905,"code":"(TOML{data}).WriteContentType(w)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":7873,"end":7905,"code":"(TOML{data}).WriteContentType(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7873,"end":7902,"code":"(TOML{data}).WriteContentType","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7873,"end":7885,"code":"(TOML{data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":7873,"expression":{"children":[],"start":7874,"end":7884,"code":"TOML{data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":7874,"end":7878,"code":"TOML","nodeType":"Identifier","column":0,"line":0,"namePos":7874,"name":"TOML","object":null},"lbrace":7878,"elements":[{"children":[],"start":7879,"end":7883,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":7879,"name":"data","object":null}],"rbrace":7883,"incomplete":false},"rparen":7884},"sel":{"children":[],"start":7886,"end":7902,"code":"WriteContentType","nodeType":"Identifier","column":0,"line":0,"namePos":7886,"name":"WriteContentType","object":null}},"lparen":0,"args":[{"children":[],"start":7903,"end":7904,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":7903,"name":"w","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":7907,"end":7989,"code":"assert.Equal(t, \"application/toml; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":7907,"end":7989,"code":"assert.Equal(t, \"application/toml; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7907,"end":7919,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7907,"end":7913,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":7907,"name":"assert","object":null},"sel":{"children":[],"start":7914,"end":7919,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":7914,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":7920,"end":7921,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":7920,"name":"t","object":null},{"children":[],"start":7923,"end":7956,"code":"\"application/toml; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":7923,"kind":9,"value":"\"application/toml; charset=utf-8\""},{"children":[],"start":7958,"end":7988,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7958,"end":7972,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7958,"end":7968,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7958,"end":7966,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7958,"end":7959,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":7958,"name":"w","object":null},"sel":{"children":[],"start":7960,"end":7966,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":7960,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":7969,"end":7972,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":7969,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":7973,"end":7987,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":7973,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":7992,"end":8021,"code":"err := (TOML{data}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":7992,"end":7995,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":7992,"name":"err","object":null}],"tokenPos":7996,"token":47,"rhs":[{"children":[],"start":7999,"end":8021,"code":"(TOML{data}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":7999,"end":8018,"code":"(TOML{data}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":7999,"end":8011,"code":"(TOML{data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":7999,"expression":{"children":[],"start":8000,"end":8010,"code":"TOML{data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":8000,"end":8004,"code":"TOML","nodeType":"Identifier","column":0,"line":0,"namePos":8000,"name":"TOML","object":null},"lbrace":8004,"elements":[{"children":[],"start":8005,"end":8009,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":8005,"name":"data","object":null}],"rbrace":8009,"incomplete":false},"rparen":8010},"sel":{"children":[],"start":8012,"end":8018,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":8012,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":8019,"end":8020,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":8019,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":8023,"end":8045,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":8023,"end":8045,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8023,"end":8037,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8023,"end":8029,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":8023,"name":"assert","object":null},"sel":{"children":[],"start":8030,"end":8037,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":8030,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":8038,"end":8039,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":8038,"name":"t","object":null},{"children":[],"start":8041,"end":8044,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":8041,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":8047,"end":8110,"code":"assert.Equal(t, \"foo = 'bar'\\nhtml = '\u003cb\u003e'\\n\", w.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":8047,"end":8110,"code":"assert.Equal(t, \"foo = 'bar'\\nhtml = '\u003cb\u003e'\\n\", w.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8047,"end":8059,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8047,"end":8053,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":8047,"name":"assert","object":null},"sel":{"children":[],"start":8054,"end":8059,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":8054,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":8060,"end":8061,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":8060,"name":"t","object":null},{"children":[],"start":8063,"end":8092,"code":"\"foo = 'bar'\\nhtml = '\u003cb\u003e'\\n\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":8063,"kind":9,"value":"\"foo = 'bar'\\nhtml = '\u003cb\u003e'\\n\""},{"children":[],"start":8094,"end":8109,"code":"w.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8094,"end":8107,"code":"w.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8094,"end":8100,"code":"w.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8094,"end":8095,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":8094,"name":"w","object":null},"sel":{"children":[],"start":8096,"end":8100,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":8096,"name":"Body","object":null}},"sel":{"children":[],"start":8101,"end":8107,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":8101,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":8112,"end":8194,"code":"assert.Equal(t, \"application/toml; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":8112,"end":8194,"code":"assert.Equal(t, \"application/toml; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8112,"end":8124,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8112,"end":8118,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":8112,"name":"assert","object":null},"sel":{"children":[],"start":8119,"end":8124,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":8119,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":8125,"end":8126,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":8125,"name":"t","object":null},{"children":[],"start":8128,"end":8161,"code":"\"application/toml; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":8128,"kind":9,"value":"\"application/toml; charset=utf-8\""},{"children":[],"start":8163,"end":8193,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8163,"end":8177,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8163,"end":8173,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8163,"end":8171,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8163,"end":8164,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":8163,"name":"w","object":null},"sel":{"children":[],"start":8165,"end":8171,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":8165,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":8174,"end":8177,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":8174,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":8178,"end":8192,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":8178,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":8195}},{"children":[],"start":8198,"end":8330,"code":"func TestRenderTOMLFail(t *testing.T) {\n\tw := httptest.NewRecorder()\n\terr := (TOML{net.IPv4bcast}).Render(w)\n\tassert.Error(t, err)\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":8203,"end":8221,"code":"TestRenderTOMLFail","nodeType":"Identifier","column":0,"line":0,"namePos":8203,"name":"TestRenderTOMLFail","object":null},"type":{"children":[],"start":8198,"end":8235,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":8198,"TypeParams":null,"Params":{"children":[],"start":8221,"end":8235,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":8221,"list":[{"children":[],"start":8222,"end":8234,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":8222,"end":8223,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":8222,"name":"t","object":null}],"type":{"children":[],"start":8224,"end":8234,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":8224,"expression":{"children":[],"start":8225,"end":8234,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8225,"end":8232,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":8225,"name":"testing","object":null},"sel":{"children":[],"start":8233,"end":8234,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":8233,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":8234},"Results":null},"body":{"children":[],"start":8236,"end":8330,"code":"{\n\tw := httptest.NewRecorder()\n\terr := (TOML{net.IPv4bcast}).Render(w)\n\tassert.Error(t, err)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":8236,"list":[{"children":[],"start":8239,"end":8266,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":8239,"end":8240,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":8239,"name":"w","object":null}],"tokenPos":8241,"token":47,"rhs":[{"children":[],"start":8244,"end":8266,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8244,"end":8264,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8244,"end":8252,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":8244,"name":"httptest","object":null},"sel":{"children":[],"start":8253,"end":8264,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":8253,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":8268,"end":8306,"code":"err := (TOML{net.IPv4bcast}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":8268,"end":8271,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":8268,"name":"err","object":null}],"tokenPos":8272,"token":47,"rhs":[{"children":[],"start":8275,"end":8306,"code":"(TOML{net.IPv4bcast}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8275,"end":8303,"code":"(TOML{net.IPv4bcast}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8275,"end":8296,"code":"(TOML{net.IPv4bcast})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":8275,"expression":{"children":[],"start":8276,"end":8295,"code":"TOML{net.IPv4bcast}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":8276,"end":8280,"code":"TOML","nodeType":"Identifier","column":0,"line":0,"namePos":8276,"name":"TOML","object":null},"lbrace":8280,"elements":[{"children":[],"start":8281,"end":8294,"code":"net.IPv4bcast","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8281,"end":8284,"code":"net","nodeType":"Identifier","column":0,"line":0,"namePos":8281,"name":"net","object":null},"sel":{"children":[],"start":8285,"end":8294,"code":"IPv4bcast","nodeType":"Identifier","column":0,"line":0,"namePos":8285,"name":"IPv4bcast","object":null}}],"rbrace":8294,"incomplete":false},"rparen":8295},"sel":{"children":[],"start":8297,"end":8303,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":8297,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":8304,"end":8305,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":8304,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":8308,"end":8328,"code":"assert.Error(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":8308,"end":8328,"code":"assert.Error(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8308,"end":8320,"code":"assert.Error","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8308,"end":8314,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":8308,"name":"assert","object":null},"sel":{"children":[],"start":8315,"end":8320,"code":"Error","nodeType":"Identifier","column":0,"line":0,"namePos":8315,"name":"Error","object":null}},"lparen":0,"args":[{"children":[],"start":8321,"end":8322,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":8321,"name":"t","object":null},{"children":[],"start":8324,"end":8327,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":8324,"name":"err","object":null}],"ellipsis":0,"rparen":0}}],"rbrace":8329}},{"children":[],"start":8359,"end":8908,"code":"func TestRenderProtoBuf(t *testing.T) {\n\tw := httptest.NewRecorder()\n\treps := []int64{int64(1), int64(2)}\n\tlabel := \"test\"\n\tdata := \u0026testdata.Test{Label: \u0026label, Reps: reps}\n\t(ProtoBuf{data}).WriteContentType(w)\n\tprotoData, err := proto.Marshal(data)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"application/x-protobuf\", w.Header().Get(\"Content-Type\"))\n\terr = (ProtoBuf{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, string(protoData), w.Body.String())\n\tassert.Equal(t, \"application/x-protobuf\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":8364,"end":8382,"code":"TestRenderProtoBuf","nodeType":"Identifier","column":0,"line":0,"namePos":8364,"name":"TestRenderProtoBuf","object":null},"type":{"children":[],"start":8359,"end":8396,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":8359,"TypeParams":null,"Params":{"children":[],"start":8382,"end":8396,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":8382,"list":[{"children":[],"start":8383,"end":8395,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":8383,"end":8384,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":8383,"name":"t","object":null}],"type":{"children":[],"start":8385,"end":8395,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":8385,"expression":{"children":[],"start":8386,"end":8395,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8386,"end":8393,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":8386,"name":"testing","object":null},"sel":{"children":[],"start":8394,"end":8395,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":8394,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":8395},"Results":null},"body":{"children":[],"start":8397,"end":8908,"code":"{\n\tw := httptest.NewRecorder()\n\treps := []int64{int64(1), int64(2)}\n\tlabel := \"test\"\n\tdata := \u0026testdata.Test{Label: \u0026label, Reps: reps}\n\t(ProtoBuf{data}).WriteContentType(w)\n\tprotoData, err := proto.Marshal(data)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"application/x-protobuf\", w.Header().Get(\"Content-Type\"))\n\terr = (ProtoBuf{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, string(protoData), w.Body.String())\n\tassert.Equal(t, \"application/x-protobuf\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":8397,"list":[{"children":[],"start":8400,"end":8427,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":8400,"end":8401,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":8400,"name":"w","object":null}],"tokenPos":8402,"token":47,"rhs":[{"children":[],"start":8405,"end":8427,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8405,"end":8425,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8405,"end":8413,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":8405,"name":"httptest","object":null},"sel":{"children":[],"start":8414,"end":8425,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":8414,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":8429,"end":8464,"code":"reps := []int64{int64(1), int64(2)}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":8429,"end":8433,"code":"reps","nodeType":"Identifier","column":0,"line":0,"namePos":8429,"name":"reps","object":null}],"tokenPos":8434,"token":47,"rhs":[{"children":[],"start":8437,"end":8464,"code":"[]int64{int64(1), int64(2)}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":8437,"end":8444,"code":"[]int64","nodeType":"ArrayType","column":0,"line":0,"leftBracket":8437,"length":null,"element":{"children":[],"start":8439,"end":8444,"code":"int64","nodeType":"Identifier","column":0,"line":0,"namePos":8439,"name":"int64","object":null}},"lbrace":8444,"elements":[{"children":[],"start":8445,"end":8453,"code":"int64(1)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8445,"end":8450,"code":"int64","nodeType":"Identifier","column":0,"line":0,"namePos":8445,"name":"int64","object":null},"lparen":0,"args":[{"children":[],"start":8451,"end":8452,"code":"1","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":8451,"kind":5,"value":"1"}],"ellipsis":0,"rparen":0},{"children":[],"start":8455,"end":8463,"code":"int64(2)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8455,"end":8460,"code":"int64","nodeType":"Identifier","column":0,"line":0,"namePos":8455,"name":"int64","object":null},"lparen":0,"args":[{"children":[],"start":8461,"end":8462,"code":"2","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":8461,"kind":5,"value":"2"}],"ellipsis":0,"rparen":0}],"rbrace":8463,"incomplete":false}]},{"children":[],"start":8466,"end":8481,"code":"label := \"test\"","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":8466,"end":8471,"code":"label","nodeType":"Identifier","column":0,"line":0,"namePos":8466,"name":"label","object":null}],"tokenPos":8472,"token":47,"rhs":[{"children":[],"start":8475,"end":8481,"code":"\"test\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":8475,"kind":9,"value":"\"test\""}]},{"children":[],"start":8483,"end":8541,"code":"data := \u0026testdata.Test{Label: \u0026label, Reps: reps}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":8483,"end":8487,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":8483,"name":"data","object":null}],"tokenPos":8488,"token":47,"rhs":[{"children":[],"start":8491,"end":8541,"code":"\u0026testdata.Test{Label: \u0026label, Reps: reps}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":8491,"op":17,"expression":{"children":[],"start":8492,"end":8541,"code":"testdata.Test{Label: \u0026label, Reps: reps}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":8492,"end":8505,"code":"testdata.Test","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8492,"end":8500,"code":"testdata","nodeType":"Identifier","column":0,"line":0,"namePos":8492,"name":"testdata","object":null},"sel":{"children":[],"start":8501,"end":8505,"code":"Test","nodeType":"Identifier","column":0,"line":0,"namePos":8501,"name":"Test","object":null}},"lbrace":8505,"elements":[{"children":[],"start":8509,"end":8522,"code":"Label: \u0026label","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":8509,"end":8514,"code":"Label","nodeType":"Identifier","column":0,"line":0,"namePos":8509,"name":"Label","object":null},"colon":0,"value":{"children":[],"start":8516,"end":8522,"code":"\u0026label","nodeType":"UnaryExpression","column":0,"line":0,"opPos":8516,"op":17,"expression":{"children":[],"start":8517,"end":8522,"code":"label","nodeType":"Identifier","column":0,"line":0,"namePos":8517,"name":"label","object":null}}},{"children":[],"start":8526,"end":8537,"code":"Reps: reps","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":8526,"end":8530,"code":"Reps","nodeType":"Identifier","column":0,"line":0,"namePos":8526,"name":"Reps","object":null},"colon":0,"value":{"children":[],"start":8533,"end":8537,"code":"reps","nodeType":"Identifier","column":0,"line":0,"namePos":8533,"name":"reps","object":null}}],"rbrace":8540,"incomplete":false}}]},{"children":[],"start":8544,"end":8580,"code":"(ProtoBuf{data}).WriteContentType(w)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":8544,"end":8580,"code":"(ProtoBuf{data}).WriteContentType(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8544,"end":8577,"code":"(ProtoBuf{data}).WriteContentType","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8544,"end":8560,"code":"(ProtoBuf{data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":8544,"expression":{"children":[],"start":8545,"end":8559,"code":"ProtoBuf{data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":8545,"end":8553,"code":"ProtoBuf","nodeType":"Identifier","column":0,"line":0,"namePos":8545,"name":"ProtoBuf","object":null},"lbrace":8553,"elements":[{"children":[],"start":8554,"end":8558,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":8554,"name":"data","object":null}],"rbrace":8558,"incomplete":false},"rparen":8559},"sel":{"children":[],"start":8561,"end":8577,"code":"WriteContentType","nodeType":"Identifier","column":0,"line":0,"namePos":8561,"name":"WriteContentType","object":null}},"lparen":0,"args":[{"children":[],"start":8578,"end":8579,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":8578,"name":"w","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":8582,"end":8619,"code":"protoData, err := proto.Marshal(data)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":8582,"end":8591,"code":"protoData","nodeType":"Identifier","column":0,"line":0,"namePos":8582,"name":"protoData","object":null},{"children":[],"start":8593,"end":8596,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":8593,"name":"err","object":null}],"tokenPos":8597,"token":47,"rhs":[{"children":[],"start":8600,"end":8619,"code":"proto.Marshal(data)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8600,"end":8613,"code":"proto.Marshal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8600,"end":8605,"code":"proto","nodeType":"Identifier","column":0,"line":0,"namePos":8600,"name":"proto","object":null},"sel":{"children":[],"start":8606,"end":8613,"code":"Marshal","nodeType":"Identifier","column":0,"line":0,"namePos":8606,"name":"Marshal","object":null}},"lparen":0,"args":[{"children":[],"start":8614,"end":8618,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":8614,"name":"data","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":8621,"end":8643,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":8621,"end":8643,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8621,"end":8635,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8621,"end":8627,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":8621,"name":"assert","object":null},"sel":{"children":[],"start":8628,"end":8635,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":8628,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":8636,"end":8637,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":8636,"name":"t","object":null},{"children":[],"start":8639,"end":8642,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":8639,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":8645,"end":8718,"code":"assert.Equal(t, \"application/x-protobuf\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":8645,"end":8718,"code":"assert.Equal(t, \"application/x-protobuf\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8645,"end":8657,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8645,"end":8651,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":8645,"name":"assert","object":null},"sel":{"children":[],"start":8652,"end":8657,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":8652,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":8658,"end":8659,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":8658,"name":"t","object":null},{"children":[],"start":8661,"end":8685,"code":"\"application/x-protobuf\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":8661,"kind":9,"value":"\"application/x-protobuf\""},{"children":[],"start":8687,"end":8717,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8687,"end":8701,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8687,"end":8697,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8687,"end":8695,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8687,"end":8688,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":8687,"name":"w","object":null},"sel":{"children":[],"start":8689,"end":8695,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":8689,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":8698,"end":8701,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":8698,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":8702,"end":8716,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":8702,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":8721,"end":8753,"code":"err = (ProtoBuf{data}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":8721,"end":8724,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":8721,"name":"err","object":null}],"tokenPos":8725,"token":42,"rhs":[{"children":[],"start":8727,"end":8753,"code":"(ProtoBuf{data}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8727,"end":8750,"code":"(ProtoBuf{data}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8727,"end":8743,"code":"(ProtoBuf{data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":8727,"expression":{"children":[],"start":8728,"end":8742,"code":"ProtoBuf{data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":8728,"end":8736,"code":"ProtoBuf","nodeType":"Identifier","column":0,"line":0,"namePos":8728,"name":"ProtoBuf","object":null},"lbrace":8736,"elements":[{"children":[],"start":8737,"end":8741,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":8737,"name":"data","object":null}],"rbrace":8741,"incomplete":false},"rparen":8742},"sel":{"children":[],"start":8744,"end":8750,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":8744,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":8751,"end":8752,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":8751,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":8756,"end":8778,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":8756,"end":8778,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8756,"end":8770,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8756,"end":8762,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":8756,"name":"assert","object":null},"sel":{"children":[],"start":8763,"end":8770,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":8763,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":8771,"end":8772,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":8771,"name":"t","object":null},{"children":[],"start":8774,"end":8777,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":8774,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":8780,"end":8831,"code":"assert.Equal(t, string(protoData), w.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":8780,"end":8831,"code":"assert.Equal(t, string(protoData), w.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8780,"end":8792,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8780,"end":8786,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":8780,"name":"assert","object":null},"sel":{"children":[],"start":8787,"end":8792,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":8787,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":8793,"end":8794,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":8793,"name":"t","object":null},{"children":[],"start":8796,"end":8813,"code":"string(protoData)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8796,"end":8802,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":8796,"name":"string","object":null},"lparen":0,"args":[{"children":[],"start":8803,"end":8812,"code":"protoData","nodeType":"Identifier","column":0,"line":0,"namePos":8803,"name":"protoData","object":null}],"ellipsis":0,"rparen":0},{"children":[],"start":8815,"end":8830,"code":"w.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8815,"end":8828,"code":"w.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8815,"end":8821,"code":"w.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8815,"end":8816,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":8815,"name":"w","object":null},"sel":{"children":[],"start":8817,"end":8821,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":8817,"name":"Body","object":null}},"sel":{"children":[],"start":8822,"end":8828,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":8822,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":8833,"end":8906,"code":"assert.Equal(t, \"application/x-protobuf\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":8833,"end":8906,"code":"assert.Equal(t, \"application/x-protobuf\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8833,"end":8845,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8833,"end":8839,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":8833,"name":"assert","object":null},"sel":{"children":[],"start":8840,"end":8845,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":8840,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":8846,"end":8847,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":8846,"name":"t","object":null},{"children":[],"start":8849,"end":8873,"code":"\"application/x-protobuf\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":8849,"kind":9,"value":"\"application/x-protobuf\""},{"children":[],"start":8875,"end":8905,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8875,"end":8889,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8875,"end":8885,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8875,"end":8883,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8875,"end":8876,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":8875,"name":"w","object":null},"sel":{"children":[],"start":8877,"end":8883,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":8877,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":8886,"end":8889,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":8886,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":8890,"end":8904,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":8890,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":8907}},{"children":[],"start":8910,"end":9067,"code":"func TestRenderProtoBufFail(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := \u0026testdata.Test{}\n\terr := (ProtoBuf{data}).Render(w)\n\tassert.Error(t, err)\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":8915,"end":8937,"code":"TestRenderProtoBufFail","nodeType":"Identifier","column":0,"line":0,"namePos":8915,"name":"TestRenderProtoBufFail","object":null},"type":{"children":[],"start":8910,"end":8951,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":8910,"TypeParams":null,"Params":{"children":[],"start":8937,"end":8951,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":8937,"list":[{"children":[],"start":8938,"end":8950,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":8938,"end":8939,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":8938,"name":"t","object":null}],"type":{"children":[],"start":8940,"end":8950,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":8940,"expression":{"children":[],"start":8941,"end":8950,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8941,"end":8948,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":8941,"name":"testing","object":null},"sel":{"children":[],"start":8949,"end":8950,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":8949,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":8950},"Results":null},"body":{"children":[],"start":8952,"end":9067,"code":"{\n\tw := httptest.NewRecorder()\n\tdata := \u0026testdata.Test{}\n\terr := (ProtoBuf{data}).Render(w)\n\tassert.Error(t, err)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":8952,"list":[{"children":[],"start":8955,"end":8982,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":8955,"end":8956,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":8955,"name":"w","object":null}],"tokenPos":8957,"token":47,"rhs":[{"children":[],"start":8960,"end":8982,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":8960,"end":8980,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8960,"end":8968,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":8960,"name":"httptest","object":null},"sel":{"children":[],"start":8969,"end":8980,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":8969,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":8984,"end":9008,"code":"data := \u0026testdata.Test{}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":8984,"end":8988,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":8984,"name":"data","object":null}],"tokenPos":8989,"token":47,"rhs":[{"children":[],"start":8992,"end":9008,"code":"\u0026testdata.Test{}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":8992,"op":17,"expression":{"children":[],"start":8993,"end":9008,"code":"testdata.Test{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":8993,"end":9006,"code":"testdata.Test","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":8993,"end":9001,"code":"testdata","nodeType":"Identifier","column":0,"line":0,"namePos":8993,"name":"testdata","object":null},"sel":{"children":[],"start":9002,"end":9006,"code":"Test","nodeType":"Identifier","column":0,"line":0,"namePos":9002,"name":"Test","object":null}},"lbrace":9006,"elements":[],"rbrace":9007,"incomplete":false}}]},{"children":[],"start":9010,"end":9043,"code":"err := (ProtoBuf{data}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":9010,"end":9013,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":9010,"name":"err","object":null}],"tokenPos":9014,"token":47,"rhs":[{"children":[],"start":9017,"end":9043,"code":"(ProtoBuf{data}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9017,"end":9040,"code":"(ProtoBuf{data}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9017,"end":9033,"code":"(ProtoBuf{data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":9017,"expression":{"children":[],"start":9018,"end":9032,"code":"ProtoBuf{data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":9018,"end":9026,"code":"ProtoBuf","nodeType":"Identifier","column":0,"line":0,"namePos":9018,"name":"ProtoBuf","object":null},"lbrace":9026,"elements":[{"children":[],"start":9027,"end":9031,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":9027,"name":"data","object":null}],"rbrace":9031,"incomplete":false},"rparen":9032},"sel":{"children":[],"start":9034,"end":9040,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":9034,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":9041,"end":9042,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":9041,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":9045,"end":9065,"code":"assert.Error(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":9045,"end":9065,"code":"assert.Error(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9045,"end":9057,"code":"assert.Error","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9045,"end":9051,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":9045,"name":"assert","object":null},"sel":{"children":[],"start":9052,"end":9057,"code":"Error","nodeType":"Identifier","column":0,"line":0,"namePos":9052,"name":"Error","object":null}},"lparen":0,"args":[{"children":[],"start":9058,"end":9059,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":9058,"name":"t","object":null},{"children":[],"start":9061,"end":9064,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":9061,"name":"err","object":null}],"ellipsis":0,"rparen":0}}],"rbrace":9066}},{"children":[],"start":9069,"end":9489,"code":"func TestRenderXML(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := xmlmap{\"foo\": \"bar\"}\n\t(XML{data}).WriteContentType(w)\n\tassert.Equal(t, \"application/xml; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n\terr := (XML{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"\u003cmap\u003e\u003cfoo\u003ebar\u003c/foo\u003e\u003c/map\u003e\", w.Body.String())\n\tassert.Equal(t, \"application/xml; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":9074,"end":9087,"code":"TestRenderXML","nodeType":"Identifier","column":0,"line":0,"namePos":9074,"name":"TestRenderXML","object":null},"type":{"children":[],"start":9069,"end":9101,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":9069,"TypeParams":null,"Params":{"children":[],"start":9087,"end":9101,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":9087,"list":[{"children":[],"start":9088,"end":9100,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":9088,"end":9089,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":9088,"name":"t","object":null}],"type":{"children":[],"start":9090,"end":9100,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":9090,"expression":{"children":[],"start":9091,"end":9100,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9091,"end":9098,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":9091,"name":"testing","object":null},"sel":{"children":[],"start":9099,"end":9100,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":9099,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":9100},"Results":null},"body":{"children":[],"start":9102,"end":9489,"code":"{\n\tw := httptest.NewRecorder()\n\tdata := xmlmap{\"foo\": \"bar\"}\n\t(XML{data}).WriteContentType(w)\n\tassert.Equal(t, \"application/xml; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n\terr := (XML{data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"\u003cmap\u003e\u003cfoo\u003ebar\u003c/foo\u003e\u003c/map\u003e\", w.Body.String())\n\tassert.Equal(t, \"application/xml; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":9102,"list":[{"children":[],"start":9105,"end":9132,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":9105,"end":9106,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":9105,"name":"w","object":null}],"tokenPos":9107,"token":47,"rhs":[{"children":[],"start":9110,"end":9132,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9110,"end":9130,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9110,"end":9118,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":9110,"name":"httptest","object":null},"sel":{"children":[],"start":9119,"end":9130,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":9119,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":9134,"end":9168,"code":"data := xmlmap{\"foo\": \"bar\"}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":9134,"end":9138,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":9134,"name":"data","object":null}],"tokenPos":9139,"token":47,"rhs":[{"children":[],"start":9142,"end":9168,"code":"xmlmap{\"foo\": \"bar\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":9142,"end":9148,"code":"xmlmap","nodeType":"Identifier","column":0,"line":0,"namePos":9142,"name":"xmlmap","object":null},"lbrace":9148,"elements":[{"children":[],"start":9152,"end":9164,"code":"\"foo\": \"bar\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":9152,"end":9157,"code":"\"foo\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":9152,"kind":9,"value":"\"foo\""},"colon":0,"value":{"children":[],"start":9159,"end":9164,"code":"\"bar\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":9159,"kind":9,"value":"\"bar\""}}],"rbrace":9167,"incomplete":false}]},{"children":[],"start":9171,"end":9202,"code":"(XML{data}).WriteContentType(w)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":9171,"end":9202,"code":"(XML{data}).WriteContentType(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9171,"end":9199,"code":"(XML{data}).WriteContentType","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9171,"end":9182,"code":"(XML{data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":9171,"expression":{"children":[],"start":9172,"end":9181,"code":"XML{data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":9172,"end":9175,"code":"XML","nodeType":"Identifier","column":0,"line":0,"namePos":9172,"name":"XML","object":null},"lbrace":9175,"elements":[{"children":[],"start":9176,"end":9180,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":9176,"name":"data","object":null}],"rbrace":9180,"incomplete":false},"rparen":9181},"sel":{"children":[],"start":9183,"end":9199,"code":"WriteContentType","nodeType":"Identifier","column":0,"line":0,"namePos":9183,"name":"WriteContentType","object":null}},"lparen":0,"args":[{"children":[],"start":9200,"end":9201,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":9200,"name":"w","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":9204,"end":9285,"code":"assert.Equal(t, \"application/xml; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":9204,"end":9285,"code":"assert.Equal(t, \"application/xml; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9204,"end":9216,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9204,"end":9210,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":9204,"name":"assert","object":null},"sel":{"children":[],"start":9211,"end":9216,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":9211,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":9217,"end":9218,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":9217,"name":"t","object":null},{"children":[],"start":9220,"end":9252,"code":"\"application/xml; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":9220,"kind":9,"value":"\"application/xml; charset=utf-8\""},{"children":[],"start":9254,"end":9284,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9254,"end":9268,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9254,"end":9264,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9254,"end":9262,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9254,"end":9255,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":9254,"name":"w","object":null},"sel":{"children":[],"start":9256,"end":9262,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":9256,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":9265,"end":9268,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":9265,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":9269,"end":9283,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":9269,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":9288,"end":9316,"code":"err := (XML{data}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":9288,"end":9291,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":9288,"name":"err","object":null}],"tokenPos":9292,"token":47,"rhs":[{"children":[],"start":9295,"end":9316,"code":"(XML{data}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9295,"end":9313,"code":"(XML{data}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9295,"end":9306,"code":"(XML{data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":9295,"expression":{"children":[],"start":9296,"end":9305,"code":"XML{data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":9296,"end":9299,"code":"XML","nodeType":"Identifier","column":0,"line":0,"namePos":9296,"name":"XML","object":null},"lbrace":9299,"elements":[{"children":[],"start":9300,"end":9304,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":9300,"name":"data","object":null}],"rbrace":9304,"incomplete":false},"rparen":9305},"sel":{"children":[],"start":9307,"end":9313,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":9307,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":9314,"end":9315,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":9314,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":9319,"end":9341,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":9319,"end":9341,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9319,"end":9333,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9319,"end":9325,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":9319,"name":"assert","object":null},"sel":{"children":[],"start":9326,"end":9333,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":9326,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":9334,"end":9335,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":9334,"name":"t","object":null},{"children":[],"start":9337,"end":9340,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":9337,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":9343,"end":9404,"code":"assert.Equal(t, \"\u003cmap\u003e\u003cfoo\u003ebar\u003c/foo\u003e\u003c/map\u003e\", w.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":9343,"end":9404,"code":"assert.Equal(t, \"\u003cmap\u003e\u003cfoo\u003ebar\u003c/foo\u003e\u003c/map\u003e\", w.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9343,"end":9355,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9343,"end":9349,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":9343,"name":"assert","object":null},"sel":{"children":[],"start":9350,"end":9355,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":9350,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":9356,"end":9357,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":9356,"name":"t","object":null},{"children":[],"start":9359,"end":9386,"code":"\"\u003cmap\u003e\u003cfoo\u003ebar\u003c/foo\u003e\u003c/map\u003e\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":9359,"kind":9,"value":"\"\u003cmap\u003e\u003cfoo\u003ebar\u003c/foo\u003e\u003c/map\u003e\""},{"children":[],"start":9388,"end":9403,"code":"w.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9388,"end":9401,"code":"w.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9388,"end":9394,"code":"w.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9388,"end":9389,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":9388,"name":"w","object":null},"sel":{"children":[],"start":9390,"end":9394,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":9390,"name":"Body","object":null}},"sel":{"children":[],"start":9395,"end":9401,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":9395,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":9406,"end":9487,"code":"assert.Equal(t, \"application/xml; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":9406,"end":9487,"code":"assert.Equal(t, \"application/xml; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9406,"end":9418,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9406,"end":9412,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":9406,"name":"assert","object":null},"sel":{"children":[],"start":9413,"end":9418,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":9413,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":9419,"end":9420,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":9419,"name":"t","object":null},{"children":[],"start":9422,"end":9454,"code":"\"application/xml; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":9422,"kind":9,"value":"\"application/xml; charset=utf-8\""},{"children":[],"start":9456,"end":9486,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9456,"end":9470,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9456,"end":9466,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9456,"end":9464,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9456,"end":9457,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":9456,"name":"w","object":null},"sel":{"children":[],"start":9458,"end":9464,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":9458,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":9467,"end":9470,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":9467,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":9471,"end":9485,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":9471,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":9488}},{"children":[],"start":9491,"end":10291,"code":"func TestRenderRedirect(t *testing.T) {\n\treq, err := http.NewRequest(\"GET\", \"/test-redirect\", nil)\n\tassert.NoError(t, err)\n\tdata1 := Redirect{Code: http.StatusMovedPermanently, Request: req, Location: \"/new/location\"}\n\tw := httptest.NewRecorder()\n\terr = data1.Render(w)\n\tassert.NoError(t, err)\n\tdata2 := Redirect{Code: http.StatusOK, Request: req, Location: \"/new/location\"}\n\tw = httptest.NewRecorder()\n\tassert.PanicsWithValue(t, \"Cannot redirect with status code 200\", func() {\n\t\terr := data2.Render(w)\n\t\tassert.NoError(t, err)\n\t})\n\tdata3 := Redirect{Code: http.StatusCreated, Request: req, Location: \"/new/location\"}\n\tw = httptest.NewRecorder()\n\terr = data3.Render(w)\n\tassert.NoError(t, err)\n\tdata2.WriteContentType(w)\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":9496,"end":9514,"code":"TestRenderRedirect","nodeType":"Identifier","column":0,"line":0,"namePos":9496,"name":"TestRenderRedirect","object":null},"type":{"children":[],"start":9491,"end":9528,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":9491,"TypeParams":null,"Params":{"children":[],"start":9514,"end":9528,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":9514,"list":[{"children":[],"start":9515,"end":9527,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":9515,"end":9516,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":9515,"name":"t","object":null}],"type":{"children":[],"start":9517,"end":9527,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":9517,"expression":{"children":[],"start":9518,"end":9527,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9518,"end":9525,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":9518,"name":"testing","object":null},"sel":{"children":[],"start":9526,"end":9527,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":9526,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":9527},"Results":null},"body":{"children":[],"start":9529,"end":10291,"code":"{\n\treq, err := http.NewRequest(\"GET\", \"/test-redirect\", nil)\n\tassert.NoError(t, err)\n\tdata1 := Redirect{Code: http.StatusMovedPermanently, Request: req, Location: \"/new/location\"}\n\tw := httptest.NewRecorder()\n\terr = data1.Render(w)\n\tassert.NoError(t, err)\n\tdata2 := Redirect{Code: http.StatusOK, Request: req, Location: \"/new/location\"}\n\tw = httptest.NewRecorder()\n\tassert.PanicsWithValue(t, \"Cannot redirect with status code 200\", func() {\n\t\terr := data2.Render(w)\n\t\tassert.NoError(t, err)\n\t})\n\tdata3 := Redirect{Code: http.StatusCreated, Request: req, Location: \"/new/location\"}\n\tw = httptest.NewRecorder()\n\terr = data3.Render(w)\n\tassert.NoError(t, err)\n\tdata2.WriteContentType(w)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":9529,"list":[{"children":[],"start":9532,"end":9589,"code":"req, err := http.NewRequest(\"GET\", \"/test-redirect\", nil)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":9532,"end":9535,"code":"req","nodeType":"Identifier","column":0,"line":0,"namePos":9532,"name":"req","object":null},{"children":[],"start":9537,"end":9540,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":9537,"name":"err","object":null}],"tokenPos":9541,"token":47,"rhs":[{"children":[],"start":9544,"end":9589,"code":"http.NewRequest(\"GET\", \"/test-redirect\", nil)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9544,"end":9559,"code":"http.NewRequest","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9544,"end":9548,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":9544,"name":"http","object":null},"sel":{"children":[],"start":9549,"end":9559,"code":"NewRequest","nodeType":"Identifier","column":0,"line":0,"namePos":9549,"name":"NewRequest","object":null}},"lparen":0,"args":[{"children":[],"start":9560,"end":9565,"code":"\"GET\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":9560,"kind":9,"value":"\"GET\""},{"children":[],"start":9567,"end":9583,"code":"\"/test-redirect\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":9567,"kind":9,"value":"\"/test-redirect\""},{"children":[],"start":9585,"end":9588,"code":"nil","nodeType":"Identifier","column":0,"line":0,"namePos":9585,"name":"nil","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":9591,"end":9613,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":9591,"end":9613,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9591,"end":9605,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9591,"end":9597,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":9591,"name":"assert","object":null},"sel":{"children":[],"start":9598,"end":9605,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":9598,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":9606,"end":9607,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":9606,"name":"t","object":null},{"children":[],"start":9609,"end":9612,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":9609,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":9616,"end":9724,"code":"data1 := Redirect{Code: http.StatusMovedPermanently, Request: req, Location: \"/new/location\"}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":9616,"end":9621,"code":"data1","nodeType":"Identifier","column":0,"line":0,"namePos":9616,"name":"data1","object":null}],"tokenPos":9622,"token":47,"rhs":[{"children":[],"start":9625,"end":9724,"code":"Redirect{Code: http.StatusMovedPermanently, Request: req, Location: \"/new/location\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":9625,"end":9633,"code":"Redirect","nodeType":"Identifier","column":0,"line":0,"namePos":9625,"name":"Redirect","object":null},"lbrace":9633,"elements":[{"children":[],"start":9637,"end":9674,"code":"Code: http.StatusMovedPermanently","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":9637,"end":9641,"code":"Code","nodeType":"Identifier","column":0,"line":0,"namePos":9637,"name":"Code","object":null},"colon":0,"value":{"children":[],"start":9647,"end":9674,"code":"http.StatusMovedPermanently","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9647,"end":9651,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":9647,"name":"http","object":null},"sel":{"children":[],"start":9652,"end":9674,"code":"StatusMovedPermanently","nodeType":"Identifier","column":0,"line":0,"namePos":9652,"name":"StatusMovedPermanently","object":null}}},{"children":[],"start":9678,"end":9691,"code":"Request: req","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":9678,"end":9685,"code":"Request","nodeType":"Identifier","column":0,"line":0,"namePos":9678,"name":"Request","object":null},"colon":0,"value":{"children":[],"start":9688,"end":9691,"code":"req","nodeType":"Identifier","column":0,"line":0,"namePos":9688,"name":"req","object":null}},{"children":[],"start":9695,"end":9720,"code":"Location: \"/new/location\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":9695,"end":9703,"code":"Location","nodeType":"Identifier","column":0,"line":0,"namePos":9695,"name":"Location","object":null},"colon":0,"value":{"children":[],"start":9705,"end":9720,"code":"\"/new/location\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":9705,"kind":9,"value":"\"/new/location\""}}],"rbrace":9723,"incomplete":false}]},{"children":[],"start":9727,"end":9754,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":9727,"end":9728,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":9727,"name":"w","object":null}],"tokenPos":9729,"token":47,"rhs":[{"children":[],"start":9732,"end":9754,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9732,"end":9752,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9732,"end":9740,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":9732,"name":"httptest","object":null},"sel":{"children":[],"start":9741,"end":9752,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":9741,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":9756,"end":9777,"code":"err = data1.Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":9756,"end":9759,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":9756,"name":"err","object":null}],"tokenPos":9760,"token":42,"rhs":[{"children":[],"start":9762,"end":9777,"code":"data1.Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9762,"end":9774,"code":"data1.Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9762,"end":9767,"code":"data1","nodeType":"Identifier","column":0,"line":0,"namePos":9762,"name":"data1","object":null},"sel":{"children":[],"start":9768,"end":9774,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":9768,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":9775,"end":9776,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":9775,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":9779,"end":9801,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":9779,"end":9801,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9779,"end":9793,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9779,"end":9785,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":9779,"name":"assert","object":null},"sel":{"children":[],"start":9786,"end":9793,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":9786,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":9794,"end":9795,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":9794,"name":"t","object":null},{"children":[],"start":9797,"end":9800,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":9797,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":9804,"end":9898,"code":"data2 := Redirect{Code: http.StatusOK, Request: req, Location: \"/new/location\"}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":9804,"end":9809,"code":"data2","nodeType":"Identifier","column":0,"line":0,"namePos":9804,"name":"data2","object":null}],"tokenPos":9810,"token":47,"rhs":[{"children":[],"start":9813,"end":9898,"code":"Redirect{Code: http.StatusOK, Request: req, Location: \"/new/location\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":9813,"end":9821,"code":"Redirect","nodeType":"Identifier","column":0,"line":0,"namePos":9813,"name":"Redirect","object":null},"lbrace":9821,"elements":[{"children":[],"start":9825,"end":9848,"code":"Code: http.StatusOK","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":9825,"end":9829,"code":"Code","nodeType":"Identifier","column":0,"line":0,"namePos":9825,"name":"Code","object":null},"colon":0,"value":{"children":[],"start":9835,"end":9848,"code":"http.StatusOK","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9835,"end":9839,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":9835,"name":"http","object":null},"sel":{"children":[],"start":9840,"end":9848,"code":"StatusOK","nodeType":"Identifier","column":0,"line":0,"namePos":9840,"name":"StatusOK","object":null}}},{"children":[],"start":9852,"end":9865,"code":"Request: req","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":9852,"end":9859,"code":"Request","nodeType":"Identifier","column":0,"line":0,"namePos":9852,"name":"Request","object":null},"colon":0,"value":{"children":[],"start":9862,"end":9865,"code":"req","nodeType":"Identifier","column":0,"line":0,"namePos":9862,"name":"req","object":null}},{"children":[],"start":9869,"end":9894,"code":"Location: \"/new/location\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":9869,"end":9877,"code":"Location","nodeType":"Identifier","column":0,"line":0,"namePos":9869,"name":"Location","object":null},"colon":0,"value":{"children":[],"start":9879,"end":9894,"code":"\"/new/location\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":9879,"kind":9,"value":"\"/new/location\""}}],"rbrace":9897,"incomplete":false}]},{"children":[],"start":9901,"end":9927,"code":"w = httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":9901,"end":9902,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":9901,"name":"w","object":null}],"tokenPos":9903,"token":42,"rhs":[{"children":[],"start":9905,"end":9927,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9905,"end":9925,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9905,"end":9913,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":9905,"name":"httptest","object":null},"sel":{"children":[],"start":9914,"end":9925,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":9914,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":9929,"end":10057,"code":"assert.PanicsWithValue(t, \"Cannot redirect with status code 200\", func() {\n\terr := data2.Render(w)\n\tassert.NoError(t, err)\n})","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":9929,"end":10057,"code":"assert.PanicsWithValue(t, \"Cannot redirect with status code 200\", func() {\n\terr := data2.Render(w)\n\tassert.NoError(t, err)\n})","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":9929,"end":9951,"code":"assert.PanicsWithValue","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":9929,"end":9935,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":9929,"name":"assert","object":null},"sel":{"children":[],"start":9936,"end":9951,"code":"PanicsWithValue","nodeType":"Identifier","column":0,"line":0,"namePos":9936,"name":"PanicsWithValue","object":null}},"lparen":0,"args":[{"children":[],"start":9952,"end":9953,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":9952,"name":"t","object":null},{"children":[],"start":9955,"end":9993,"code":"\"Cannot redirect with status code 200\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":9955,"kind":9,"value":"\"Cannot redirect with status code 200\""},{"children":[],"start":9995,"end":10056,"code":"func() {\n\terr := data2.Render(w)\n\tassert.NoError(t, err)\n}","nodeType":"FunctionLiteral","column":0,"line":0,"type":{"children":[],"start":9995,"end":10001,"code":"func()","nodeType":"FunctionType","column":0,"line":0,"Function":9995,"TypeParams":null,"Params":{"children":[],"start":9999,"end":10001,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":9999,"list":[],"closing":10000},"Results":null},"body":{"children":[],"start":10002,"end":10056,"code":"{\n\terr := data2.Render(w)\n\tassert.NoError(t, err)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":10002,"list":[{"children":[],"start":10006,"end":10028,"code":"err := data2.Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":10006,"end":10009,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":10006,"name":"err","object":null}],"tokenPos":10010,"token":47,"rhs":[{"children":[],"start":10013,"end":10028,"code":"data2.Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10013,"end":10025,"code":"data2.Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10013,"end":10018,"code":"data2","nodeType":"Identifier","column":0,"line":0,"namePos":10013,"name":"data2","object":null},"sel":{"children":[],"start":10019,"end":10025,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":10019,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":10026,"end":10027,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":10026,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":10031,"end":10053,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":10031,"end":10053,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10031,"end":10045,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10031,"end":10037,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":10031,"name":"assert","object":null},"sel":{"children":[],"start":10038,"end":10045,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":10038,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":10046,"end":10047,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":10046,"name":"t","object":null},{"children":[],"start":10049,"end":10052,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":10049,"name":"err","object":null}],"ellipsis":0,"rparen":0}}],"rbrace":10055}}],"ellipsis":0,"rparen":0}},{"children":[],"start":10060,"end":10159,"code":"data3 := Redirect{Code: http.StatusCreated, Request: req, Location: \"/new/location\"}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":10060,"end":10065,"code":"data3","nodeType":"Identifier","column":0,"line":0,"namePos":10060,"name":"data3","object":null}],"tokenPos":10066,"token":47,"rhs":[{"children":[],"start":10069,"end":10159,"code":"Redirect{Code: http.StatusCreated, Request: req, Location: \"/new/location\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":10069,"end":10077,"code":"Redirect","nodeType":"Identifier","column":0,"line":0,"namePos":10069,"name":"Redirect","object":null},"lbrace":10077,"elements":[{"children":[],"start":10081,"end":10109,"code":"Code: http.StatusCreated","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":10081,"end":10085,"code":"Code","nodeType":"Identifier","column":0,"line":0,"namePos":10081,"name":"Code","object":null},"colon":0,"value":{"children":[],"start":10091,"end":10109,"code":"http.StatusCreated","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10091,"end":10095,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":10091,"name":"http","object":null},"sel":{"children":[],"start":10096,"end":10109,"code":"StatusCreated","nodeType":"Identifier","column":0,"line":0,"namePos":10096,"name":"StatusCreated","object":null}}},{"children":[],"start":10113,"end":10126,"code":"Request: req","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":10113,"end":10120,"code":"Request","nodeType":"Identifier","column":0,"line":0,"namePos":10113,"name":"Request","object":null},"colon":0,"value":{"children":[],"start":10123,"end":10126,"code":"req","nodeType":"Identifier","column":0,"line":0,"namePos":10123,"name":"req","object":null}},{"children":[],"start":10130,"end":10155,"code":"Location: \"/new/location\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":10130,"end":10138,"code":"Location","nodeType":"Identifier","column":0,"line":0,"namePos":10130,"name":"Location","object":null},"colon":0,"value":{"children":[],"start":10140,"end":10155,"code":"\"/new/location\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":10140,"kind":9,"value":"\"/new/location\""}}],"rbrace":10158,"incomplete":false}]},{"children":[],"start":10162,"end":10188,"code":"w = httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":10162,"end":10163,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":10162,"name":"w","object":null}],"tokenPos":10164,"token":42,"rhs":[{"children":[],"start":10166,"end":10188,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10166,"end":10186,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10166,"end":10174,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":10166,"name":"httptest","object":null},"sel":{"children":[],"start":10175,"end":10186,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":10175,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":10190,"end":10211,"code":"err = data3.Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":10190,"end":10193,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":10190,"name":"err","object":null}],"tokenPos":10194,"token":42,"rhs":[{"children":[],"start":10196,"end":10211,"code":"data3.Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10196,"end":10208,"code":"data3.Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10196,"end":10201,"code":"data3","nodeType":"Identifier","column":0,"line":0,"namePos":10196,"name":"data3","object":null},"sel":{"children":[],"start":10202,"end":10208,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":10202,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":10209,"end":10210,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":10209,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":10213,"end":10235,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":10213,"end":10235,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10213,"end":10227,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10213,"end":10219,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":10213,"name":"assert","object":null},"sel":{"children":[],"start":10220,"end":10227,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":10220,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":10228,"end":10229,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":10228,"name":"t","object":null},{"children":[],"start":10231,"end":10234,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":10231,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":10264,"end":10289,"code":"data2.WriteContentType(w)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":10264,"end":10289,"code":"data2.WriteContentType(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10264,"end":10286,"code":"data2.WriteContentType","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10264,"end":10269,"code":"data2","nodeType":"Identifier","column":0,"line":0,"namePos":10264,"name":"data2","object":null},"sel":{"children":[],"start":10270,"end":10286,"code":"WriteContentType","nodeType":"Identifier","column":0,"line":0,"namePos":10270,"name":"WriteContentType","object":null}},"lparen":0,"args":[{"children":[],"start":10287,"end":10288,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":10287,"name":"w","object":null}],"ellipsis":0,"rparen":0}}],"rbrace":10290}},{"children":[],"start":10293,"end":10621,"code":"func TestRenderData(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tdata := []byte(\"#!PNG some raw data\")\n\terr := (Data{ContentType: \"image/png\", Data: data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"#!PNG some raw data\", w.Body.String())\n\tassert.Equal(t, \"image/png\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":10298,"end":10312,"code":"TestRenderData","nodeType":"Identifier","column":0,"line":0,"namePos":10298,"name":"TestRenderData","object":null},"type":{"children":[],"start":10293,"end":10326,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":10293,"TypeParams":null,"Params":{"children":[],"start":10312,"end":10326,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":10312,"list":[{"children":[],"start":10313,"end":10325,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":10313,"end":10314,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":10313,"name":"t","object":null}],"type":{"children":[],"start":10315,"end":10325,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":10315,"expression":{"children":[],"start":10316,"end":10325,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10316,"end":10323,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":10316,"name":"testing","object":null},"sel":{"children":[],"start":10324,"end":10325,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":10324,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":10325},"Results":null},"body":{"children":[],"start":10327,"end":10621,"code":"{\n\tw := httptest.NewRecorder()\n\tdata := []byte(\"#!PNG some raw data\")\n\terr := (Data{ContentType: \"image/png\", Data: data}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"#!PNG some raw data\", w.Body.String())\n\tassert.Equal(t, \"image/png\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":10327,"list":[{"children":[],"start":10330,"end":10357,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":10330,"end":10331,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":10330,"name":"w","object":null}],"tokenPos":10332,"token":47,"rhs":[{"children":[],"start":10335,"end":10357,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10335,"end":10355,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10335,"end":10343,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":10335,"name":"httptest","object":null},"sel":{"children":[],"start":10344,"end":10355,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":10344,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":10359,"end":10396,"code":"data := []byte(\"#!PNG some raw data\")","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":10359,"end":10363,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":10359,"name":"data","object":null}],"tokenPos":10364,"token":47,"rhs":[{"children":[],"start":10367,"end":10396,"code":"[]byte(\"#!PNG some raw data\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10367,"end":10373,"code":"[]byte","nodeType":"ArrayType","column":0,"line":0,"leftBracket":10367,"length":null,"element":{"children":[],"start":10369,"end":10373,"code":"byte","nodeType":"Identifier","column":0,"line":0,"namePos":10369,"name":"byte","object":null}},"lparen":0,"args":[{"children":[],"start":10374,"end":10395,"code":"\"#!PNG some raw data\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":10374,"kind":9,"value":"\"#!PNG some raw data\""}],"ellipsis":0,"rparen":0}]},{"children":[],"start":10399,"end":10475,"code":"err := (Data{ContentType: \"image/png\", Data: data}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":10399,"end":10402,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":10399,"name":"err","object":null}],"tokenPos":10403,"token":47,"rhs":[{"children":[],"start":10406,"end":10475,"code":"(Data{ContentType: \"image/png\", Data: data}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10406,"end":10472,"code":"(Data{ContentType: \"image/png\", Data: data}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10406,"end":10465,"code":"(Data{ContentType: \"image/png\", Data: data})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":10406,"expression":{"children":[],"start":10407,"end":10464,"code":"Data{ContentType: \"image/png\", Data: data}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":10407,"end":10411,"code":"Data","nodeType":"Identifier","column":0,"line":0,"namePos":10407,"name":"Data","object":null},"lbrace":10411,"elements":[{"children":[],"start":10415,"end":10439,"code":"ContentType: \"image/png\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":10415,"end":10426,"code":"ContentType","nodeType":"Identifier","column":0,"line":0,"namePos":10415,"name":"ContentType","object":null},"colon":0,"value":{"children":[],"start":10428,"end":10439,"code":"\"image/png\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":10428,"kind":9,"value":"\"image/png\""}},{"children":[],"start":10443,"end":10460,"code":"Data: data","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":10443,"end":10447,"code":"Data","nodeType":"Identifier","column":0,"line":0,"namePos":10443,"name":"Data","object":null},"colon":0,"value":{"children":[],"start":10456,"end":10460,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":10456,"name":"data","object":null}}],"rbrace":10463,"incomplete":false},"rparen":10464},"sel":{"children":[],"start":10466,"end":10472,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":10466,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":10473,"end":10474,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":10473,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":10478,"end":10500,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":10478,"end":10500,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10478,"end":10492,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10478,"end":10484,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":10478,"name":"assert","object":null},"sel":{"children":[],"start":10485,"end":10492,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":10485,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":10493,"end":10494,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":10493,"name":"t","object":null},{"children":[],"start":10496,"end":10499,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":10496,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":10502,"end":10557,"code":"assert.Equal(t, \"#!PNG some raw data\", w.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":10502,"end":10557,"code":"assert.Equal(t, \"#!PNG some raw data\", w.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10502,"end":10514,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10502,"end":10508,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":10502,"name":"assert","object":null},"sel":{"children":[],"start":10509,"end":10514,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":10509,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":10515,"end":10516,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":10515,"name":"t","object":null},{"children":[],"start":10518,"end":10539,"code":"\"#!PNG some raw data\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":10518,"kind":9,"value":"\"#!PNG some raw data\""},{"children":[],"start":10541,"end":10556,"code":"w.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10541,"end":10554,"code":"w.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10541,"end":10547,"code":"w.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10541,"end":10542,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":10541,"name":"w","object":null},"sel":{"children":[],"start":10543,"end":10547,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":10543,"name":"Body","object":null}},"sel":{"children":[],"start":10548,"end":10554,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":10548,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":10559,"end":10619,"code":"assert.Equal(t, \"image/png\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":10559,"end":10619,"code":"assert.Equal(t, \"image/png\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10559,"end":10571,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10559,"end":10565,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":10559,"name":"assert","object":null},"sel":{"children":[],"start":10566,"end":10571,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":10566,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":10572,"end":10573,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":10572,"name":"t","object":null},{"children":[],"start":10575,"end":10586,"code":"\"image/png\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":10575,"kind":9,"value":"\"image/png\""},{"children":[],"start":10588,"end":10618,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10588,"end":10602,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10588,"end":10598,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10588,"end":10596,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10588,"end":10589,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":10588,"name":"w","object":null},"sel":{"children":[],"start":10590,"end":10596,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":10590,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":10599,"end":10602,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":10599,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":10603,"end":10617,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":10603,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":10620}},{"children":[],"start":10623,"end":11084,"code":"func TestRenderString(t *testing.T) {\n\tw := httptest.NewRecorder()\n\t(String{Format: \"hello %s %d\", Data: []any{}}).WriteContentType(w)\n\tassert.Equal(t, \"text/plain; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n\terr := (String{Format: \"hola %s %d\", Data: []any{\"manu\", 2}}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"hola manu 2\", w.Body.String())\n\tassert.Equal(t, \"text/plain; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":10628,"end":10644,"code":"TestRenderString","nodeType":"Identifier","column":0,"line":0,"namePos":10628,"name":"TestRenderString","object":null},"type":{"children":[],"start":10623,"end":10658,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":10623,"TypeParams":null,"Params":{"children":[],"start":10644,"end":10658,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":10644,"list":[{"children":[],"start":10645,"end":10657,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":10645,"end":10646,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":10645,"name":"t","object":null}],"type":{"children":[],"start":10647,"end":10657,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":10647,"expression":{"children":[],"start":10648,"end":10657,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10648,"end":10655,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":10648,"name":"testing","object":null},"sel":{"children":[],"start":10656,"end":10657,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":10656,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":10657},"Results":null},"body":{"children":[],"start":10659,"end":11084,"code":"{\n\tw := httptest.NewRecorder()\n\t(String{Format: \"hello %s %d\", Data: []any{}}).WriteContentType(w)\n\tassert.Equal(t, \"text/plain; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n\terr := (String{Format: \"hola %s %d\", Data: []any{\"manu\", 2}}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"hola manu 2\", w.Body.String())\n\tassert.Equal(t, \"text/plain; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":10659,"list":[{"children":[],"start":10662,"end":10689,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":10662,"end":10663,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":10662,"name":"w","object":null}],"tokenPos":10664,"token":47,"rhs":[{"children":[],"start":10667,"end":10689,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10667,"end":10687,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10667,"end":10675,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":10667,"name":"httptest","object":null},"sel":{"children":[],"start":10676,"end":10687,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":10676,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":10692,"end":10768,"code":"(String{Format: \"hello %s %d\", Data: []any{}}).WriteContentType(w)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":10692,"end":10768,"code":"(String{Format: \"hello %s %d\", Data: []any{}}).WriteContentType(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10692,"end":10765,"code":"(String{Format: \"hello %s %d\", Data: []any{}}).WriteContentType","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10692,"end":10748,"code":"(String{Format: \"hello %s %d\", Data: []any{}})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":10692,"expression":{"children":[],"start":10693,"end":10747,"code":"String{Format: \"hello %s %d\", Data: []any{}}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":10693,"end":10699,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":10693,"name":"String","object":null},"lbrace":10699,"elements":[{"children":[],"start":10703,"end":10724,"code":"Format: \"hello %s %d\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":10703,"end":10709,"code":"Format","nodeType":"Identifier","column":0,"line":0,"namePos":10703,"name":"Format","object":null},"colon":0,"value":{"children":[],"start":10711,"end":10724,"code":"\"hello %s %d\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":10711,"kind":9,"value":"\"hello %s %d\""}},{"children":[],"start":10728,"end":10743,"code":"Data: []any{}","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":10728,"end":10732,"code":"Data","nodeType":"Identifier","column":0,"line":0,"namePos":10728,"name":"Data","object":null},"colon":0,"value":{"children":[],"start":10736,"end":10743,"code":"[]any{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":10736,"end":10741,"code":"[]any","nodeType":"ArrayType","column":0,"line":0,"leftBracket":10736,"length":null,"element":{"children":[],"start":10738,"end":10741,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":10738,"name":"any","object":null}},"lbrace":10741,"elements":[],"rbrace":10742,"incomplete":false}}],"rbrace":10746,"incomplete":false},"rparen":10747},"sel":{"children":[],"start":10749,"end":10765,"code":"WriteContentType","nodeType":"Identifier","column":0,"line":0,"namePos":10749,"name":"WriteContentType","object":null}},"lparen":0,"args":[{"children":[],"start":10766,"end":10767,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":10766,"name":"w","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":10770,"end":10846,"code":"assert.Equal(t, \"text/plain; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":10770,"end":10846,"code":"assert.Equal(t, \"text/plain; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10770,"end":10782,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10770,"end":10776,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":10770,"name":"assert","object":null},"sel":{"children":[],"start":10777,"end":10782,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":10777,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":10783,"end":10784,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":10783,"name":"t","object":null},{"children":[],"start":10786,"end":10813,"code":"\"text/plain; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":10786,"kind":9,"value":"\"text/plain; charset=utf-8\""},{"children":[],"start":10815,"end":10845,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10815,"end":10829,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10815,"end":10825,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10815,"end":10823,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10815,"end":10816,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":10815,"name":"w","object":null},"sel":{"children":[],"start":10817,"end":10823,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":10817,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":10826,"end":10829,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":10826,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":10830,"end":10844,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":10830,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":10849,"end":10930,"code":"err := (String{Format: \"hola %s %d\", Data: []any{\"manu\", 2}}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":10849,"end":10852,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":10849,"name":"err","object":null}],"tokenPos":10853,"token":47,"rhs":[{"children":[],"start":10856,"end":10930,"code":"(String{Format: \"hola %s %d\", Data: []any{\"manu\", 2}}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10856,"end":10927,"code":"(String{Format: \"hola %s %d\", Data: []any{\"manu\", 2}}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10856,"end":10920,"code":"(String{Format: \"hola %s %d\", Data: []any{\"manu\", 2}})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":10856,"expression":{"children":[],"start":10857,"end":10919,"code":"String{Format: \"hola %s %d\", Data: []any{\"manu\", 2}}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":10857,"end":10863,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":10857,"name":"String","object":null},"lbrace":10863,"elements":[{"children":[],"start":10867,"end":10887,"code":"Format: \"hola %s %d\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":10867,"end":10873,"code":"Format","nodeType":"Identifier","column":0,"line":0,"namePos":10867,"name":"Format","object":null},"colon":0,"value":{"children":[],"start":10875,"end":10887,"code":"\"hola %s %d\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":10875,"kind":9,"value":"\"hola %s %d\""}},{"children":[],"start":10891,"end":10915,"code":"Data: []any{\"manu\", 2}","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":10891,"end":10895,"code":"Data","nodeType":"Identifier","column":0,"line":0,"namePos":10891,"name":"Data","object":null},"colon":0,"value":{"children":[],"start":10899,"end":10915,"code":"[]any{\"manu\", 2}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":10899,"end":10904,"code":"[]any","nodeType":"ArrayType","column":0,"line":0,"leftBracket":10899,"length":null,"element":{"children":[],"start":10901,"end":10904,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":10901,"name":"any","object":null}},"lbrace":10904,"elements":[{"children":[],"start":10905,"end":10911,"code":"\"manu\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":10905,"kind":9,"value":"\"manu\""},{"children":[],"start":10913,"end":10914,"code":"2","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":10913,"kind":5,"value":"2"}],"rbrace":10914,"incomplete":false}}],"rbrace":10918,"incomplete":false},"rparen":10919},"sel":{"children":[],"start":10921,"end":10927,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":10921,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":10928,"end":10929,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":10928,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":10933,"end":10955,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":10933,"end":10955,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10933,"end":10947,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10933,"end":10939,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":10933,"name":"assert","object":null},"sel":{"children":[],"start":10940,"end":10947,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":10940,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":10948,"end":10949,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":10948,"name":"t","object":null},{"children":[],"start":10951,"end":10954,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":10951,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":10957,"end":11004,"code":"assert.Equal(t, \"hola manu 2\", w.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":10957,"end":11004,"code":"assert.Equal(t, \"hola manu 2\", w.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10957,"end":10969,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10957,"end":10963,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":10957,"name":"assert","object":null},"sel":{"children":[],"start":10964,"end":10969,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":10964,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":10970,"end":10971,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":10970,"name":"t","object":null},{"children":[],"start":10973,"end":10986,"code":"\"hola manu 2\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":10973,"kind":9,"value":"\"hola manu 2\""},{"children":[],"start":10988,"end":11003,"code":"w.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":10988,"end":11001,"code":"w.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10988,"end":10994,"code":"w.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":10988,"end":10989,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":10988,"name":"w","object":null},"sel":{"children":[],"start":10990,"end":10994,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":10990,"name":"Body","object":null}},"sel":{"children":[],"start":10995,"end":11001,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":10995,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":11006,"end":11082,"code":"assert.Equal(t, \"text/plain; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":11006,"end":11082,"code":"assert.Equal(t, \"text/plain; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11006,"end":11018,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11006,"end":11012,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":11006,"name":"assert","object":null},"sel":{"children":[],"start":11013,"end":11018,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":11013,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":11019,"end":11020,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":11019,"name":"t","object":null},{"children":[],"start":11022,"end":11049,"code":"\"text/plain; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":11022,"kind":9,"value":"\"text/plain; charset=utf-8\""},{"children":[],"start":11051,"end":11081,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11051,"end":11065,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11051,"end":11061,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11051,"end":11059,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11051,"end":11052,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":11051,"name":"w","object":null},"sel":{"children":[],"start":11053,"end":11059,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":11053,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":11062,"end":11065,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":11062,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":11066,"end":11080,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":11066,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":11083}},{"children":[],"start":11086,"end":11387,"code":"func TestRenderStringLenZero(t *testing.T) {\n\tw := httptest.NewRecorder()\n\terr := (String{Format: \"hola %s %d\", Data: []any{}}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"hola %s %d\", w.Body.String())\n\tassert.Equal(t, \"text/plain; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":11091,"end":11114,"code":"TestRenderStringLenZero","nodeType":"Identifier","column":0,"line":0,"namePos":11091,"name":"TestRenderStringLenZero","object":null},"type":{"children":[],"start":11086,"end":11128,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":11086,"TypeParams":null,"Params":{"children":[],"start":11114,"end":11128,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":11114,"list":[{"children":[],"start":11115,"end":11127,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":11115,"end":11116,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":11115,"name":"t","object":null}],"type":{"children":[],"start":11117,"end":11127,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":11117,"expression":{"children":[],"start":11118,"end":11127,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11118,"end":11125,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":11118,"name":"testing","object":null},"sel":{"children":[],"start":11126,"end":11127,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":11126,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":11127},"Results":null},"body":{"children":[],"start":11129,"end":11387,"code":"{\n\tw := httptest.NewRecorder()\n\terr := (String{Format: \"hola %s %d\", Data: []any{}}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"hola %s %d\", w.Body.String())\n\tassert.Equal(t, \"text/plain; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":11129,"list":[{"children":[],"start":11132,"end":11159,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":11132,"end":11133,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":11132,"name":"w","object":null}],"tokenPos":11134,"token":47,"rhs":[{"children":[],"start":11137,"end":11159,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11137,"end":11157,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11137,"end":11145,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":11137,"name":"httptest","object":null},"sel":{"children":[],"start":11146,"end":11157,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":11146,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":11162,"end":11234,"code":"err := (String{Format: \"hola %s %d\", Data: []any{}}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":11162,"end":11165,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":11162,"name":"err","object":null}],"tokenPos":11166,"token":47,"rhs":[{"children":[],"start":11169,"end":11234,"code":"(String{Format: \"hola %s %d\", Data: []any{}}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11169,"end":11231,"code":"(String{Format: \"hola %s %d\", Data: []any{}}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11169,"end":11224,"code":"(String{Format: \"hola %s %d\", Data: []any{}})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":11169,"expression":{"children":[],"start":11170,"end":11223,"code":"String{Format: \"hola %s %d\", Data: []any{}}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":11170,"end":11176,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":11170,"name":"String","object":null},"lbrace":11176,"elements":[{"children":[],"start":11180,"end":11200,"code":"Format: \"hola %s %d\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":11180,"end":11186,"code":"Format","nodeType":"Identifier","column":0,"line":0,"namePos":11180,"name":"Format","object":null},"colon":0,"value":{"children":[],"start":11188,"end":11200,"code":"\"hola %s %d\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":11188,"kind":9,"value":"\"hola %s %d\""}},{"children":[],"start":11204,"end":11219,"code":"Data: []any{}","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":11204,"end":11208,"code":"Data","nodeType":"Identifier","column":0,"line":0,"namePos":11204,"name":"Data","object":null},"colon":0,"value":{"children":[],"start":11212,"end":11219,"code":"[]any{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":11212,"end":11217,"code":"[]any","nodeType":"ArrayType","column":0,"line":0,"leftBracket":11212,"length":null,"element":{"children":[],"start":11214,"end":11217,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":11214,"name":"any","object":null}},"lbrace":11217,"elements":[],"rbrace":11218,"incomplete":false}}],"rbrace":11222,"incomplete":false},"rparen":11223},"sel":{"children":[],"start":11225,"end":11231,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":11225,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":11232,"end":11233,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":11232,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":11237,"end":11259,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":11237,"end":11259,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11237,"end":11251,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11237,"end":11243,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":11237,"name":"assert","object":null},"sel":{"children":[],"start":11244,"end":11251,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":11244,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":11252,"end":11253,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":11252,"name":"t","object":null},{"children":[],"start":11255,"end":11258,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":11255,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":11261,"end":11307,"code":"assert.Equal(t, \"hola %s %d\", w.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":11261,"end":11307,"code":"assert.Equal(t, \"hola %s %d\", w.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11261,"end":11273,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11261,"end":11267,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":11261,"name":"assert","object":null},"sel":{"children":[],"start":11268,"end":11273,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":11268,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":11274,"end":11275,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":11274,"name":"t","object":null},{"children":[],"start":11277,"end":11289,"code":"\"hola %s %d\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":11277,"kind":9,"value":"\"hola %s %d\""},{"children":[],"start":11291,"end":11306,"code":"w.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11291,"end":11304,"code":"w.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11291,"end":11297,"code":"w.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11291,"end":11292,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":11291,"name":"w","object":null},"sel":{"children":[],"start":11293,"end":11297,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":11293,"name":"Body","object":null}},"sel":{"children":[],"start":11298,"end":11304,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":11298,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":11309,"end":11385,"code":"assert.Equal(t, \"text/plain; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":11309,"end":11385,"code":"assert.Equal(t, \"text/plain; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11309,"end":11321,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11309,"end":11315,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":11309,"name":"assert","object":null},"sel":{"children":[],"start":11316,"end":11321,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":11316,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":11322,"end":11323,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":11322,"name":"t","object":null},{"children":[],"start":11325,"end":11352,"code":"\"text/plain; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":11325,"kind":9,"value":"\"text/plain; charset=utf-8\""},{"children":[],"start":11354,"end":11384,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11354,"end":11368,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11354,"end":11364,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11354,"end":11362,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11354,"end":11355,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":11354,"name":"w","object":null},"sel":{"children":[],"start":11356,"end":11362,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":11356,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":11365,"end":11368,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":11365,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":11369,"end":11383,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":11369,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":11386}},{"children":[],"start":11389,"end":11857,"code":"func TestRenderHTMLTemplate(t *testing.T) {\n\tw := httptest.NewRecorder()\n\ttempl := template.Must(template.New(\"t\").Parse(`Hello {{.name}}`))\n\thtmlRender := HTMLProduction{Template: templ}\n\tinstance := htmlRender.Instance(\"t\", map[string]any{\"name\": \"alexandernyquist\"})\n\terr := instance.Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"Hello alexandernyquist\", w.Body.String())\n\tassert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":11394,"end":11416,"code":"TestRenderHTMLTemplate","nodeType":"Identifier","column":0,"line":0,"namePos":11394,"name":"TestRenderHTMLTemplate","object":null},"type":{"children":[],"start":11389,"end":11430,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":11389,"TypeParams":null,"Params":{"children":[],"start":11416,"end":11430,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":11416,"list":[{"children":[],"start":11417,"end":11429,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":11417,"end":11418,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":11417,"name":"t","object":null}],"type":{"children":[],"start":11419,"end":11429,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":11419,"expression":{"children":[],"start":11420,"end":11429,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11420,"end":11427,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":11420,"name":"testing","object":null},"sel":{"children":[],"start":11428,"end":11429,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":11428,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":11429},"Results":null},"body":{"children":[],"start":11431,"end":11857,"code":"{\n\tw := httptest.NewRecorder()\n\ttempl := template.Must(template.New(\"t\").Parse(`Hello {{.name}}`))\n\thtmlRender := HTMLProduction{Template: templ}\n\tinstance := htmlRender.Instance(\"t\", map[string]any{\"name\": \"alexandernyquist\"})\n\terr := instance.Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"Hello alexandernyquist\", w.Body.String())\n\tassert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":11431,"list":[{"children":[],"start":11434,"end":11461,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":11434,"end":11435,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":11434,"name":"w","object":null}],"tokenPos":11436,"token":47,"rhs":[{"children":[],"start":11439,"end":11461,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11439,"end":11459,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11439,"end":11447,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":11439,"name":"httptest","object":null},"sel":{"children":[],"start":11448,"end":11459,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":11448,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":11463,"end":11529,"code":"templ := template.Must(template.New(\"t\").Parse(`Hello {{.name}}`))","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":11463,"end":11468,"code":"templ","nodeType":"Identifier","column":0,"line":0,"namePos":11463,"name":"templ","object":null}],"tokenPos":11469,"token":47,"rhs":[{"children":[],"start":11472,"end":11529,"code":"template.Must(template.New(\"t\").Parse(`Hello {{.name}}`))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11472,"end":11485,"code":"template.Must","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11472,"end":11480,"code":"template","nodeType":"Identifier","column":0,"line":0,"namePos":11472,"name":"template","object":null},"sel":{"children":[],"start":11481,"end":11485,"code":"Must","nodeType":"Identifier","column":0,"line":0,"namePos":11481,"name":"Must","object":null}},"lparen":0,"args":[{"children":[],"start":11486,"end":11528,"code":"template.New(\"t\").Parse(`Hello {{.name}}`)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11486,"end":11509,"code":"template.New(\"t\").Parse","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11486,"end":11503,"code":"template.New(\"t\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11486,"end":11498,"code":"template.New","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11486,"end":11494,"code":"template","nodeType":"Identifier","column":0,"line":0,"namePos":11486,"name":"template","object":null},"sel":{"children":[],"start":11495,"end":11498,"code":"New","nodeType":"Identifier","column":0,"line":0,"namePos":11495,"name":"New","object":null}},"lparen":0,"args":[{"children":[],"start":11499,"end":11502,"code":"\"t\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":11499,"kind":9,"value":"\"t\""}],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":11504,"end":11509,"code":"Parse","nodeType":"Identifier","column":0,"line":0,"namePos":11504,"name":"Parse","object":null}},"lparen":0,"args":[{"children":[],"start":11510,"end":11527,"code":"`Hello {{.name}}`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":11510,"kind":9,"value":"`Hello {{.name}}`"}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}]},{"children":[],"start":11532,"end":11577,"code":"htmlRender := HTMLProduction{Template: templ}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":11532,"end":11542,"code":"htmlRender","nodeType":"Identifier","column":0,"line":0,"namePos":11532,"name":"htmlRender","object":null}],"tokenPos":11543,"token":47,"rhs":[{"children":[],"start":11546,"end":11577,"code":"HTMLProduction{Template: templ}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":11546,"end":11560,"code":"HTMLProduction","nodeType":"Identifier","column":0,"line":0,"namePos":11546,"name":"HTMLProduction","object":null},"lbrace":11560,"elements":[{"children":[],"start":11561,"end":11576,"code":"Template: templ","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":11561,"end":11569,"code":"Template","nodeType":"Identifier","column":0,"line":0,"namePos":11561,"name":"Template","object":null},"colon":0,"value":{"children":[],"start":11571,"end":11576,"code":"templ","nodeType":"Identifier","column":0,"line":0,"namePos":11571,"name":"templ","object":null}}],"rbrace":11576,"incomplete":false}]},{"children":[],"start":11579,"end":11665,"code":"instance := htmlRender.Instance(\"t\", map[string]any{\"name\": \"alexandernyquist\"})","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":11579,"end":11587,"code":"instance","nodeType":"Identifier","column":0,"line":0,"namePos":11579,"name":"instance","object":null}],"tokenPos":11588,"token":47,"rhs":[{"children":[],"start":11591,"end":11665,"code":"htmlRender.Instance(\"t\", map[string]any{\"name\": \"alexandernyquist\"})","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11591,"end":11610,"code":"htmlRender.Instance","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11591,"end":11601,"code":"htmlRender","nodeType":"Identifier","column":0,"line":0,"namePos":11591,"name":"htmlRender","object":null},"sel":{"children":[],"start":11602,"end":11610,"code":"Instance","nodeType":"Identifier","column":0,"line":0,"namePos":11602,"name":"Instance","object":null}},"lparen":0,"args":[{"children":[],"start":11611,"end":11614,"code":"\"t\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":11611,"kind":9,"value":"\"t\""},{"children":[],"start":11616,"end":11664,"code":"map[string]any{\"name\": \"alexandernyquist\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":11616,"end":11630,"code":"map[string]any","nodeType":"MapType","column":0,"line":0,"map":11616,"key":{"children":[],"start":11620,"end":11626,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":11620,"name":"string","object":null},"value":{"children":[],"start":11627,"end":11630,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":11627,"name":"any","object":null}},"lbrace":11630,"elements":[{"children":[],"start":11634,"end":11660,"code":"\"name\": \"alexandernyquist\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":11634,"end":11640,"code":"\"name\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":11634,"kind":9,"value":"\"name\""},"colon":0,"value":{"children":[],"start":11642,"end":11660,"code":"\"alexandernyquist\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":11642,"kind":9,"value":"\"alexandernyquist\""}}],"rbrace":11663,"incomplete":false}],"ellipsis":0,"rparen":0}]},{"children":[],"start":11668,"end":11693,"code":"err := instance.Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":11668,"end":11671,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":11668,"name":"err","object":null}],"tokenPos":11672,"token":47,"rhs":[{"children":[],"start":11675,"end":11693,"code":"instance.Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11675,"end":11690,"code":"instance.Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11675,"end":11683,"code":"instance","nodeType":"Identifier","column":0,"line":0,"namePos":11675,"name":"instance","object":null},"sel":{"children":[],"start":11684,"end":11690,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":11684,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":11691,"end":11692,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":11691,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":11696,"end":11718,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":11696,"end":11718,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11696,"end":11710,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11696,"end":11702,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":11696,"name":"assert","object":null},"sel":{"children":[],"start":11703,"end":11710,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":11703,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":11711,"end":11712,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":11711,"name":"t","object":null},{"children":[],"start":11714,"end":11717,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":11714,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":11720,"end":11778,"code":"assert.Equal(t, \"Hello alexandernyquist\", w.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":11720,"end":11778,"code":"assert.Equal(t, \"Hello alexandernyquist\", w.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11720,"end":11732,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11720,"end":11726,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":11720,"name":"assert","object":null},"sel":{"children":[],"start":11727,"end":11732,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":11727,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":11733,"end":11734,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":11733,"name":"t","object":null},{"children":[],"start":11736,"end":11760,"code":"\"Hello alexandernyquist\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":11736,"kind":9,"value":"\"Hello alexandernyquist\""},{"children":[],"start":11762,"end":11777,"code":"w.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11762,"end":11775,"code":"w.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11762,"end":11768,"code":"w.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11762,"end":11763,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":11762,"name":"w","object":null},"sel":{"children":[],"start":11764,"end":11768,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":11764,"name":"Body","object":null}},"sel":{"children":[],"start":11769,"end":11775,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":11769,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":11780,"end":11855,"code":"assert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":11780,"end":11855,"code":"assert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11780,"end":11792,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11780,"end":11786,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":11780,"name":"assert","object":null},"sel":{"children":[],"start":11787,"end":11792,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":11787,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":11793,"end":11794,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":11793,"name":"t","object":null},{"children":[],"start":11796,"end":11822,"code":"\"text/html; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":11796,"kind":9,"value":"\"text/html; charset=utf-8\""},{"children":[],"start":11824,"end":11854,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11824,"end":11838,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11824,"end":11834,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11824,"end":11832,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11824,"end":11825,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":11824,"name":"w","object":null},"sel":{"children":[],"start":11826,"end":11832,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":11826,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":11835,"end":11838,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":11835,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":11839,"end":11853,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":11839,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":11856}},{"children":[],"start":11859,"end":12334,"code":"func TestRenderHTMLTemplateEmptyName(t *testing.T) {\n\tw := httptest.NewRecorder()\n\ttempl := template.Must(template.New(\"\").Parse(`Hello {{.name}}`))\n\thtmlRender := HTMLProduction{Template: templ}\n\tinstance := htmlRender.Instance(\"\", map[string]any{\"name\": \"alexandernyquist\"})\n\terr := instance.Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"Hello alexandernyquist\", w.Body.String())\n\tassert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":11864,"end":11895,"code":"TestRenderHTMLTemplateEmptyName","nodeType":"Identifier","column":0,"line":0,"namePos":11864,"name":"TestRenderHTMLTemplateEmptyName","object":null},"type":{"children":[],"start":11859,"end":11909,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":11859,"TypeParams":null,"Params":{"children":[],"start":11895,"end":11909,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":11895,"list":[{"children":[],"start":11896,"end":11908,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":11896,"end":11897,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":11896,"name":"t","object":null}],"type":{"children":[],"start":11898,"end":11908,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":11898,"expression":{"children":[],"start":11899,"end":11908,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11899,"end":11906,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":11899,"name":"testing","object":null},"sel":{"children":[],"start":11907,"end":11908,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":11907,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":11908},"Results":null},"body":{"children":[],"start":11910,"end":12334,"code":"{\n\tw := httptest.NewRecorder()\n\ttempl := template.Must(template.New(\"\").Parse(`Hello {{.name}}`))\n\thtmlRender := HTMLProduction{Template: templ}\n\tinstance := htmlRender.Instance(\"\", map[string]any{\"name\": \"alexandernyquist\"})\n\terr := instance.Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"Hello alexandernyquist\", w.Body.String())\n\tassert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":11910,"list":[{"children":[],"start":11913,"end":11940,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":11913,"end":11914,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":11913,"name":"w","object":null}],"tokenPos":11915,"token":47,"rhs":[{"children":[],"start":11918,"end":11940,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11918,"end":11938,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11918,"end":11926,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":11918,"name":"httptest","object":null},"sel":{"children":[],"start":11927,"end":11938,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":11927,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":11942,"end":12007,"code":"templ := template.Must(template.New(\"\").Parse(`Hello {{.name}}`))","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":11942,"end":11947,"code":"templ","nodeType":"Identifier","column":0,"line":0,"namePos":11942,"name":"templ","object":null}],"tokenPos":11948,"token":47,"rhs":[{"children":[],"start":11951,"end":12007,"code":"template.Must(template.New(\"\").Parse(`Hello {{.name}}`))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11951,"end":11964,"code":"template.Must","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11951,"end":11959,"code":"template","nodeType":"Identifier","column":0,"line":0,"namePos":11951,"name":"template","object":null},"sel":{"children":[],"start":11960,"end":11964,"code":"Must","nodeType":"Identifier","column":0,"line":0,"namePos":11960,"name":"Must","object":null}},"lparen":0,"args":[{"children":[],"start":11965,"end":12006,"code":"template.New(\"\").Parse(`Hello {{.name}}`)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11965,"end":11987,"code":"template.New(\"\").Parse","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11965,"end":11981,"code":"template.New(\"\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":11965,"end":11977,"code":"template.New","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":11965,"end":11973,"code":"template","nodeType":"Identifier","column":0,"line":0,"namePos":11965,"name":"template","object":null},"sel":{"children":[],"start":11974,"end":11977,"code":"New","nodeType":"Identifier","column":0,"line":0,"namePos":11974,"name":"New","object":null}},"lparen":0,"args":[{"children":[],"start":11978,"end":11980,"code":"\"\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":11978,"kind":9,"value":"\"\""}],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":11982,"end":11987,"code":"Parse","nodeType":"Identifier","column":0,"line":0,"namePos":11982,"name":"Parse","object":null}},"lparen":0,"args":[{"children":[],"start":11988,"end":12005,"code":"`Hello {{.name}}`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":11988,"kind":9,"value":"`Hello {{.name}}`"}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}]},{"children":[],"start":12010,"end":12055,"code":"htmlRender := HTMLProduction{Template: templ}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":12010,"end":12020,"code":"htmlRender","nodeType":"Identifier","column":0,"line":0,"namePos":12010,"name":"htmlRender","object":null}],"tokenPos":12021,"token":47,"rhs":[{"children":[],"start":12024,"end":12055,"code":"HTMLProduction{Template: templ}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":12024,"end":12038,"code":"HTMLProduction","nodeType":"Identifier","column":0,"line":0,"namePos":12024,"name":"HTMLProduction","object":null},"lbrace":12038,"elements":[{"children":[],"start":12039,"end":12054,"code":"Template: templ","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":12039,"end":12047,"code":"Template","nodeType":"Identifier","column":0,"line":0,"namePos":12039,"name":"Template","object":null},"colon":0,"value":{"children":[],"start":12049,"end":12054,"code":"templ","nodeType":"Identifier","column":0,"line":0,"namePos":12049,"name":"templ","object":null}}],"rbrace":12054,"incomplete":false}]},{"children":[],"start":12057,"end":12142,"code":"instance := htmlRender.Instance(\"\", map[string]any{\"name\": \"alexandernyquist\"})","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":12057,"end":12065,"code":"instance","nodeType":"Identifier","column":0,"line":0,"namePos":12057,"name":"instance","object":null}],"tokenPos":12066,"token":47,"rhs":[{"children":[],"start":12069,"end":12142,"code":"htmlRender.Instance(\"\", map[string]any{\"name\": \"alexandernyquist\"})","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":12069,"end":12088,"code":"htmlRender.Instance","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12069,"end":12079,"code":"htmlRender","nodeType":"Identifier","column":0,"line":0,"namePos":12069,"name":"htmlRender","object":null},"sel":{"children":[],"start":12080,"end":12088,"code":"Instance","nodeType":"Identifier","column":0,"line":0,"namePos":12080,"name":"Instance","object":null}},"lparen":0,"args":[{"children":[],"start":12089,"end":12091,"code":"\"\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":12089,"kind":9,"value":"\"\""},{"children":[],"start":12093,"end":12141,"code":"map[string]any{\"name\": \"alexandernyquist\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":12093,"end":12107,"code":"map[string]any","nodeType":"MapType","column":0,"line":0,"map":12093,"key":{"children":[],"start":12097,"end":12103,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":12097,"name":"string","object":null},"value":{"children":[],"start":12104,"end":12107,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":12104,"name":"any","object":null}},"lbrace":12107,"elements":[{"children":[],"start":12111,"end":12137,"code":"\"name\": \"alexandernyquist\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":12111,"end":12117,"code":"\"name\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":12111,"kind":9,"value":"\"name\""},"colon":0,"value":{"children":[],"start":12119,"end":12137,"code":"\"alexandernyquist\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":12119,"kind":9,"value":"\"alexandernyquist\""}}],"rbrace":12140,"incomplete":false}],"ellipsis":0,"rparen":0}]},{"children":[],"start":12145,"end":12170,"code":"err := instance.Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":12145,"end":12148,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":12145,"name":"err","object":null}],"tokenPos":12149,"token":47,"rhs":[{"children":[],"start":12152,"end":12170,"code":"instance.Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":12152,"end":12167,"code":"instance.Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12152,"end":12160,"code":"instance","nodeType":"Identifier","column":0,"line":0,"namePos":12152,"name":"instance","object":null},"sel":{"children":[],"start":12161,"end":12167,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":12161,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":12168,"end":12169,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":12168,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":12173,"end":12195,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":12173,"end":12195,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":12173,"end":12187,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12173,"end":12179,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":12173,"name":"assert","object":null},"sel":{"children":[],"start":12180,"end":12187,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":12180,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":12188,"end":12189,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":12188,"name":"t","object":null},{"children":[],"start":12191,"end":12194,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":12191,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":12197,"end":12255,"code":"assert.Equal(t, \"Hello alexandernyquist\", w.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":12197,"end":12255,"code":"assert.Equal(t, \"Hello alexandernyquist\", w.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":12197,"end":12209,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12197,"end":12203,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":12197,"name":"assert","object":null},"sel":{"children":[],"start":12204,"end":12209,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":12204,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":12210,"end":12211,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":12210,"name":"t","object":null},{"children":[],"start":12213,"end":12237,"code":"\"Hello alexandernyquist\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":12213,"kind":9,"value":"\"Hello alexandernyquist\""},{"children":[],"start":12239,"end":12254,"code":"w.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":12239,"end":12252,"code":"w.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12239,"end":12245,"code":"w.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12239,"end":12240,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":12239,"name":"w","object":null},"sel":{"children":[],"start":12241,"end":12245,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":12241,"name":"Body","object":null}},"sel":{"children":[],"start":12246,"end":12252,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":12246,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":12257,"end":12332,"code":"assert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":12257,"end":12332,"code":"assert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":12257,"end":12269,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12257,"end":12263,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":12257,"name":"assert","object":null},"sel":{"children":[],"start":12264,"end":12269,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":12264,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":12270,"end":12271,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":12270,"name":"t","object":null},{"children":[],"start":12273,"end":12299,"code":"\"text/html; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":12273,"kind":9,"value":"\"text/html; charset=utf-8\""},{"children":[],"start":12301,"end":12331,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":12301,"end":12315,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12301,"end":12311,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":12301,"end":12309,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12301,"end":12302,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":12301,"name":"w","object":null},"sel":{"children":[],"start":12303,"end":12309,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":12303,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":12312,"end":12315,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":12312,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":12316,"end":12330,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":12316,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":12333}},{"children":[],"start":12336,"end":12856,"code":"func TestRenderHTMLDebugFiles(t *testing.T) {\n\tw := httptest.NewRecorder()\n\thtmlRender := HTMLDebug{Files: []string{\"../testdata/template/hello.tmpl\"}, Glob: \"\", Delims: Delims{Left: \"{[{\", Right: \"}]}\"}, FuncMap: nil}\n\tinstance := htmlRender.Instance(\"hello.tmpl\", map[string]any{\"name\": \"thinkerou\"})\n\terr := instance.Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"\u003ch1\u003eHello thinkerou\u003c/h1\u003e\", w.Body.String())\n\tassert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":12341,"end":12365,"code":"TestRenderHTMLDebugFiles","nodeType":"Identifier","column":0,"line":0,"namePos":12341,"name":"TestRenderHTMLDebugFiles","object":null},"type":{"children":[],"start":12336,"end":12379,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":12336,"TypeParams":null,"Params":{"children":[],"start":12365,"end":12379,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":12365,"list":[{"children":[],"start":12366,"end":12378,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":12366,"end":12367,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":12366,"name":"t","object":null}],"type":{"children":[],"start":12368,"end":12378,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":12368,"expression":{"children":[],"start":12369,"end":12378,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12369,"end":12376,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":12369,"name":"testing","object":null},"sel":{"children":[],"start":12377,"end":12378,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":12377,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":12378},"Results":null},"body":{"children":[],"start":12380,"end":12856,"code":"{\n\tw := httptest.NewRecorder()\n\thtmlRender := HTMLDebug{Files: []string{\"../testdata/template/hello.tmpl\"}, Glob: \"\", Delims: Delims{Left: \"{[{\", Right: \"}]}\"}, FuncMap: nil}\n\tinstance := htmlRender.Instance(\"hello.tmpl\", map[string]any{\"name\": \"thinkerou\"})\n\terr := instance.Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"\u003ch1\u003eHello thinkerou\u003c/h1\u003e\", w.Body.String())\n\tassert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":12380,"list":[{"children":[],"start":12383,"end":12410,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":12383,"end":12384,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":12383,"name":"w","object":null}],"tokenPos":12385,"token":47,"rhs":[{"children":[],"start":12388,"end":12410,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":12388,"end":12408,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12388,"end":12396,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":12388,"name":"httptest","object":null},"sel":{"children":[],"start":12397,"end":12408,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":12397,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":12412,"end":12572,"code":"htmlRender := HTMLDebug{Files: []string{\"../testdata/template/hello.tmpl\"}, Glob: \"\", Delims: Delims{Left: \"{[{\", Right: \"}]}\"}, FuncMap: nil}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":12412,"end":12422,"code":"htmlRender","nodeType":"Identifier","column":0,"line":0,"namePos":12412,"name":"htmlRender","object":null}],"tokenPos":12423,"token":47,"rhs":[{"children":[],"start":12426,"end":12572,"code":"HTMLDebug{Files: []string{\"../testdata/template/hello.tmpl\"}, Glob: \"\", Delims: Delims{Left: \"{[{\", Right: \"}]}\"}, FuncMap: nil}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":12426,"end":12435,"code":"HTMLDebug","nodeType":"Identifier","column":0,"line":0,"namePos":12426,"name":"HTMLDebug","object":null},"lbrace":12435,"elements":[{"children":[],"start":12439,"end":12491,"code":"Files: []string{\"../testdata/template/hello.tmpl\"}","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":12439,"end":12444,"code":"Files","nodeType":"Identifier","column":0,"line":0,"namePos":12439,"name":"Files","object":null},"colon":0,"value":{"children":[],"start":12448,"end":12491,"code":"[]string{\"../testdata/template/hello.tmpl\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":12448,"end":12456,"code":"[]string","nodeType":"ArrayType","column":0,"line":0,"leftBracket":12448,"length":null,"element":{"children":[],"start":12450,"end":12456,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":12450,"name":"string","object":null}},"lbrace":12456,"elements":[{"children":[],"start":12457,"end":12490,"code":"\"../testdata/template/hello.tmpl\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":12457,"kind":9,"value":"\"../testdata/template/hello.tmpl\""}],"rbrace":12490,"incomplete":false}},{"children":[],"start":12495,"end":12506,"code":"Glob: \"\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":12495,"end":12499,"code":"Glob","nodeType":"Identifier","column":0,"line":0,"namePos":12495,"name":"Glob","object":null},"colon":0,"value":{"children":[],"start":12504,"end":12506,"code":"\"\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":12504,"kind":9,"value":"\"\""}},{"children":[],"start":12510,"end":12552,"code":"Delims: Delims{Left: \"{[{\", Right: \"}]}\"}","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":12510,"end":12516,"code":"Delims","nodeType":"Identifier","column":0,"line":0,"namePos":12510,"name":"Delims","object":null},"colon":0,"value":{"children":[],"start":12519,"end":12552,"code":"Delims{Left: \"{[{\", Right: \"}]}\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":12519,"end":12525,"code":"Delims","nodeType":"Identifier","column":0,"line":0,"namePos":12519,"name":"Delims","object":null},"lbrace":12525,"elements":[{"children":[],"start":12526,"end":12537,"code":"Left: \"{[{\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":12526,"end":12530,"code":"Left","nodeType":"Identifier","column":0,"line":0,"namePos":12526,"name":"Left","object":null},"colon":0,"value":{"children":[],"start":12532,"end":12537,"code":"\"{[{\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":12532,"kind":9,"value":"\"{[{\""}},{"children":[],"start":12539,"end":12551,"code":"Right: \"}]}\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":12539,"end":12544,"code":"Right","nodeType":"Identifier","column":0,"line":0,"namePos":12539,"name":"Right","object":null},"colon":0,"value":{"children":[],"start":12546,"end":12551,"code":"\"}]}\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":12546,"kind":9,"value":"\"}]}\""}}],"rbrace":12551,"incomplete":false}},{"children":[],"start":12556,"end":12568,"code":"FuncMap: nil","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":12556,"end":12563,"code":"FuncMap","nodeType":"Identifier","column":0,"line":0,"namePos":12556,"name":"FuncMap","object":null},"colon":0,"value":{"children":[],"start":12565,"end":12568,"code":"nil","nodeType":"Identifier","column":0,"line":0,"namePos":12565,"name":"nil","object":null}}],"rbrace":12571,"incomplete":false}]},{"children":[],"start":12574,"end":12662,"code":"instance := htmlRender.Instance(\"hello.tmpl\", map[string]any{\"name\": \"thinkerou\"})","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":12574,"end":12582,"code":"instance","nodeType":"Identifier","column":0,"line":0,"namePos":12574,"name":"instance","object":null}],"tokenPos":12583,"token":47,"rhs":[{"children":[],"start":12586,"end":12662,"code":"htmlRender.Instance(\"hello.tmpl\", map[string]any{\"name\": \"thinkerou\"})","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":12586,"end":12605,"code":"htmlRender.Instance","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12586,"end":12596,"code":"htmlRender","nodeType":"Identifier","column":0,"line":0,"namePos":12586,"name":"htmlRender","object":null},"sel":{"children":[],"start":12597,"end":12605,"code":"Instance","nodeType":"Identifier","column":0,"line":0,"namePos":12597,"name":"Instance","object":null}},"lparen":0,"args":[{"children":[],"start":12606,"end":12618,"code":"\"hello.tmpl\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":12606,"kind":9,"value":"\"hello.tmpl\""},{"children":[],"start":12620,"end":12661,"code":"map[string]any{\"name\": \"thinkerou\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":12620,"end":12634,"code":"map[string]any","nodeType":"MapType","column":0,"line":0,"map":12620,"key":{"children":[],"start":12624,"end":12630,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":12624,"name":"string","object":null},"value":{"children":[],"start":12631,"end":12634,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":12631,"name":"any","object":null}},"lbrace":12634,"elements":[{"children":[],"start":12638,"end":12657,"code":"\"name\": \"thinkerou\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":12638,"end":12644,"code":"\"name\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":12638,"kind":9,"value":"\"name\""},"colon":0,"value":{"children":[],"start":12646,"end":12657,"code":"\"thinkerou\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":12646,"kind":9,"value":"\"thinkerou\""}}],"rbrace":12660,"incomplete":false}],"ellipsis":0,"rparen":0}]},{"children":[],"start":12665,"end":12690,"code":"err := instance.Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":12665,"end":12668,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":12665,"name":"err","object":null}],"tokenPos":12669,"token":47,"rhs":[{"children":[],"start":12672,"end":12690,"code":"instance.Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":12672,"end":12687,"code":"instance.Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12672,"end":12680,"code":"instance","nodeType":"Identifier","column":0,"line":0,"namePos":12672,"name":"instance","object":null},"sel":{"children":[],"start":12681,"end":12687,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":12681,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":12688,"end":12689,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":12688,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":12693,"end":12715,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":12693,"end":12715,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":12693,"end":12707,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12693,"end":12699,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":12693,"name":"assert","object":null},"sel":{"children":[],"start":12700,"end":12707,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":12700,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":12708,"end":12709,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":12708,"name":"t","object":null},{"children":[],"start":12711,"end":12714,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":12711,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":12717,"end":12777,"code":"assert.Equal(t, \"\u003ch1\u003eHello thinkerou\u003c/h1\u003e\", w.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":12717,"end":12777,"code":"assert.Equal(t, \"\u003ch1\u003eHello thinkerou\u003c/h1\u003e\", w.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":12717,"end":12729,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12717,"end":12723,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":12717,"name":"assert","object":null},"sel":{"children":[],"start":12724,"end":12729,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":12724,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":12730,"end":12731,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":12730,"name":"t","object":null},{"children":[],"start":12733,"end":12759,"code":"\"\u003ch1\u003eHello thinkerou\u003c/h1\u003e\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":12733,"kind":9,"value":"\"\u003ch1\u003eHello thinkerou\u003c/h1\u003e\""},{"children":[],"start":12761,"end":12776,"code":"w.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":12761,"end":12774,"code":"w.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12761,"end":12767,"code":"w.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12761,"end":12762,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":12761,"name":"w","object":null},"sel":{"children":[],"start":12763,"end":12767,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":12763,"name":"Body","object":null}},"sel":{"children":[],"start":12768,"end":12774,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":12768,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":12779,"end":12854,"code":"assert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":12779,"end":12854,"code":"assert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":12779,"end":12791,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12779,"end":12785,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":12779,"name":"assert","object":null},"sel":{"children":[],"start":12786,"end":12791,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":12786,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":12792,"end":12793,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":12792,"name":"t","object":null},{"children":[],"start":12795,"end":12821,"code":"\"text/html; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":12795,"kind":9,"value":"\"text/html; charset=utf-8\""},{"children":[],"start":12823,"end":12853,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":12823,"end":12837,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12823,"end":12833,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":12823,"end":12831,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12823,"end":12824,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":12823,"name":"w","object":null},"sel":{"children":[],"start":12825,"end":12831,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":12825,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":12834,"end":12837,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":12834,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":12838,"end":12852,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":12838,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":12855}},{"children":[],"start":12858,"end":13364,"code":"func TestRenderHTMLDebugGlob(t *testing.T) {\n\tw := httptest.NewRecorder()\n\thtmlRender := HTMLDebug{Files: nil, Glob: \"../testdata/template/hello*\", Delims: Delims{Left: \"{[{\", Right: \"}]}\"}, FuncMap: nil}\n\tinstance := htmlRender.Instance(\"hello.tmpl\", map[string]any{\"name\": \"thinkerou\"})\n\terr := instance.Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"\u003ch1\u003eHello thinkerou\u003c/h1\u003e\", w.Body.String())\n\tassert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":12863,"end":12886,"code":"TestRenderHTMLDebugGlob","nodeType":"Identifier","column":0,"line":0,"namePos":12863,"name":"TestRenderHTMLDebugGlob","object":null},"type":{"children":[],"start":12858,"end":12900,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":12858,"TypeParams":null,"Params":{"children":[],"start":12886,"end":12900,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":12886,"list":[{"children":[],"start":12887,"end":12899,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":12887,"end":12888,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":12887,"name":"t","object":null}],"type":{"children":[],"start":12889,"end":12899,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":12889,"expression":{"children":[],"start":12890,"end":12899,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12890,"end":12897,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":12890,"name":"testing","object":null},"sel":{"children":[],"start":12898,"end":12899,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":12898,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":12899},"Results":null},"body":{"children":[],"start":12901,"end":13364,"code":"{\n\tw := httptest.NewRecorder()\n\thtmlRender := HTMLDebug{Files: nil, Glob: \"../testdata/template/hello*\", Delims: Delims{Left: \"{[{\", Right: \"}]}\"}, FuncMap: nil}\n\tinstance := htmlRender.Instance(\"hello.tmpl\", map[string]any{\"name\": \"thinkerou\"})\n\terr := instance.Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, \"\u003ch1\u003eHello thinkerou\u003c/h1\u003e\", w.Body.String())\n\tassert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":12901,"list":[{"children":[],"start":12904,"end":12931,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":12904,"end":12905,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":12904,"name":"w","object":null}],"tokenPos":12906,"token":47,"rhs":[{"children":[],"start":12909,"end":12931,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":12909,"end":12929,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":12909,"end":12917,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":12909,"name":"httptest","object":null},"sel":{"children":[],"start":12918,"end":12929,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":12918,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":12933,"end":13080,"code":"htmlRender := HTMLDebug{Files: nil, Glob: \"../testdata/template/hello*\", Delims: Delims{Left: \"{[{\", Right: \"}]}\"}, FuncMap: nil}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":12933,"end":12943,"code":"htmlRender","nodeType":"Identifier","column":0,"line":0,"namePos":12933,"name":"htmlRender","object":null}],"tokenPos":12944,"token":47,"rhs":[{"children":[],"start":12947,"end":13080,"code":"HTMLDebug{Files: nil, Glob: \"../testdata/template/hello*\", Delims: Delims{Left: \"{[{\", Right: \"}]}\"}, FuncMap: nil}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":12947,"end":12956,"code":"HTMLDebug","nodeType":"Identifier","column":0,"line":0,"namePos":12947,"name":"HTMLDebug","object":null},"lbrace":12956,"elements":[{"children":[],"start":12960,"end":12972,"code":"Files: nil","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":12960,"end":12965,"code":"Files","nodeType":"Identifier","column":0,"line":0,"namePos":12960,"name":"Files","object":null},"colon":0,"value":{"children":[],"start":12969,"end":12972,"code":"nil","nodeType":"Identifier","column":0,"line":0,"namePos":12969,"name":"nil","object":null}},{"children":[],"start":12976,"end":13014,"code":"Glob: \"../testdata/template/hello*\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":12976,"end":12980,"code":"Glob","nodeType":"Identifier","column":0,"line":0,"namePos":12976,"name":"Glob","object":null},"colon":0,"value":{"children":[],"start":12985,"end":13014,"code":"\"../testdata/template/hello*\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":12985,"kind":9,"value":"\"../testdata/template/hello*\""}},{"children":[],"start":13018,"end":13060,"code":"Delims: Delims{Left: \"{[{\", Right: \"}]}\"}","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":13018,"end":13024,"code":"Delims","nodeType":"Identifier","column":0,"line":0,"namePos":13018,"name":"Delims","object":null},"colon":0,"value":{"children":[],"start":13027,"end":13060,"code":"Delims{Left: \"{[{\", Right: \"}]}\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":13027,"end":13033,"code":"Delims","nodeType":"Identifier","column":0,"line":0,"namePos":13027,"name":"Delims","object":null},"lbrace":13033,"elements":[{"children":[],"start":13034,"end":13045,"code":"Left: \"{[{\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":13034,"end":13038,"code":"Left","nodeType":"Identifier","column":0,"line":0,"namePos":13034,"name":"Left","object":null},"colon":0,"value":{"children":[],"start":13040,"end":13045,"code":"\"{[{\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":13040,"kind":9,"value":"\"{[{\""}},{"children":[],"start":13047,"end":13059,"code":"Right: \"}]}\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":13047,"end":13052,"code":"Right","nodeType":"Identifier","column":0,"line":0,"namePos":13047,"name":"Right","object":null},"colon":0,"value":{"children":[],"start":13054,"end":13059,"code":"\"}]}\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":13054,"kind":9,"value":"\"}]}\""}}],"rbrace":13059,"incomplete":false}},{"children":[],"start":13064,"end":13076,"code":"FuncMap: nil","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":13064,"end":13071,"code":"FuncMap","nodeType":"Identifier","column":0,"line":0,"namePos":13064,"name":"FuncMap","object":null},"colon":0,"value":{"children":[],"start":13073,"end":13076,"code":"nil","nodeType":"Identifier","column":0,"line":0,"namePos":13073,"name":"nil","object":null}}],"rbrace":13079,"incomplete":false}]},{"children":[],"start":13082,"end":13170,"code":"instance := htmlRender.Instance(\"hello.tmpl\", map[string]any{\"name\": \"thinkerou\"})","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":13082,"end":13090,"code":"instance","nodeType":"Identifier","column":0,"line":0,"namePos":13082,"name":"instance","object":null}],"tokenPos":13091,"token":47,"rhs":[{"children":[],"start":13094,"end":13170,"code":"htmlRender.Instance(\"hello.tmpl\", map[string]any{\"name\": \"thinkerou\"})","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":13094,"end":13113,"code":"htmlRender.Instance","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":13094,"end":13104,"code":"htmlRender","nodeType":"Identifier","column":0,"line":0,"namePos":13094,"name":"htmlRender","object":null},"sel":{"children":[],"start":13105,"end":13113,"code":"Instance","nodeType":"Identifier","column":0,"line":0,"namePos":13105,"name":"Instance","object":null}},"lparen":0,"args":[{"children":[],"start":13114,"end":13126,"code":"\"hello.tmpl\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":13114,"kind":9,"value":"\"hello.tmpl\""},{"children":[],"start":13128,"end":13169,"code":"map[string]any{\"name\": \"thinkerou\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":13128,"end":13142,"code":"map[string]any","nodeType":"MapType","column":0,"line":0,"map":13128,"key":{"children":[],"start":13132,"end":13138,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":13132,"name":"string","object":null},"value":{"children":[],"start":13139,"end":13142,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":13139,"name":"any","object":null}},"lbrace":13142,"elements":[{"children":[],"start":13146,"end":13165,"code":"\"name\": \"thinkerou\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":13146,"end":13152,"code":"\"name\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":13146,"kind":9,"value":"\"name\""},"colon":0,"value":{"children":[],"start":13154,"end":13165,"code":"\"thinkerou\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":13154,"kind":9,"value":"\"thinkerou\""}}],"rbrace":13168,"incomplete":false}],"ellipsis":0,"rparen":0}]},{"children":[],"start":13173,"end":13198,"code":"err := instance.Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":13173,"end":13176,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":13173,"name":"err","object":null}],"tokenPos":13177,"token":47,"rhs":[{"children":[],"start":13180,"end":13198,"code":"instance.Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":13180,"end":13195,"code":"instance.Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":13180,"end":13188,"code":"instance","nodeType":"Identifier","column":0,"line":0,"namePos":13180,"name":"instance","object":null},"sel":{"children":[],"start":13189,"end":13195,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":13189,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":13196,"end":13197,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":13196,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":13201,"end":13223,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":13201,"end":13223,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":13201,"end":13215,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":13201,"end":13207,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":13201,"name":"assert","object":null},"sel":{"children":[],"start":13208,"end":13215,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":13208,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":13216,"end":13217,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":13216,"name":"t","object":null},{"children":[],"start":13219,"end":13222,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":13219,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":13225,"end":13285,"code":"assert.Equal(t, \"\u003ch1\u003eHello thinkerou\u003c/h1\u003e\", w.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":13225,"end":13285,"code":"assert.Equal(t, \"\u003ch1\u003eHello thinkerou\u003c/h1\u003e\", w.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":13225,"end":13237,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":13225,"end":13231,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":13225,"name":"assert","object":null},"sel":{"children":[],"start":13232,"end":13237,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":13232,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":13238,"end":13239,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":13238,"name":"t","object":null},{"children":[],"start":13241,"end":13267,"code":"\"\u003ch1\u003eHello thinkerou\u003c/h1\u003e\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":13241,"kind":9,"value":"\"\u003ch1\u003eHello thinkerou\u003c/h1\u003e\""},{"children":[],"start":13269,"end":13284,"code":"w.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":13269,"end":13282,"code":"w.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":13269,"end":13275,"code":"w.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":13269,"end":13270,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":13269,"name":"w","object":null},"sel":{"children":[],"start":13271,"end":13275,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":13271,"name":"Body","object":null}},"sel":{"children":[],"start":13276,"end":13282,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":13276,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":13287,"end":13362,"code":"assert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":13287,"end":13362,"code":"assert.Equal(t, \"text/html; charset=utf-8\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":13287,"end":13299,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":13287,"end":13293,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":13287,"name":"assert","object":null},"sel":{"children":[],"start":13294,"end":13299,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":13294,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":13300,"end":13301,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":13300,"name":"t","object":null},{"children":[],"start":13303,"end":13329,"code":"\"text/html; charset=utf-8\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":13303,"kind":9,"value":"\"text/html; charset=utf-8\""},{"children":[],"start":13331,"end":13361,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":13331,"end":13345,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":13331,"end":13341,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":13331,"end":13339,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":13331,"end":13332,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":13331,"name":"w","object":null},"sel":{"children":[],"start":13333,"end":13339,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":13333,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":13342,"end":13345,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":13342,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":13346,"end":13360,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":13346,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":13363}},{"children":[],"start":13366,"end":13580,"code":"func TestRenderHTMLDebugPanics(t *testing.T) {\n\thtmlRender := HTMLDebug{Files: nil, Glob: \"\", Delims: Delims{\"{{\", \"}}\"}, FuncMap: nil}\n\tassert.Panics(t, func() {\n\t\thtmlRender.Instance(\"\", nil)\n\t})\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":13371,"end":13396,"code":"TestRenderHTMLDebugPanics","nodeType":"Identifier","column":0,"line":0,"namePos":13371,"name":"TestRenderHTMLDebugPanics","object":null},"type":{"children":[],"start":13366,"end":13410,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":13366,"TypeParams":null,"Params":{"children":[],"start":13396,"end":13410,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":13396,"list":[{"children":[],"start":13397,"end":13409,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":13397,"end":13398,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":13397,"name":"t","object":null}],"type":{"children":[],"start":13399,"end":13409,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":13399,"expression":{"children":[],"start":13400,"end":13409,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":13400,"end":13407,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":13400,"name":"testing","object":null},"sel":{"children":[],"start":13408,"end":13409,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":13408,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":13409},"Results":null},"body":{"children":[],"start":13411,"end":13580,"code":"{\n\thtmlRender := HTMLDebug{Files: nil, Glob: \"\", Delims: Delims{\"{{\", \"}}\"}, FuncMap: nil}\n\tassert.Panics(t, func() {\n\t\thtmlRender.Instance(\"\", nil)\n\t})\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":13411,"list":[{"children":[],"start":13414,"end":13519,"code":"htmlRender := HTMLDebug{Files: nil, Glob: \"\", Delims: Delims{\"{{\", \"}}\"}, FuncMap: nil}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":13414,"end":13424,"code":"htmlRender","nodeType":"Identifier","column":0,"line":0,"namePos":13414,"name":"htmlRender","object":null}],"tokenPos":13425,"token":47,"rhs":[{"children":[],"start":13428,"end":13519,"code":"HTMLDebug{Files: nil, Glob: \"\", Delims: Delims{\"{{\", \"}}\"}, FuncMap: nil}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":13428,"end":13437,"code":"HTMLDebug","nodeType":"Identifier","column":0,"line":0,"namePos":13428,"name":"HTMLDebug","object":null},"lbrace":13437,"elements":[{"children":[],"start":13441,"end":13453,"code":"Files: nil","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":13441,"end":13446,"code":"Files","nodeType":"Identifier","column":0,"line":0,"namePos":13441,"name":"Files","object":null},"colon":0,"value":{"children":[],"start":13450,"end":13453,"code":"nil","nodeType":"Identifier","column":0,"line":0,"namePos":13450,"name":"nil","object":null}},{"children":[],"start":13457,"end":13468,"code":"Glob: \"\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":13457,"end":13461,"code":"Glob","nodeType":"Identifier","column":0,"line":0,"namePos":13457,"name":"Glob","object":null},"colon":0,"value":{"children":[],"start":13466,"end":13468,"code":"\"\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":13466,"kind":9,"value":"\"\""}},{"children":[],"start":13472,"end":13499,"code":"Delims: Delims{\"{{\", \"}}\"}","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":13472,"end":13478,"code":"Delims","nodeType":"Identifier","column":0,"line":0,"namePos":13472,"name":"Delims","object":null},"colon":0,"value":{"children":[],"start":13481,"end":13499,"code":"Delims{\"{{\", \"}}\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":13481,"end":13487,"code":"Delims","nodeType":"Identifier","column":0,"line":0,"namePos":13481,"name":"Delims","object":null},"lbrace":13487,"elements":[{"children":[],"start":13488,"end":13492,"code":"\"{{\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":13488,"kind":9,"value":"\"{{\""},{"children":[],"start":13494,"end":13498,"code":"\"}}\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":13494,"kind":9,"value":"\"}}\""}],"rbrace":13498,"incomplete":false}},{"children":[],"start":13503,"end":13515,"code":"FuncMap: nil","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":13503,"end":13510,"code":"FuncMap","nodeType":"Identifier","column":0,"line":0,"namePos":13503,"name":"FuncMap","object":null},"colon":0,"value":{"children":[],"start":13512,"end":13515,"code":"nil","nodeType":"Identifier","column":0,"line":0,"namePos":13512,"name":"nil","object":null}}],"rbrace":13518,"incomplete":false}]},{"children":[],"start":13521,"end":13578,"code":"assert.Panics(t, func() {\n\thtmlRender.Instance(\"\", nil)\n})","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":13521,"end":13578,"code":"assert.Panics(t, func() {\n\thtmlRender.Instance(\"\", nil)\n})","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":13521,"end":13534,"code":"assert.Panics","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":13521,"end":13527,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":13521,"name":"assert","object":null},"sel":{"children":[],"start":13528,"end":13534,"code":"Panics","nodeType":"Identifier","column":0,"line":0,"namePos":13528,"name":"Panics","object":null}},"lparen":0,"args":[{"children":[],"start":13535,"end":13536,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":13535,"name":"t","object":null},{"children":[],"start":13538,"end":13577,"code":"func() {\n\thtmlRender.Instance(\"\", nil)\n}","nodeType":"FunctionLiteral","column":0,"line":0,"type":{"children":[],"start":13538,"end":13544,"code":"func()","nodeType":"FunctionType","column":0,"line":0,"Function":13538,"TypeParams":null,"Params":{"children":[],"start":13542,"end":13544,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":13542,"list":[],"closing":13543},"Results":null},"body":{"children":[],"start":13545,"end":13577,"code":"{\n\thtmlRender.Instance(\"\", nil)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":13545,"list":[{"children":[],"start":13547,"end":13575,"code":"htmlRender.Instance(\"\", nil)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":13547,"end":13575,"code":"htmlRender.Instance(\"\", nil)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":13547,"end":13566,"code":"htmlRender.Instance","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":13547,"end":13557,"code":"htmlRender","nodeType":"Identifier","column":0,"line":0,"namePos":13547,"name":"htmlRender","object":null},"sel":{"children":[],"start":13558,"end":13566,"code":"Instance","nodeType":"Identifier","column":0,"line":0,"namePos":13558,"name":"Instance","object":null}},"lparen":0,"args":[{"children":[],"start":13567,"end":13569,"code":"\"\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":13567,"kind":9,"value":"\"\""},{"children":[],"start":13571,"end":13574,"code":"nil","nodeType":"Identifier","column":0,"line":0,"namePos":13571,"name":"nil","object":null}],"ellipsis":0,"rparen":0}}],"rbrace":13576}}],"ellipsis":0,"rparen":0}}],"rbrace":13579}},{"children":[],"start":13582,"end":14359,"code":"func TestRenderReader(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tbody := \"#!PNG some raw data\"\n\theaders := make(map[string]string)\n\theaders[\"Content-Disposition\"] = `attachment; filename=\"filename.png\"`\n\theaders[\"x-request-id\"] = \"requestId\"\n\terr := (Reader{ContentLength: int64(len(body)), ContentType: \"image/png\", Reader: strings.NewReader(body), Headers: headers}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, body, w.Body.String())\n\tassert.Equal(t, \"image/png\", w.Header().Get(\"Content-Type\"))\n\tassert.Equal(t, strconv.Itoa(len(body)), w.Header().Get(\"Content-Length\"))\n\tassert.Equal(t, headers[\"Content-Disposition\"], w.Header().Get(\"Content-Disposition\"))\n\tassert.Equal(t, headers[\"x-request-id\"], w.Header().Get(\"x-request-id\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":13587,"end":13603,"code":"TestRenderReader","nodeType":"Identifier","column":0,"line":0,"namePos":13587,"name":"TestRenderReader","object":null},"type":{"children":[],"start":13582,"end":13617,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":13582,"TypeParams":null,"Params":{"children":[],"start":13603,"end":13617,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":13603,"list":[{"children":[],"start":13604,"end":13616,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":13604,"end":13605,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":13604,"name":"t","object":null}],"type":{"children":[],"start":13606,"end":13616,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":13606,"expression":{"children":[],"start":13607,"end":13616,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":13607,"end":13614,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":13607,"name":"testing","object":null},"sel":{"children":[],"start":13615,"end":13616,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":13615,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":13616},"Results":null},"body":{"children":[],"start":13618,"end":14359,"code":"{\n\tw := httptest.NewRecorder()\n\tbody := \"#!PNG some raw data\"\n\theaders := make(map[string]string)\n\theaders[\"Content-Disposition\"] = `attachment; filename=\"filename.png\"`\n\theaders[\"x-request-id\"] = \"requestId\"\n\terr := (Reader{ContentLength: int64(len(body)), ContentType: \"image/png\", Reader: strings.NewReader(body), Headers: headers}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, body, w.Body.String())\n\tassert.Equal(t, \"image/png\", w.Header().Get(\"Content-Type\"))\n\tassert.Equal(t, strconv.Itoa(len(body)), w.Header().Get(\"Content-Length\"))\n\tassert.Equal(t, headers[\"Content-Disposition\"], w.Header().Get(\"Content-Disposition\"))\n\tassert.Equal(t, headers[\"x-request-id\"], w.Header().Get(\"x-request-id\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":13618,"list":[{"children":[],"start":13621,"end":13648,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":13621,"end":13622,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":13621,"name":"w","object":null}],"tokenPos":13623,"token":47,"rhs":[{"children":[],"start":13626,"end":13648,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":13626,"end":13646,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":13626,"end":13634,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":13626,"name":"httptest","object":null},"sel":{"children":[],"start":13635,"end":13646,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":13635,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":13651,"end":13680,"code":"body := \"#!PNG some raw data\"","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":13651,"end":13655,"code":"body","nodeType":"Identifier","column":0,"line":0,"namePos":13651,"name":"body","object":null}],"tokenPos":13656,"token":47,"rhs":[{"children":[],"start":13659,"end":13680,"code":"\"#!PNG some raw data\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":13659,"kind":9,"value":"\"#!PNG some raw data\""}]},{"children":[],"start":13682,"end":13716,"code":"headers := make(map[string]string)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":13682,"end":13689,"code":"headers","nodeType":"Identifier","column":0,"line":0,"namePos":13682,"name":"headers","object":null}],"tokenPos":13690,"token":47,"rhs":[{"children":[],"start":13693,"end":13716,"code":"make(map[string]string)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":13693,"end":13697,"code":"make","nodeType":"Identifier","column":0,"line":0,"namePos":13693,"name":"make","object":null},"lparen":0,"args":[{"children":[],"start":13698,"end":13715,"code":"map[string]string","nodeType":"MapType","column":0,"line":0,"map":13698,"key":{"children":[],"start":13702,"end":13708,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":13702,"name":"string","object":null},"value":{"children":[],"start":13709,"end":13715,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":13709,"name":"string","object":null}}],"ellipsis":0,"rparen":0}]},{"children":[],"start":13718,"end":13788,"code":"headers[\"Content-Disposition\"] = `attachment; filename=\"filename.png\"`","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":13718,"end":13748,"code":"headers[\"Content-Disposition\"]","nodeType":"IndexExpression","column":0,"line":0,"expression":{"children":[],"start":13718,"end":13725,"code":"headers","nodeType":"Identifier","column":0,"line":0,"namePos":13718,"name":"headers","object":null},"leftBracket":13725,"index":{"children":[],"start":13726,"end":13747,"code":"\"Content-Disposition\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":13726,"kind":9,"value":"\"Content-Disposition\""},"rightBracket":13747}],"tokenPos":13749,"token":42,"rhs":[{"children":[],"start":13751,"end":13788,"code":"`attachment; filename=\"filename.png\"`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":13751,"kind":9,"value":"`attachment; filename=\"filename.png\"`"}]},{"children":[],"start":13790,"end":13827,"code":"headers[\"x-request-id\"] = \"requestId\"","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":13790,"end":13813,"code":"headers[\"x-request-id\"]","nodeType":"IndexExpression","column":0,"line":0,"expression":{"children":[],"start":13790,"end":13797,"code":"headers","nodeType":"Identifier","column":0,"line":0,"namePos":13790,"name":"headers","object":null},"leftBracket":13797,"index":{"children":[],"start":13798,"end":13812,"code":"\"x-request-id\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":13798,"kind":9,"value":"\"x-request-id\""},"rightBracket":13812}],"tokenPos":13814,"token":42,"rhs":[{"children":[],"start":13816,"end":13827,"code":"\"requestId\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":13816,"kind":9,"value":"\"requestId\""}]},{"children":[],"start":13830,"end":13992,"code":"err := (Reader{ContentLength: int64(len(body)), ContentType: \"image/png\", Reader: strings.NewReader(body), Headers: headers}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":13830,"end":13833,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":13830,"name":"err","object":null}],"tokenPos":13834,"token":47,"rhs":[{"children":[],"start":13837,"end":13992,"code":"(Reader{ContentLength: int64(len(body)), ContentType: \"image/png\", Reader: strings.NewReader(body), Headers: headers}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":13837,"end":13989,"code":"(Reader{ContentLength: int64(len(body)), ContentType: \"image/png\", Reader: strings.NewReader(body), Headers: headers}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":13837,"end":13982,"code":"(Reader{ContentLength: int64(len(body)), ContentType: \"image/png\", Reader: strings.NewReader(body), Headers: headers})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":13837,"expression":{"children":[],"start":13838,"end":13981,"code":"Reader{ContentLength: int64(len(body)), ContentType: \"image/png\", Reader: strings.NewReader(body), Headers: headers}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":13838,"end":13844,"code":"Reader","nodeType":"Identifier","column":0,"line":0,"namePos":13838,"name":"Reader","object":null},"lbrace":13844,"elements":[{"children":[],"start":13848,"end":13879,"code":"ContentLength: int64(len(body))","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":13848,"end":13861,"code":"ContentLength","nodeType":"Identifier","column":0,"line":0,"namePos":13848,"name":"ContentLength","object":null},"colon":0,"value":{"children":[],"start":13863,"end":13879,"code":"int64(len(body))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":13863,"end":13868,"code":"int64","nodeType":"Identifier","column":0,"line":0,"namePos":13863,"name":"int64","object":null},"lparen":0,"args":[{"children":[],"start":13869,"end":13878,"code":"len(body)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":13869,"end":13872,"code":"len","nodeType":"Identifier","column":0,"line":0,"namePos":13869,"name":"len","object":null},"lparen":0,"args":[{"children":[],"start":13873,"end":13877,"code":"body","nodeType":"Identifier","column":0,"line":0,"namePos":13873,"name":"body","object":null}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":13883,"end":13909,"code":"ContentType: \"image/png\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":13883,"end":13894,"code":"ContentType","nodeType":"Identifier","column":0,"line":0,"namePos":13883,"name":"ContentType","object":null},"colon":0,"value":{"children":[],"start":13898,"end":13909,"code":"\"image/png\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":13898,"kind":9,"value":"\"image/png\""}},{"children":[],"start":13913,"end":13951,"code":"Reader: strings.NewReader(body)","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":13913,"end":13919,"code":"Reader","nodeType":"Identifier","column":0,"line":0,"namePos":13913,"name":"Reader","object":null},"colon":0,"value":{"children":[],"start":13928,"end":13951,"code":"strings.NewReader(body)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":13928,"end":13945,"code":"strings.NewReader","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":13928,"end":13935,"code":"strings","nodeType":"Identifier","column":0,"line":0,"namePos":13928,"name":"strings","object":null},"sel":{"children":[],"start":13936,"end":13945,"code":"NewReader","nodeType":"Identifier","column":0,"line":0,"namePos":13936,"name":"NewReader","object":null}},"lparen":0,"args":[{"children":[],"start":13946,"end":13950,"code":"body","nodeType":"Identifier","column":0,"line":0,"namePos":13946,"name":"body","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":13955,"end":13977,"code":"Headers: headers","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":13955,"end":13962,"code":"Headers","nodeType":"Identifier","column":0,"line":0,"namePos":13955,"name":"Headers","object":null},"colon":0,"value":{"children":[],"start":13970,"end":13977,"code":"headers","nodeType":"Identifier","column":0,"line":0,"namePos":13970,"name":"headers","object":null}}],"rbrace":13980,"incomplete":false},"rparen":13981},"sel":{"children":[],"start":13983,"end":13989,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":13983,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":13990,"end":13991,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":13990,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":13995,"end":14017,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":13995,"end":14017,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":13995,"end":14009,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":13995,"end":14001,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":13995,"name":"assert","object":null},"sel":{"children":[],"start":14002,"end":14009,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":14002,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":14010,"end":14011,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":14010,"name":"t","object":null},{"children":[],"start":14013,"end":14016,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":14013,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":14019,"end":14057,"code":"assert.Equal(t, body, w.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":14019,"end":14057,"code":"assert.Equal(t, body, w.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14019,"end":14031,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14019,"end":14025,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":14019,"name":"assert","object":null},"sel":{"children":[],"start":14026,"end":14031,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":14026,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":14032,"end":14033,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":14032,"name":"t","object":null},{"children":[],"start":14035,"end":14039,"code":"body","nodeType":"Identifier","column":0,"line":0,"namePos":14035,"name":"body","object":null},{"children":[],"start":14041,"end":14056,"code":"w.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14041,"end":14054,"code":"w.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14041,"end":14047,"code":"w.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14041,"end":14042,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":14041,"name":"w","object":null},"sel":{"children":[],"start":14043,"end":14047,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":14043,"name":"Body","object":null}},"sel":{"children":[],"start":14048,"end":14054,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":14048,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":14059,"end":14119,"code":"assert.Equal(t, \"image/png\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":14059,"end":14119,"code":"assert.Equal(t, \"image/png\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14059,"end":14071,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14059,"end":14065,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":14059,"name":"assert","object":null},"sel":{"children":[],"start":14066,"end":14071,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":14066,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":14072,"end":14073,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":14072,"name":"t","object":null},{"children":[],"start":14075,"end":14086,"code":"\"image/png\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":14075,"kind":9,"value":"\"image/png\""},{"children":[],"start":14088,"end":14118,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14088,"end":14102,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14088,"end":14098,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14088,"end":14096,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14088,"end":14089,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":14088,"name":"w","object":null},"sel":{"children":[],"start":14090,"end":14096,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":14090,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":14099,"end":14102,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":14099,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":14103,"end":14117,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":14103,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":14121,"end":14195,"code":"assert.Equal(t, strconv.Itoa(len(body)), w.Header().Get(\"Content-Length\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":14121,"end":14195,"code":"assert.Equal(t, strconv.Itoa(len(body)), w.Header().Get(\"Content-Length\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14121,"end":14133,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14121,"end":14127,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":14121,"name":"assert","object":null},"sel":{"children":[],"start":14128,"end":14133,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":14128,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":14134,"end":14135,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":14134,"name":"t","object":null},{"children":[],"start":14137,"end":14160,"code":"strconv.Itoa(len(body))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14137,"end":14149,"code":"strconv.Itoa","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14137,"end":14144,"code":"strconv","nodeType":"Identifier","column":0,"line":0,"namePos":14137,"name":"strconv","object":null},"sel":{"children":[],"start":14145,"end":14149,"code":"Itoa","nodeType":"Identifier","column":0,"line":0,"namePos":14145,"name":"Itoa","object":null}},"lparen":0,"args":[{"children":[],"start":14150,"end":14159,"code":"len(body)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14150,"end":14153,"code":"len","nodeType":"Identifier","column":0,"line":0,"namePos":14150,"name":"len","object":null},"lparen":0,"args":[{"children":[],"start":14154,"end":14158,"code":"body","nodeType":"Identifier","column":0,"line":0,"namePos":14154,"name":"body","object":null}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0},{"children":[],"start":14162,"end":14194,"code":"w.Header().Get(\"Content-Length\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14162,"end":14176,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14162,"end":14172,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14162,"end":14170,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14162,"end":14163,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":14162,"name":"w","object":null},"sel":{"children":[],"start":14164,"end":14170,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":14164,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":14173,"end":14176,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":14173,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":14177,"end":14193,"code":"\"Content-Length\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":14177,"kind":9,"value":"\"Content-Length\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":14197,"end":14283,"code":"assert.Equal(t, headers[\"Content-Disposition\"], w.Header().Get(\"Content-Disposition\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":14197,"end":14283,"code":"assert.Equal(t, headers[\"Content-Disposition\"], w.Header().Get(\"Content-Disposition\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14197,"end":14209,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14197,"end":14203,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":14197,"name":"assert","object":null},"sel":{"children":[],"start":14204,"end":14209,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":14204,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":14210,"end":14211,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":14210,"name":"t","object":null},{"children":[],"start":14213,"end":14243,"code":"headers[\"Content-Disposition\"]","nodeType":"IndexExpression","column":0,"line":0,"expression":{"children":[],"start":14213,"end":14220,"code":"headers","nodeType":"Identifier","column":0,"line":0,"namePos":14213,"name":"headers","object":null},"leftBracket":14220,"index":{"children":[],"start":14221,"end":14242,"code":"\"Content-Disposition\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":14221,"kind":9,"value":"\"Content-Disposition\""},"rightBracket":14242},{"children":[],"start":14245,"end":14282,"code":"w.Header().Get(\"Content-Disposition\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14245,"end":14259,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14245,"end":14255,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14245,"end":14253,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14245,"end":14246,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":14245,"name":"w","object":null},"sel":{"children":[],"start":14247,"end":14253,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":14247,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":14256,"end":14259,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":14256,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":14260,"end":14281,"code":"\"Content-Disposition\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":14260,"kind":9,"value":"\"Content-Disposition\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":14285,"end":14357,"code":"assert.Equal(t, headers[\"x-request-id\"], w.Header().Get(\"x-request-id\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":14285,"end":14357,"code":"assert.Equal(t, headers[\"x-request-id\"], w.Header().Get(\"x-request-id\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14285,"end":14297,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14285,"end":14291,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":14285,"name":"assert","object":null},"sel":{"children":[],"start":14292,"end":14297,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":14292,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":14298,"end":14299,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":14298,"name":"t","object":null},{"children":[],"start":14301,"end":14324,"code":"headers[\"x-request-id\"]","nodeType":"IndexExpression","column":0,"line":0,"expression":{"children":[],"start":14301,"end":14308,"code":"headers","nodeType":"Identifier","column":0,"line":0,"namePos":14301,"name":"headers","object":null},"leftBracket":14308,"index":{"children":[],"start":14309,"end":14323,"code":"\"x-request-id\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":14309,"kind":9,"value":"\"x-request-id\""},"rightBracket":14323},{"children":[],"start":14326,"end":14356,"code":"w.Header().Get(\"x-request-id\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14326,"end":14340,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14326,"end":14336,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14326,"end":14334,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14326,"end":14327,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":14326,"name":"w","object":null},"sel":{"children":[],"start":14328,"end":14334,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":14328,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":14337,"end":14340,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":14337,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":14341,"end":14355,"code":"\"x-request-id\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":14341,"kind":9,"value":"\"x-request-id\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":14358}},{"children":[],"start":14361,"end":15116,"code":"func TestRenderReaderNoContentLength(t *testing.T) {\n\tw := httptest.NewRecorder()\n\tbody := \"#!PNG some raw data\"\n\theaders := make(map[string]string)\n\theaders[\"Content-Disposition\"] = `attachment; filename=\"filename.png\"`\n\theaders[\"x-request-id\"] = \"requestId\"\n\terr := (Reader{ContentLength: -1, ContentType: \"image/png\", Reader: strings.NewReader(body), Headers: headers}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, body, w.Body.String())\n\tassert.Equal(t, \"image/png\", w.Header().Get(\"Content-Type\"))\n\tassert.NotContains(t, \"Content-Length\", w.Header())\n\tassert.Equal(t, headers[\"Content-Disposition\"], w.Header().Get(\"Content-Disposition\"))\n\tassert.Equal(t, headers[\"x-request-id\"], w.Header().Get(\"x-request-id\"))\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":14366,"end":14397,"code":"TestRenderReaderNoContentLength","nodeType":"Identifier","column":0,"line":0,"namePos":14366,"name":"TestRenderReaderNoContentLength","object":null},"type":{"children":[],"start":14361,"end":14411,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":14361,"TypeParams":null,"Params":{"children":[],"start":14397,"end":14411,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":14397,"list":[{"children":[],"start":14398,"end":14410,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":14398,"end":14399,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":14398,"name":"t","object":null}],"type":{"children":[],"start":14400,"end":14410,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":14400,"expression":{"children":[],"start":14401,"end":14410,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14401,"end":14408,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":14401,"name":"testing","object":null},"sel":{"children":[],"start":14409,"end":14410,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":14409,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":14410},"Results":null},"body":{"children":[],"start":14412,"end":15116,"code":"{\n\tw := httptest.NewRecorder()\n\tbody := \"#!PNG some raw data\"\n\theaders := make(map[string]string)\n\theaders[\"Content-Disposition\"] = `attachment; filename=\"filename.png\"`\n\theaders[\"x-request-id\"] = \"requestId\"\n\terr := (Reader{ContentLength: -1, ContentType: \"image/png\", Reader: strings.NewReader(body), Headers: headers}).Render(w)\n\tassert.NoError(t, err)\n\tassert.Equal(t, body, w.Body.String())\n\tassert.Equal(t, \"image/png\", w.Header().Get(\"Content-Type\"))\n\tassert.NotContains(t, \"Content-Length\", w.Header())\n\tassert.Equal(t, headers[\"Content-Disposition\"], w.Header().Get(\"Content-Disposition\"))\n\tassert.Equal(t, headers[\"x-request-id\"], w.Header().Get(\"x-request-id\"))\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":14412,"list":[{"children":[],"start":14415,"end":14442,"code":"w := httptest.NewRecorder()","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":14415,"end":14416,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":14415,"name":"w","object":null}],"tokenPos":14417,"token":47,"rhs":[{"children":[],"start":14420,"end":14442,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14420,"end":14440,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14420,"end":14428,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":14420,"name":"httptest","object":null},"sel":{"children":[],"start":14429,"end":14440,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":14429,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]},{"children":[],"start":14445,"end":14474,"code":"body := \"#!PNG some raw data\"","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":14445,"end":14449,"code":"body","nodeType":"Identifier","column":0,"line":0,"namePos":14445,"name":"body","object":null}],"tokenPos":14450,"token":47,"rhs":[{"children":[],"start":14453,"end":14474,"code":"\"#!PNG some raw data\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":14453,"kind":9,"value":"\"#!PNG some raw data\""}]},{"children":[],"start":14476,"end":14510,"code":"headers := make(map[string]string)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":14476,"end":14483,"code":"headers","nodeType":"Identifier","column":0,"line":0,"namePos":14476,"name":"headers","object":null}],"tokenPos":14484,"token":47,"rhs":[{"children":[],"start":14487,"end":14510,"code":"make(map[string]string)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14487,"end":14491,"code":"make","nodeType":"Identifier","column":0,"line":0,"namePos":14487,"name":"make","object":null},"lparen":0,"args":[{"children":[],"start":14492,"end":14509,"code":"map[string]string","nodeType":"MapType","column":0,"line":0,"map":14492,"key":{"children":[],"start":14496,"end":14502,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":14496,"name":"string","object":null},"value":{"children":[],"start":14503,"end":14509,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":14503,"name":"string","object":null}}],"ellipsis":0,"rparen":0}]},{"children":[],"start":14512,"end":14582,"code":"headers[\"Content-Disposition\"] = `attachment; filename=\"filename.png\"`","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":14512,"end":14542,"code":"headers[\"Content-Disposition\"]","nodeType":"IndexExpression","column":0,"line":0,"expression":{"children":[],"start":14512,"end":14519,"code":"headers","nodeType":"Identifier","column":0,"line":0,"namePos":14512,"name":"headers","object":null},"leftBracket":14519,"index":{"children":[],"start":14520,"end":14541,"code":"\"Content-Disposition\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":14520,"kind":9,"value":"\"Content-Disposition\""},"rightBracket":14541}],"tokenPos":14543,"token":42,"rhs":[{"children":[],"start":14545,"end":14582,"code":"`attachment; filename=\"filename.png\"`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":14545,"kind":9,"value":"`attachment; filename=\"filename.png\"`"}]},{"children":[],"start":14584,"end":14621,"code":"headers[\"x-request-id\"] = \"requestId\"","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":14584,"end":14607,"code":"headers[\"x-request-id\"]","nodeType":"IndexExpression","column":0,"line":0,"expression":{"children":[],"start":14584,"end":14591,"code":"headers","nodeType":"Identifier","column":0,"line":0,"namePos":14584,"name":"headers","object":null},"leftBracket":14591,"index":{"children":[],"start":14592,"end":14606,"code":"\"x-request-id\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":14592,"kind":9,"value":"\"x-request-id\""},"rightBracket":14606}],"tokenPos":14608,"token":42,"rhs":[{"children":[],"start":14610,"end":14621,"code":"\"requestId\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":14610,"kind":9,"value":"\"requestId\""}]},{"children":[],"start":14624,"end":14772,"code":"err := (Reader{ContentLength: -1, ContentType: \"image/png\", Reader: strings.NewReader(body), Headers: headers}).Render(w)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":14624,"end":14627,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":14624,"name":"err","object":null}],"tokenPos":14628,"token":47,"rhs":[{"children":[],"start":14631,"end":14772,"code":"(Reader{ContentLength: -1, ContentType: \"image/png\", Reader: strings.NewReader(body), Headers: headers}).Render(w)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14631,"end":14769,"code":"(Reader{ContentLength: -1, ContentType: \"image/png\", Reader: strings.NewReader(body), Headers: headers}).Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14631,"end":14762,"code":"(Reader{ContentLength: -1, ContentType: \"image/png\", Reader: strings.NewReader(body), Headers: headers})","nodeType":"ParenthesizedExpression","column":0,"line":0,"lparen":14631,"expression":{"children":[],"start":14632,"end":14761,"code":"Reader{ContentLength: -1, ContentType: \"image/png\", Reader: strings.NewReader(body), Headers: headers}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":14632,"end":14638,"code":"Reader","nodeType":"Identifier","column":0,"line":0,"namePos":14632,"name":"Reader","object":null},"lbrace":14638,"elements":[{"children":[],"start":14642,"end":14659,"code":"ContentLength: -1","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":14642,"end":14655,"code":"ContentLength","nodeType":"Identifier","column":0,"line":0,"namePos":14642,"name":"ContentLength","object":null},"colon":0,"value":{"children":[],"start":14657,"end":14659,"code":"-1","nodeType":"UnaryExpression","column":0,"line":0,"opPos":14657,"op":13,"expression":{"children":[],"start":14658,"end":14659,"code":"1","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":14658,"kind":5,"value":"1"}}},{"children":[],"start":14663,"end":14689,"code":"ContentType: \"image/png\"","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":14663,"end":14674,"code":"ContentType","nodeType":"Identifier","column":0,"line":0,"namePos":14663,"name":"ContentType","object":null},"colon":0,"value":{"children":[],"start":14678,"end":14689,"code":"\"image/png\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":14678,"kind":9,"value":"\"image/png\""}},{"children":[],"start":14693,"end":14731,"code":"Reader: strings.NewReader(body)","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":14693,"end":14699,"code":"Reader","nodeType":"Identifier","column":0,"line":0,"namePos":14693,"name":"Reader","object":null},"colon":0,"value":{"children":[],"start":14708,"end":14731,"code":"strings.NewReader(body)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14708,"end":14725,"code":"strings.NewReader","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14708,"end":14715,"code":"strings","nodeType":"Identifier","column":0,"line":0,"namePos":14708,"name":"strings","object":null},"sel":{"children":[],"start":14716,"end":14725,"code":"NewReader","nodeType":"Identifier","column":0,"line":0,"namePos":14716,"name":"NewReader","object":null}},"lparen":0,"args":[{"children":[],"start":14726,"end":14730,"code":"body","nodeType":"Identifier","column":0,"line":0,"namePos":14726,"name":"body","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":14735,"end":14757,"code":"Headers: headers","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":14735,"end":14742,"code":"Headers","nodeType":"Identifier","column":0,"line":0,"namePos":14735,"name":"Headers","object":null},"colon":0,"value":{"children":[],"start":14750,"end":14757,"code":"headers","nodeType":"Identifier","column":0,"line":0,"namePos":14750,"name":"headers","object":null}}],"rbrace":14760,"incomplete":false},"rparen":14761},"sel":{"children":[],"start":14763,"end":14769,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":14763,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":14770,"end":14771,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":14770,"name":"w","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":14775,"end":14797,"code":"assert.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":14775,"end":14797,"code":"assert.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14775,"end":14789,"code":"assert.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14775,"end":14781,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":14775,"name":"assert","object":null},"sel":{"children":[],"start":14782,"end":14789,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":14782,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":14790,"end":14791,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":14790,"name":"t","object":null},{"children":[],"start":14793,"end":14796,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":14793,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":14799,"end":14837,"code":"assert.Equal(t, body, w.Body.String())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":14799,"end":14837,"code":"assert.Equal(t, body, w.Body.String())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14799,"end":14811,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14799,"end":14805,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":14799,"name":"assert","object":null},"sel":{"children":[],"start":14806,"end":14811,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":14806,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":14812,"end":14813,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":14812,"name":"t","object":null},{"children":[],"start":14815,"end":14819,"code":"body","nodeType":"Identifier","column":0,"line":0,"namePos":14815,"name":"body","object":null},{"children":[],"start":14821,"end":14836,"code":"w.Body.String()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14821,"end":14834,"code":"w.Body.String","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14821,"end":14827,"code":"w.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14821,"end":14822,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":14821,"name":"w","object":null},"sel":{"children":[],"start":14823,"end":14827,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":14823,"name":"Body","object":null}},"sel":{"children":[],"start":14828,"end":14834,"code":"String","nodeType":"Identifier","column":0,"line":0,"namePos":14828,"name":"String","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":14839,"end":14899,"code":"assert.Equal(t, \"image/png\", w.Header().Get(\"Content-Type\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":14839,"end":14899,"code":"assert.Equal(t, \"image/png\", w.Header().Get(\"Content-Type\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14839,"end":14851,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14839,"end":14845,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":14839,"name":"assert","object":null},"sel":{"children":[],"start":14846,"end":14851,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":14846,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":14852,"end":14853,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":14852,"name":"t","object":null},{"children":[],"start":14855,"end":14866,"code":"\"image/png\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":14855,"kind":9,"value":"\"image/png\""},{"children":[],"start":14868,"end":14898,"code":"w.Header().Get(\"Content-Type\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14868,"end":14882,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14868,"end":14878,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14868,"end":14876,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14868,"end":14869,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":14868,"name":"w","object":null},"sel":{"children":[],"start":14870,"end":14876,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":14870,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":14879,"end":14882,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":14879,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":14883,"end":14897,"code":"\"Content-Type\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":14883,"kind":9,"value":"\"Content-Type\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":14901,"end":14952,"code":"assert.NotContains(t, \"Content-Length\", w.Header())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":14901,"end":14952,"code":"assert.NotContains(t, \"Content-Length\", w.Header())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14901,"end":14919,"code":"assert.NotContains","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14901,"end":14907,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":14901,"name":"assert","object":null},"sel":{"children":[],"start":14908,"end":14919,"code":"NotContains","nodeType":"Identifier","column":0,"line":0,"namePos":14908,"name":"NotContains","object":null}},"lparen":0,"args":[{"children":[],"start":14920,"end":14921,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":14920,"name":"t","object":null},{"children":[],"start":14923,"end":14939,"code":"\"Content-Length\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":14923,"kind":9,"value":"\"Content-Length\""},{"children":[],"start":14941,"end":14951,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14941,"end":14949,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14941,"end":14942,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":14941,"name":"w","object":null},"sel":{"children":[],"start":14943,"end":14949,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":14943,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":14954,"end":15040,"code":"assert.Equal(t, headers[\"Content-Disposition\"], w.Header().Get(\"Content-Disposition\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":14954,"end":15040,"code":"assert.Equal(t, headers[\"Content-Disposition\"], w.Header().Get(\"Content-Disposition\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":14954,"end":14966,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":14954,"end":14960,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":14954,"name":"assert","object":null},"sel":{"children":[],"start":14961,"end":14966,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":14961,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":14967,"end":14968,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":14967,"name":"t","object":null},{"children":[],"start":14970,"end":15000,"code":"headers[\"Content-Disposition\"]","nodeType":"IndexExpression","column":0,"line":0,"expression":{"children":[],"start":14970,"end":14977,"code":"headers","nodeType":"Identifier","column":0,"line":0,"namePos":14970,"name":"headers","object":null},"leftBracket":14977,"index":{"children":[],"start":14978,"end":14999,"code":"\"Content-Disposition\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":14978,"kind":9,"value":"\"Content-Disposition\""},"rightBracket":14999},{"children":[],"start":15002,"end":15039,"code":"w.Header().Get(\"Content-Disposition\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":15002,"end":15016,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":15002,"end":15012,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":15002,"end":15010,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":15002,"end":15003,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":15002,"name":"w","object":null},"sel":{"children":[],"start":15004,"end":15010,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":15004,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":15013,"end":15016,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":15013,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":15017,"end":15038,"code":"\"Content-Disposition\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":15017,"kind":9,"value":"\"Content-Disposition\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}},{"children":[],"start":15042,"end":15114,"code":"assert.Equal(t, headers[\"x-request-id\"], w.Header().Get(\"x-request-id\"))","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":15042,"end":15114,"code":"assert.Equal(t, headers[\"x-request-id\"], w.Header().Get(\"x-request-id\"))","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":15042,"end":15054,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":15042,"end":15048,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":15042,"name":"assert","object":null},"sel":{"children":[],"start":15049,"end":15054,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":15049,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":15055,"end":15056,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":15055,"name":"t","object":null},{"children":[],"start":15058,"end":15081,"code":"headers[\"x-request-id\"]","nodeType":"IndexExpression","column":0,"line":0,"expression":{"children":[],"start":15058,"end":15065,"code":"headers","nodeType":"Identifier","column":0,"line":0,"namePos":15058,"name":"headers","object":null},"leftBracket":15065,"index":{"children":[],"start":15066,"end":15080,"code":"\"x-request-id\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":15066,"kind":9,"value":"\"x-request-id\""},"rightBracket":15080},{"children":[],"start":15083,"end":15113,"code":"w.Header().Get(\"x-request-id\")","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":15083,"end":15097,"code":"w.Header().Get","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":15083,"end":15093,"code":"w.Header()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":15083,"end":15091,"code":"w.Header","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":15083,"end":15084,"code":"w","nodeType":"Identifier","column":0,"line":0,"namePos":15083,"name":"w","object":null},"sel":{"children":[],"start":15085,"end":15091,"code":"Header","nodeType":"Identifier","column":0,"line":0,"namePos":15085,"name":"Header","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":15094,"end":15097,"code":"Get","nodeType":"Identifier","column":0,"line":0,"namePos":15094,"name":"Get","object":null}},"lparen":0,"args":[{"children":[],"start":15098,"end":15112,"code":"\"x-request-id\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":15098,"kind":9,"value":"\"x-request-id\""}],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":15115}},{"children":[],"start":15118,"end":15471,"code":"func TestRenderWriteError(t *testing.T) {\n\tdata := []interface{}{\"value1\", \"value2\"}\n\tprefix := \"my-prefix:\"\n\tr := SecureJSON{Data: data, Prefix: prefix}\n\tew := \u0026errorWriter{bufString: prefix, ResponseRecorder: httptest.NewRecorder()}\n\terr := r.Render(ew)\n\tassert.NotNil(t, err)\n\tassert.Equal(t, `write \"my-prefix:\" error`, err.Error())\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":15123,"end":15143,"code":"TestRenderWriteError","nodeType":"Identifier","column":0,"line":0,"namePos":15123,"name":"TestRenderWriteError","object":null},"type":{"children":[],"start":15118,"end":15157,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":15118,"TypeParams":null,"Params":{"children":[],"start":15143,"end":15157,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":15143,"list":[{"children":[],"start":15144,"end":15156,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":15144,"end":15145,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":15144,"name":"t","object":null}],"type":{"children":[],"start":15146,"end":15156,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":15146,"expression":{"children":[],"start":15147,"end":15156,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":15147,"end":15154,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":15147,"name":"testing","object":null},"sel":{"children":[],"start":15155,"end":15156,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":15155,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":15156},"Results":null},"body":{"children":[],"start":15158,"end":15471,"code":"{\n\tdata := []interface{}{\"value1\", \"value2\"}\n\tprefix := \"my-prefix:\"\n\tr := SecureJSON{Data: data, Prefix: prefix}\n\tew := \u0026errorWriter{bufString: prefix, ResponseRecorder: httptest.NewRecorder()}\n\terr := r.Render(ew)\n\tassert.NotNil(t, err)\n\tassert.Equal(t, `write \"my-prefix:\" error`, err.Error())\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":15158,"list":[{"children":[],"start":15161,"end":15202,"code":"data := []interface{}{\"value1\", \"value2\"}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":15161,"end":15165,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":15161,"name":"data","object":null}],"tokenPos":15166,"token":47,"rhs":[{"children":[],"start":15169,"end":15202,"code":"[]interface{}{\"value1\", \"value2\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":15169,"end":15182,"code":"[]interface{}","nodeType":"ArrayType","column":0,"line":0,"leftBracket":15169,"length":null,"element":{"children":[],"start":15171,"end":15182,"code":"interface{}","nodeType":"InterfaceType","column":0,"line":0,"interface":15171,"methods":{"children":[],"start":15180,"end":15182,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":15180,"list":[],"closing":15181},"incomplete":false}},"lbrace":15182,"elements":[{"children":[],"start":15183,"end":15191,"code":"\"value1\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":15183,"kind":9,"value":"\"value1\""},{"children":[],"start":15193,"end":15201,"code":"\"value2\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":15193,"kind":9,"value":"\"value2\""}],"rbrace":15201,"incomplete":false}]},{"children":[],"start":15204,"end":15226,"code":"prefix := \"my-prefix:\"","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":15204,"end":15210,"code":"prefix","nodeType":"Identifier","column":0,"line":0,"namePos":15204,"name":"prefix","object":null}],"tokenPos":15211,"token":47,"rhs":[{"children":[],"start":15214,"end":15226,"code":"\"my-prefix:\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":15214,"kind":9,"value":"\"my-prefix:\""}]},{"children":[],"start":15228,"end":15271,"code":"r := SecureJSON{Data: data, Prefix: prefix}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":15228,"end":15229,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":15228,"name":"r","object":null}],"tokenPos":15230,"token":47,"rhs":[{"children":[],"start":15233,"end":15271,"code":"SecureJSON{Data: data, Prefix: prefix}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":15233,"end":15243,"code":"SecureJSON","nodeType":"Identifier","column":0,"line":0,"namePos":15233,"name":"SecureJSON","object":null},"lbrace":15243,"elements":[{"children":[],"start":15244,"end":15254,"code":"Data: data","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":15244,"end":15248,"code":"Data","nodeType":"Identifier","column":0,"line":0,"namePos":15244,"name":"Data","object":null},"colon":0,"value":{"children":[],"start":15250,"end":15254,"code":"data","nodeType":"Identifier","column":0,"line":0,"namePos":15250,"name":"data","object":null}},{"children":[],"start":15256,"end":15270,"code":"Prefix: prefix","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":15256,"end":15262,"code":"Prefix","nodeType":"Identifier","column":0,"line":0,"namePos":15256,"name":"Prefix","object":null},"colon":0,"value":{"children":[],"start":15264,"end":15270,"code":"prefix","nodeType":"Identifier","column":0,"line":0,"namePos":15264,"name":"prefix","object":null}}],"rbrace":15270,"incomplete":false}]},{"children":[],"start":15273,"end":15367,"code":"ew := \u0026errorWriter{bufString: prefix, ResponseRecorder: httptest.NewRecorder()}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":15273,"end":15275,"code":"ew","nodeType":"Identifier","column":0,"line":0,"namePos":15273,"name":"ew","object":null}],"tokenPos":15276,"token":47,"rhs":[{"children":[],"start":15279,"end":15367,"code":"\u0026errorWriter{bufString: prefix, ResponseRecorder: httptest.NewRecorder()}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":15279,"op":17,"expression":{"children":[],"start":15280,"end":15367,"code":"errorWriter{bufString: prefix, ResponseRecorder: httptest.NewRecorder()}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":15280,"end":15291,"code":"errorWriter","nodeType":"Identifier","column":0,"line":0,"namePos":15280,"name":"errorWriter","object":null},"lbrace":15291,"elements":[{"children":[],"start":15295,"end":15319,"code":"bufString: prefix","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":15295,"end":15304,"code":"bufString","nodeType":"Identifier","column":0,"line":0,"namePos":15295,"name":"bufString","object":null},"colon":0,"value":{"children":[],"start":15313,"end":15319,"code":"prefix","nodeType":"Identifier","column":0,"line":0,"namePos":15313,"name":"prefix","object":null}},{"children":[],"start":15323,"end":15363,"code":"ResponseRecorder: httptest.NewRecorder()","nodeType":"KeyValueExpression","column":0,"line":0,"key":{"children":[],"start":15323,"end":15339,"code":"ResponseRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":15323,"name":"ResponseRecorder","object":null},"colon":0,"value":{"children":[],"start":15341,"end":15363,"code":"httptest.NewRecorder()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":15341,"end":15361,"code":"httptest.NewRecorder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":15341,"end":15349,"code":"httptest","nodeType":"Identifier","column":0,"line":0,"namePos":15341,"name":"httptest","object":null},"sel":{"children":[],"start":15350,"end":15361,"code":"NewRecorder","nodeType":"Identifier","column":0,"line":0,"namePos":15350,"name":"NewRecorder","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}}],"rbrace":15366,"incomplete":false}}]},{"children":[],"start":15369,"end":15388,"code":"err := r.Render(ew)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":15369,"end":15372,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":15369,"name":"err","object":null}],"tokenPos":15373,"token":47,"rhs":[{"children":[],"start":15376,"end":15388,"code":"r.Render(ew)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":15376,"end":15384,"code":"r.Render","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":15376,"end":15377,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":15376,"name":"r","object":null},"sel":{"children":[],"start":15378,"end":15384,"code":"Render","nodeType":"Identifier","column":0,"line":0,"namePos":15378,"name":"Render","object":null}},"lparen":0,"args":[{"children":[],"start":15385,"end":15387,"code":"ew","nodeType":"Identifier","column":0,"line":0,"namePos":15385,"name":"ew","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":15390,"end":15411,"code":"assert.NotNil(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":15390,"end":15411,"code":"assert.NotNil(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":15390,"end":15403,"code":"assert.NotNil","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":15390,"end":15396,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":15390,"name":"assert","object":null},"sel":{"children":[],"start":15397,"end":15403,"code":"NotNil","nodeType":"Identifier","column":0,"line":0,"namePos":15397,"name":"NotNil","object":null}},"lparen":0,"args":[{"children":[],"start":15404,"end":15405,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":15404,"name":"t","object":null},{"children":[],"start":15407,"end":15410,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":15407,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":15413,"end":15469,"code":"assert.Equal(t, `write \"my-prefix:\" error`, err.Error())","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":15413,"end":15469,"code":"assert.Equal(t, `write \"my-prefix:\" error`, err.Error())","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":15413,"end":15425,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":15413,"end":15419,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":15413,"name":"assert","object":null},"sel":{"children":[],"start":15420,"end":15425,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":15420,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":15426,"end":15427,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":15426,"name":"t","object":null},{"children":[],"start":15429,"end":15455,"code":"`write \"my-prefix:\" error`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":15429,"kind":9,"value":"`write \"my-prefix:\" error`"},{"children":[],"start":15457,"end":15468,"code":"err.Error()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":15457,"end":15466,"code":"err.Error","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":15457,"end":15460,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":15457,"name":"err","object":null},"sel":{"children":[],"start":15461,"end":15466,"code":"Error","nodeType":"Identifier","column":0,"line":0,"namePos":15461,"name":"Error","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}],"ellipsis":0,"rparen":0}}],"rbrace":15470}}],"fileStart":1,"fileEnd":15472,"scope":{"outer":null,"objects":null},"imports":[],"unresolved":[],"comments":[],"goVersion":""}