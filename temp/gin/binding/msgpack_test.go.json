{"children":[],"start":183,"end":785,"code":"package binding\n\nimport (\n\t\"bytes\"\n\t\"testing\"\n\t\"github.com/stretchr/testify/assert\"\n\t\"github.com/stretchr/testify/require\"\n\t\"github.com/ugorji/go/codec\"\n)\n\nfunc TestMsgpackBindingBindBody(t *testing.T) {\n\ttype teststruct struct {\n\t\tFoo string `msgpack:\"foo\"`\n\t}\n\tvar s teststruct\n\terr := msgpackBinding{}.BindBody(msgpackBody(t, teststruct{\"FOO\"}), \u0026s)\n\trequire.NoError(t, err)\n\tassert.Equal(t, \"FOO\", s.Foo)\n}\nfunc msgpackBody(t *testing.T, obj any) []byte {\n\tvar bs bytes.Buffer\n\th := \u0026codec.MsgpackHandle{}\n\terr := codec.NewEncoder(\u0026bs, h).Encode(obj)\n\trequire.NoError(t, err)\n\treturn bs.Bytes()\n}\n","nodeType":"File","column":0,"line":0,"doc":null,"package":183,"name":{"children":[],"start":191,"end":198,"code":"binding","nodeType":"Identifier","column":0,"line":0,"namePos":191,"name":"binding","object":null},"declarations":[{"children":[],"start":200,"end":338,"code":"import (\n\t\"bytes\"\n\t\"testing\"\n\t\"github.com/stretchr/testify/assert\"\n\t\"github.com/stretchr/testify/require\"\n\t\"github.com/ugorji/go/codec\"\n)","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":200,"token":75,"lparen":207,"specifications":[{"children":[],"start":210,"end":217,"code":"\"bytes\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":210,"end":217,"code":"\"bytes\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":210,"kind":9,"value":"\"bytes\""},"comment":null,"endPosition":0},{"children":[],"start":219,"end":228,"code":"\"testing\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":219,"end":228,"code":"\"testing\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":219,"kind":9,"value":"\"testing\""},"comment":null,"endPosition":0},{"children":[],"start":231,"end":267,"code":"\"github.com/stretchr/testify/assert\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":231,"end":267,"code":"\"github.com/stretchr/testify/assert\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":231,"kind":9,"value":"\"github.com/stretchr/testify/assert\""},"comment":null,"endPosition":0},{"children":[],"start":269,"end":306,"code":"\"github.com/stretchr/testify/require\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":269,"end":306,"code":"\"github.com/stretchr/testify/require\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":269,"kind":9,"value":"\"github.com/stretchr/testify/require\""},"comment":null,"endPosition":0},{"children":[],"start":308,"end":336,"code":"\"github.com/ugorji/go/codec\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":308,"end":336,"code":"\"github.com/ugorji/go/codec\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":308,"kind":9,"value":"\"github.com/ugorji/go/codec\""},"comment":null,"endPosition":0}],"rparen":337},{"children":[],"start":340,"end":594,"code":"func TestMsgpackBindingBindBody(t *testing.T) {\n\ttype teststruct struct {\n\t\tFoo string `msgpack:\"foo\"`\n\t}\n\tvar s teststruct\n\terr := msgpackBinding{}.BindBody(msgpackBody(t, teststruct{\"FOO\"}), \u0026s)\n\trequire.NoError(t, err)\n\tassert.Equal(t, \"FOO\", s.Foo)\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":345,"end":371,"code":"TestMsgpackBindingBindBody","nodeType":"Identifier","column":0,"line":0,"namePos":345,"name":"TestMsgpackBindingBindBody","object":null},"type":{"children":[],"start":340,"end":385,"code":"func(t *testing.T)","nodeType":"FunctionType","column":0,"line":0,"Function":340,"TypeParams":null,"Params":{"children":[],"start":371,"end":385,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":371,"list":[{"children":[],"start":372,"end":384,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":372,"end":373,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":372,"name":"t","object":null}],"type":{"children":[],"start":374,"end":384,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":374,"expression":{"children":[],"start":375,"end":384,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":375,"end":382,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":375,"name":"testing","object":null},"sel":{"children":[],"start":383,"end":384,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":383,"name":"T","object":null}}},"tag":null,"comment":null}],"closing":384},"Results":null},"body":{"children":[],"start":386,"end":594,"code":"{\n\ttype teststruct struct {\n\t\tFoo string `msgpack:\"foo\"`\n\t}\n\tvar s teststruct\n\terr := msgpackBinding{}.BindBody(msgpackBody(t, teststruct{\"FOO\"}), \u0026s)\n\trequire.NoError(t, err)\n\tassert.Equal(t, \"FOO\", s.Foo)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":386,"list":[{"children":[],"start":389,"end":445,"code":"type teststruct struct {\n\tFoo string `msgpack:\"foo\"`\n}","nodeType":"DeclarationStatement","column":0,"line":0,"declaration":{"children":[],"start":389,"end":445,"code":"type teststruct struct {\n\tFoo string `msgpack:\"foo\"`\n}","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":389,"token":84,"lparen":0,"specifications":[{"children":[],"start":394,"end":445,"code":"teststruct struct {\n\tFoo string `msgpack:\"foo\"`\n}","nodeType":"TypeSpecification","column":0,"line":0,"doc":null,"name":{"children":[],"start":394,"end":404,"code":"teststruct","nodeType":"Identifier","column":0,"line":0,"namePos":394,"name":"teststruct","object":null},"typeParams":null,"assign":0,"type":{"children":[],"start":405,"end":445,"code":"struct {\n\tFoo string `msgpack:\"foo\"`\n}","nodeType":"StructType","column":0,"line":0,"struct":405,"fields":{"children":[],"start":412,"end":445,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":412,"list":[{"children":[],"start":416,"end":442,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":416,"end":419,"code":"Foo","nodeType":"Identifier","column":0,"line":0,"namePos":416,"name":"Foo","object":null}],"type":{"children":[],"start":420,"end":426,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":420,"name":"string","object":null},"tag":{"children":[],"start":427,"end":442,"code":"`msgpack:\"foo\"`","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":427,"kind":9,"value":"`msgpack:\"foo\"`"},"comment":null}],"closing":444},"incomplete":false},"comment":null}],"rparen":0}},{"children":[],"start":447,"end":463,"code":"var s teststruct","nodeType":"DeclarationStatement","column":0,"line":0,"declaration":{"children":[],"start":447,"end":463,"code":"var s teststruct","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":447,"token":85,"lparen":0,"specifications":[{"children":[],"start":451,"end":463,"code":"s teststruct","nodeType":"ValueSpecification","column":0,"line":0,"doc":null,"names":[{"children":[],"start":451,"end":452,"code":"s","nodeType":"Identifier","column":0,"line":0,"namePos":451,"name":"s","object":null}],"type":{"children":[],"start":453,"end":463,"code":"teststruct","nodeType":"Identifier","column":0,"line":0,"namePos":453,"name":"teststruct","object":null},"values":[],"comment":null}],"rparen":0}},{"children":[],"start":465,"end":536,"code":"err := msgpackBinding{}.BindBody(msgpackBody(t, teststruct{\"FOO\"}), \u0026s)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":465,"end":468,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":465,"name":"err","object":null}],"tokenPos":469,"token":47,"rhs":[{"children":[],"start":472,"end":536,"code":"msgpackBinding{}.BindBody(msgpackBody(t, teststruct{\"FOO\"}), \u0026s)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":472,"end":497,"code":"msgpackBinding{}.BindBody","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":472,"end":488,"code":"msgpackBinding{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":472,"end":486,"code":"msgpackBinding","nodeType":"Identifier","column":0,"line":0,"namePos":472,"name":"msgpackBinding","object":null},"lbrace":486,"elements":[],"rbrace":487,"incomplete":false},"sel":{"children":[],"start":489,"end":497,"code":"BindBody","nodeType":"Identifier","column":0,"line":0,"namePos":489,"name":"BindBody","object":null}},"lparen":0,"args":[{"children":[],"start":498,"end":531,"code":"msgpackBody(t, teststruct{\"FOO\"})","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":498,"end":509,"code":"msgpackBody","nodeType":"Identifier","column":0,"line":0,"namePos":498,"name":"msgpackBody","object":null},"lparen":0,"args":[{"children":[],"start":510,"end":511,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":510,"name":"t","object":null},{"children":[],"start":513,"end":530,"code":"teststruct{\"FOO\"}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":513,"end":523,"code":"teststruct","nodeType":"Identifier","column":0,"line":0,"namePos":513,"name":"teststruct","object":null},"lbrace":523,"elements":[{"children":[],"start":524,"end":529,"code":"\"FOO\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":524,"kind":9,"value":"\"FOO\""}],"rbrace":529,"incomplete":false}],"ellipsis":0,"rparen":0},{"children":[],"start":533,"end":535,"code":"\u0026s","nodeType":"UnaryExpression","column":0,"line":0,"opPos":533,"op":17,"expression":{"children":[],"start":534,"end":535,"code":"s","nodeType":"Identifier","column":0,"line":0,"namePos":534,"name":"s","object":null}}],"ellipsis":0,"rparen":0}]},{"children":[],"start":538,"end":561,"code":"require.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":538,"end":561,"code":"require.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":538,"end":553,"code":"require.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":538,"end":545,"code":"require","nodeType":"Identifier","column":0,"line":0,"namePos":538,"name":"require","object":null},"sel":{"children":[],"start":546,"end":553,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":546,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":554,"end":555,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":554,"name":"t","object":null},{"children":[],"start":557,"end":560,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":557,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":563,"end":592,"code":"assert.Equal(t, \"FOO\", s.Foo)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":563,"end":592,"code":"assert.Equal(t, \"FOO\", s.Foo)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":563,"end":575,"code":"assert.Equal","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":563,"end":569,"code":"assert","nodeType":"Identifier","column":0,"line":0,"namePos":563,"name":"assert","object":null},"sel":{"children":[],"start":570,"end":575,"code":"Equal","nodeType":"Identifier","column":0,"line":0,"namePos":570,"name":"Equal","object":null}},"lparen":0,"args":[{"children":[],"start":576,"end":577,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":576,"name":"t","object":null},{"children":[],"start":579,"end":584,"code":"\"FOO\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":579,"kind":9,"value":"\"FOO\""},{"children":[],"start":586,"end":591,"code":"s.Foo","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":586,"end":587,"code":"s","nodeType":"Identifier","column":0,"line":0,"namePos":586,"name":"s","object":null},"sel":{"children":[],"start":588,"end":591,"code":"Foo","nodeType":"Identifier","column":0,"line":0,"namePos":588,"name":"Foo","object":null}}],"ellipsis":0,"rparen":0}}],"rbrace":593}},{"children":[],"start":596,"end":785,"code":"func msgpackBody(t *testing.T, obj any) []byte {\n\tvar bs bytes.Buffer\n\th := \u0026codec.MsgpackHandle{}\n\terr := codec.NewEncoder(\u0026bs, h).Encode(obj)\n\trequire.NoError(t, err)\n\treturn bs.Bytes()\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":601,"end":612,"code":"msgpackBody","nodeType":"Identifier","column":0,"line":0,"namePos":601,"name":"msgpackBody","object":null},"type":{"children":[],"start":596,"end":642,"code":"func(t *testing.T, obj any) []byte","nodeType":"FunctionType","column":0,"line":0,"Function":596,"TypeParams":null,"Params":{"children":[],"start":612,"end":635,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":612,"list":[{"children":[],"start":613,"end":625,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":613,"end":614,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":613,"name":"t","object":null}],"type":{"children":[],"start":615,"end":625,"code":"*testing.T","nodeType":"StarExpression","column":0,"line":0,"star":615,"expression":{"children":[],"start":616,"end":625,"code":"testing.T","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":616,"end":623,"code":"testing","nodeType":"Identifier","column":0,"line":0,"namePos":616,"name":"testing","object":null},"sel":{"children":[],"start":624,"end":625,"code":"T","nodeType":"Identifier","column":0,"line":0,"namePos":624,"name":"T","object":null}}},"tag":null,"comment":null},{"children":[],"start":627,"end":634,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":627,"end":630,"code":"obj","nodeType":"Identifier","column":0,"line":0,"namePos":627,"name":"obj","object":null}],"type":{"children":[],"start":631,"end":634,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":631,"name":"any","object":null},"tag":null,"comment":null}],"closing":634},"Results":{"children":[],"start":636,"end":642,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":0,"list":[{"children":[],"start":636,"end":642,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":636,"end":642,"code":"[]byte","nodeType":"ArrayType","column":0,"line":0,"leftBracket":636,"length":null,"element":{"children":[],"start":638,"end":642,"code":"byte","nodeType":"Identifier","column":0,"line":0,"namePos":638,"name":"byte","object":null}},"tag":null,"comment":null}],"closing":0}},"body":{"children":[],"start":643,"end":785,"code":"{\n\tvar bs bytes.Buffer\n\th := \u0026codec.MsgpackHandle{}\n\terr := codec.NewEncoder(\u0026bs, h).Encode(obj)\n\trequire.NoError(t, err)\n\treturn bs.Bytes()\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":643,"list":[{"children":[],"start":646,"end":665,"code":"var bs bytes.Buffer","nodeType":"DeclarationStatement","column":0,"line":0,"declaration":{"children":[],"start":646,"end":665,"code":"var bs bytes.Buffer","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":646,"token":85,"lparen":0,"specifications":[{"children":[],"start":650,"end":665,"code":"bs bytes.Buffer","nodeType":"ValueSpecification","column":0,"line":0,"doc":null,"names":[{"children":[],"start":650,"end":652,"code":"bs","nodeType":"Identifier","column":0,"line":0,"namePos":650,"name":"bs","object":null}],"type":{"children":[],"start":653,"end":665,"code":"bytes.Buffer","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":653,"end":658,"code":"bytes","nodeType":"Identifier","column":0,"line":0,"namePos":653,"name":"bytes","object":null},"sel":{"children":[],"start":659,"end":665,"code":"Buffer","nodeType":"Identifier","column":0,"line":0,"namePos":659,"name":"Buffer","object":null}},"values":[],"comment":null}],"rparen":0}},{"children":[],"start":667,"end":694,"code":"h := \u0026codec.MsgpackHandle{}","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":667,"end":668,"code":"h","nodeType":"Identifier","column":0,"line":0,"namePos":667,"name":"h","object":null}],"tokenPos":669,"token":47,"rhs":[{"children":[],"start":672,"end":694,"code":"\u0026codec.MsgpackHandle{}","nodeType":"UnaryExpression","column":0,"line":0,"opPos":672,"op":17,"expression":{"children":[],"start":673,"end":694,"code":"codec.MsgpackHandle{}","nodeType":"CompositeLiteral","column":0,"line":0,"type":{"children":[],"start":673,"end":692,"code":"codec.MsgpackHandle","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":673,"end":678,"code":"codec","nodeType":"Identifier","column":0,"line":0,"namePos":673,"name":"codec","object":null},"sel":{"children":[],"start":679,"end":692,"code":"MsgpackHandle","nodeType":"Identifier","column":0,"line":0,"namePos":679,"name":"MsgpackHandle","object":null}},"lbrace":692,"elements":[],"rbrace":693,"incomplete":false}}]},{"children":[],"start":696,"end":739,"code":"err := codec.NewEncoder(\u0026bs, h).Encode(obj)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":696,"end":699,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":696,"name":"err","object":null}],"tokenPos":700,"token":47,"rhs":[{"children":[],"start":703,"end":739,"code":"codec.NewEncoder(\u0026bs, h).Encode(obj)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":703,"end":734,"code":"codec.NewEncoder(\u0026bs, h).Encode","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":703,"end":727,"code":"codec.NewEncoder(\u0026bs, h)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":703,"end":719,"code":"codec.NewEncoder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":703,"end":708,"code":"codec","nodeType":"Identifier","column":0,"line":0,"namePos":703,"name":"codec","object":null},"sel":{"children":[],"start":709,"end":719,"code":"NewEncoder","nodeType":"Identifier","column":0,"line":0,"namePos":709,"name":"NewEncoder","object":null}},"lparen":0,"args":[{"children":[],"start":720,"end":723,"code":"\u0026bs","nodeType":"UnaryExpression","column":0,"line":0,"opPos":720,"op":17,"expression":{"children":[],"start":721,"end":723,"code":"bs","nodeType":"Identifier","column":0,"line":0,"namePos":721,"name":"bs","object":null}},{"children":[],"start":725,"end":726,"code":"h","nodeType":"Identifier","column":0,"line":0,"namePos":725,"name":"h","object":null}],"ellipsis":0,"rparen":0},"sel":{"children":[],"start":728,"end":734,"code":"Encode","nodeType":"Identifier","column":0,"line":0,"namePos":728,"name":"Encode","object":null}},"lparen":0,"args":[{"children":[],"start":735,"end":738,"code":"obj","nodeType":"Identifier","column":0,"line":0,"namePos":735,"name":"obj","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":741,"end":764,"code":"require.NoError(t, err)","nodeType":"ExpressionStatement","column":0,"line":0,"Expression":{"children":[],"start":741,"end":764,"code":"require.NoError(t, err)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":741,"end":756,"code":"require.NoError","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":741,"end":748,"code":"require","nodeType":"Identifier","column":0,"line":0,"namePos":741,"name":"require","object":null},"sel":{"children":[],"start":749,"end":756,"code":"NoError","nodeType":"Identifier","column":0,"line":0,"namePos":749,"name":"NoError","object":null}},"lparen":0,"args":[{"children":[],"start":757,"end":758,"code":"t","nodeType":"Identifier","column":0,"line":0,"namePos":757,"name":"t","object":null},{"children":[],"start":760,"end":763,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":760,"name":"err","object":null}],"ellipsis":0,"rparen":0}},{"children":[],"start":766,"end":783,"code":"return bs.Bytes()","nodeType":"ReturnStatement","column":0,"line":0,"return":766,"results":[{"children":[],"start":773,"end":783,"code":"bs.Bytes()","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":773,"end":781,"code":"bs.Bytes","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":773,"end":775,"code":"bs","nodeType":"Identifier","column":0,"line":0,"namePos":773,"name":"bs","object":null},"sel":{"children":[],"start":776,"end":781,"code":"Bytes","nodeType":"Identifier","column":0,"line":0,"namePos":776,"name":"Bytes","object":null}},"lparen":0,"args":[],"ellipsis":0,"rparen":0}]}],"rbrace":784}}],"fileStart":1,"fileEnd":786,"scope":{"outer":null,"objects":null},"imports":[],"unresolved":[],"comments":[],"goVersion":""}