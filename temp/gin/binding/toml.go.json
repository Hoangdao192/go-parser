{"children":[],"start":160,"end":704,"code":"package binding\n\nimport (\n\t\"bytes\"\n\t\"io\"\n\t\"net/http\"\n\t\"github.com/pelletier/go-toml/v2\"\n)\n\ntype tomlBinding struct{}\n\nfunc (tomlBinding) Name() string {\n\treturn \"toml\"\n}\nfunc (tomlBinding) Bind(req *http.Request, obj any) error {\n\treturn decodeToml(req.Body, obj)\n}\nfunc (tomlBinding) BindBody(body []byte, obj any) error {\n\treturn decodeToml(bytes.NewReader(body), obj)\n}\nfunc decodeToml(r io.Reader, obj any) error {\n\tdecoder := toml.NewDecoder(r)\n\tif err := decoder.Decode(obj); err != nil {\n\t\treturn err\n\t}\n\treturn decoder.Decode(obj)\n}\n","nodeType":"File","column":0,"line":0,"doc":null,"package":160,"name":{"children":[],"start":168,"end":175,"code":"binding","nodeType":"Identifier","column":0,"line":0,"namePos":168,"name":"binding","object":null},"declarations":[{"children":[],"start":177,"end":250,"code":"import (\n\t\"bytes\"\n\t\"io\"\n\t\"net/http\"\n\t\"github.com/pelletier/go-toml/v2\"\n)","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":177,"token":75,"lparen":184,"specifications":[{"children":[],"start":187,"end":194,"code":"\"bytes\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":187,"end":194,"code":"\"bytes\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":187,"kind":9,"value":"\"bytes\""},"comment":null,"endPosition":0},{"children":[],"start":196,"end":200,"code":"\"io\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":196,"end":200,"code":"\"io\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":196,"kind":9,"value":"\"io\""},"comment":null,"endPosition":0},{"children":[],"start":202,"end":212,"code":"\"net/http\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":202,"end":212,"code":"\"net/http\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":202,"kind":9,"value":"\"net/http\""},"comment":null,"endPosition":0},{"children":[],"start":215,"end":248,"code":"\"github.com/pelletier/go-toml/v2\"","nodeType":"ImportSpecification","column":0,"line":0,"doc":null,"name":null,"path":{"children":[],"start":215,"end":248,"code":"\"github.com/pelletier/go-toml/v2\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":215,"kind":9,"value":"\"github.com/pelletier/go-toml/v2\""},"comment":null,"endPosition":0}],"rparen":249},{"children":[],"start":252,"end":277,"code":"type tomlBinding struct{}","nodeType":"GenericDeclaration","column":0,"line":0,"doc":null,"tokenPosition":252,"token":84,"lparen":0,"specifications":[{"children":[],"start":257,"end":277,"code":"tomlBinding struct{}","nodeType":"TypeSpecification","column":0,"line":0,"doc":null,"name":{"children":[],"start":257,"end":268,"code":"tomlBinding","nodeType":"Identifier","column":0,"line":0,"namePos":257,"name":"tomlBinding","object":null},"typeParams":null,"assign":0,"type":{"children":[],"start":269,"end":277,"code":"struct{}","nodeType":"StructType","column":0,"line":0,"struct":269,"fields":{"children":[],"start":275,"end":277,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":275,"list":[],"closing":276},"incomplete":false},"comment":null}],"rparen":0},{"children":[],"start":279,"end":330,"code":"func (tomlBinding) Name() string {\n\treturn \"toml\"\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":284,"end":297,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":284,"list":[{"children":[],"start":285,"end":296,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":285,"end":296,"code":"tomlBinding","nodeType":"Identifier","column":0,"line":0,"namePos":285,"name":"tomlBinding","object":null},"tag":null,"comment":null}],"closing":296},"name":{"children":[],"start":298,"end":302,"code":"Name","nodeType":"Identifier","column":0,"line":0,"namePos":298,"name":"Name","object":null},"type":{"children":[],"start":279,"end":311,"code":"func() string","nodeType":"FunctionType","column":0,"line":0,"Function":279,"TypeParams":null,"Params":{"children":[],"start":302,"end":304,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":302,"list":[],"closing":303},"Results":{"children":[],"start":305,"end":311,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":0,"list":[{"children":[],"start":305,"end":311,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":305,"end":311,"code":"string","nodeType":"Identifier","column":0,"line":0,"namePos":305,"name":"string","object":null},"tag":null,"comment":null}],"closing":0}},"body":{"children":[],"start":312,"end":330,"code":"{\n\treturn \"toml\"\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":312,"list":[{"children":[],"start":315,"end":328,"code":"return \"toml\"","nodeType":"ReturnStatement","column":0,"line":0,"return":315,"results":[{"children":[],"start":322,"end":328,"code":"\"toml\"","nodeType":"BasicLiteral","column":0,"line":0,"valuePos":322,"kind":9,"value":"\"toml\""}]}],"rbrace":329}},{"children":[],"start":332,"end":427,"code":"func (tomlBinding) Bind(req *http.Request, obj any) error {\n\treturn decodeToml(req.Body, obj)\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":337,"end":350,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":337,"list":[{"children":[],"start":338,"end":349,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":338,"end":349,"code":"tomlBinding","nodeType":"Identifier","column":0,"line":0,"namePos":338,"name":"tomlBinding","object":null},"tag":null,"comment":null}],"closing":349},"name":{"children":[],"start":351,"end":355,"code":"Bind","nodeType":"Identifier","column":0,"line":0,"namePos":351,"name":"Bind","object":null},"type":{"children":[],"start":332,"end":389,"code":"func(req *http.Request, obj any) error","nodeType":"FunctionType","column":0,"line":0,"Function":332,"TypeParams":null,"Params":{"children":[],"start":355,"end":383,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":355,"list":[{"children":[],"start":356,"end":373,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":356,"end":359,"code":"req","nodeType":"Identifier","column":0,"line":0,"namePos":356,"name":"req","object":null}],"type":{"children":[],"start":360,"end":373,"code":"*http.Request","nodeType":"StarExpression","column":0,"line":0,"star":360,"expression":{"children":[],"start":361,"end":373,"code":"http.Request","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":361,"end":365,"code":"http","nodeType":"Identifier","column":0,"line":0,"namePos":361,"name":"http","object":null},"sel":{"children":[],"start":366,"end":373,"code":"Request","nodeType":"Identifier","column":0,"line":0,"namePos":366,"name":"Request","object":null}}},"tag":null,"comment":null},{"children":[],"start":375,"end":382,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":375,"end":378,"code":"obj","nodeType":"Identifier","column":0,"line":0,"namePos":375,"name":"obj","object":null}],"type":{"children":[],"start":379,"end":382,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":379,"name":"any","object":null},"tag":null,"comment":null}],"closing":382},"Results":{"children":[],"start":384,"end":389,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":0,"list":[{"children":[],"start":384,"end":389,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":384,"end":389,"code":"error","nodeType":"Identifier","column":0,"line":0,"namePos":384,"name":"error","object":null},"tag":null,"comment":null}],"closing":0}},"body":{"children":[],"start":390,"end":427,"code":"{\n\treturn decodeToml(req.Body, obj)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":390,"list":[{"children":[],"start":393,"end":425,"code":"return decodeToml(req.Body, obj)","nodeType":"ReturnStatement","column":0,"line":0,"return":393,"results":[{"children":[],"start":400,"end":425,"code":"decodeToml(req.Body, obj)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":400,"end":410,"code":"decodeToml","nodeType":"Identifier","column":0,"line":0,"namePos":400,"name":"decodeToml","object":null},"lparen":0,"args":[{"children":[],"start":411,"end":419,"code":"req.Body","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":411,"end":414,"code":"req","nodeType":"Identifier","column":0,"line":0,"namePos":411,"name":"req","object":null},"sel":{"children":[],"start":415,"end":419,"code":"Body","nodeType":"Identifier","column":0,"line":0,"namePos":415,"name":"Body","object":null}},{"children":[],"start":421,"end":424,"code":"obj","nodeType":"Identifier","column":0,"line":0,"namePos":421,"name":"obj","object":null}],"ellipsis":0,"rparen":0}]}],"rbrace":426}},{"children":[],"start":429,"end":535,"code":"func (tomlBinding) BindBody(body []byte, obj any) error {\n\treturn decodeToml(bytes.NewReader(body), obj)\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":{"children":[],"start":434,"end":447,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":434,"list":[{"children":[],"start":435,"end":446,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":435,"end":446,"code":"tomlBinding","nodeType":"Identifier","column":0,"line":0,"namePos":435,"name":"tomlBinding","object":null},"tag":null,"comment":null}],"closing":446},"name":{"children":[],"start":448,"end":456,"code":"BindBody","nodeType":"Identifier","column":0,"line":0,"namePos":448,"name":"BindBody","object":null},"type":{"children":[],"start":429,"end":484,"code":"func(body []byte, obj any) error","nodeType":"FunctionType","column":0,"line":0,"Function":429,"TypeParams":null,"Params":{"children":[],"start":456,"end":478,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":456,"list":[{"children":[],"start":457,"end":468,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":457,"end":461,"code":"body","nodeType":"Identifier","column":0,"line":0,"namePos":457,"name":"body","object":null}],"type":{"children":[],"start":462,"end":468,"code":"[]byte","nodeType":"ArrayType","column":0,"line":0,"leftBracket":462,"length":null,"element":{"children":[],"start":464,"end":468,"code":"byte","nodeType":"Identifier","column":0,"line":0,"namePos":464,"name":"byte","object":null}},"tag":null,"comment":null},{"children":[],"start":470,"end":477,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":470,"end":473,"code":"obj","nodeType":"Identifier","column":0,"line":0,"namePos":470,"name":"obj","object":null}],"type":{"children":[],"start":474,"end":477,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":474,"name":"any","object":null},"tag":null,"comment":null}],"closing":477},"Results":{"children":[],"start":479,"end":484,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":0,"list":[{"children":[],"start":479,"end":484,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":479,"end":484,"code":"error","nodeType":"Identifier","column":0,"line":0,"namePos":479,"name":"error","object":null},"tag":null,"comment":null}],"closing":0}},"body":{"children":[],"start":485,"end":535,"code":"{\n\treturn decodeToml(bytes.NewReader(body), obj)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":485,"list":[{"children":[],"start":488,"end":533,"code":"return decodeToml(bytes.NewReader(body), obj)","nodeType":"ReturnStatement","column":0,"line":0,"return":488,"results":[{"children":[],"start":495,"end":533,"code":"decodeToml(bytes.NewReader(body), obj)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":495,"end":505,"code":"decodeToml","nodeType":"Identifier","column":0,"line":0,"namePos":495,"name":"decodeToml","object":null},"lparen":0,"args":[{"children":[],"start":506,"end":527,"code":"bytes.NewReader(body)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":506,"end":521,"code":"bytes.NewReader","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":506,"end":511,"code":"bytes","nodeType":"Identifier","column":0,"line":0,"namePos":506,"name":"bytes","object":null},"sel":{"children":[],"start":512,"end":521,"code":"NewReader","nodeType":"Identifier","column":0,"line":0,"namePos":512,"name":"NewReader","object":null}},"lparen":0,"args":[{"children":[],"start":522,"end":526,"code":"body","nodeType":"Identifier","column":0,"line":0,"namePos":522,"name":"body","object":null}],"ellipsis":0,"rparen":0},{"children":[],"start":529,"end":532,"code":"obj","nodeType":"Identifier","column":0,"line":0,"namePos":529,"name":"obj","object":null}],"ellipsis":0,"rparen":0}]}],"rbrace":534}},{"children":[],"start":537,"end":704,"code":"func decodeToml(r io.Reader, obj any) error {\n\tdecoder := toml.NewDecoder(r)\n\tif err := decoder.Decode(obj); err != nil {\n\t\treturn err\n\t}\n\treturn decoder.Decode(obj)\n}","nodeType":"FunctionDeclaration","column":0,"line":0,"doc":null,"receiver":null,"name":{"children":[],"start":542,"end":552,"code":"decodeToml","nodeType":"Identifier","column":0,"line":0,"namePos":542,"name":"decodeToml","object":null},"type":{"children":[],"start":537,"end":580,"code":"func(r io.Reader, obj any) error","nodeType":"FunctionType","column":0,"line":0,"Function":537,"TypeParams":null,"Params":{"children":[],"start":552,"end":574,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":552,"list":[{"children":[],"start":553,"end":564,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":553,"end":554,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":553,"name":"r","object":null}],"type":{"children":[],"start":555,"end":564,"code":"io.Reader","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":555,"end":557,"code":"io","nodeType":"Identifier","column":0,"line":0,"namePos":555,"name":"io","object":null},"sel":{"children":[],"start":558,"end":564,"code":"Reader","nodeType":"Identifier","column":0,"line":0,"namePos":558,"name":"Reader","object":null}},"tag":null,"comment":null},{"children":[],"start":566,"end":573,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":[{"children":[],"start":566,"end":569,"code":"obj","nodeType":"Identifier","column":0,"line":0,"namePos":566,"name":"obj","object":null}],"type":{"children":[],"start":570,"end":573,"code":"any","nodeType":"Identifier","column":0,"line":0,"namePos":570,"name":"any","object":null},"tag":null,"comment":null}],"closing":573},"Results":{"children":[],"start":575,"end":580,"code":"","nodeType":"FieldList","column":0,"line":0,"opening":0,"list":[{"children":[],"start":575,"end":580,"code":"","nodeType":"Field","column":0,"line":0,"doc":null,"names":null,"type":{"children":[],"start":575,"end":580,"code":"error","nodeType":"Identifier","column":0,"line":0,"namePos":575,"name":"error","object":null},"tag":null,"comment":null}],"closing":0}},"body":{"children":[],"start":581,"end":704,"code":"{\n\tdecoder := toml.NewDecoder(r)\n\tif err := decoder.Decode(obj); err != nil {\n\t\treturn err\n\t}\n\treturn decoder.Decode(obj)\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":581,"list":[{"children":[],"start":584,"end":613,"code":"decoder := toml.NewDecoder(r)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":584,"end":591,"code":"decoder","nodeType":"Identifier","column":0,"line":0,"namePos":584,"name":"decoder","object":null}],"tokenPos":592,"token":47,"rhs":[{"children":[],"start":595,"end":613,"code":"toml.NewDecoder(r)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":595,"end":610,"code":"toml.NewDecoder","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":595,"end":599,"code":"toml","nodeType":"Identifier","column":0,"line":0,"namePos":595,"name":"toml","object":null},"sel":{"children":[],"start":600,"end":610,"code":"NewDecoder","nodeType":"Identifier","column":0,"line":0,"namePos":600,"name":"NewDecoder","object":null}},"lparen":0,"args":[{"children":[],"start":611,"end":612,"code":"r","nodeType":"Identifier","column":0,"line":0,"namePos":611,"name":"r","object":null}],"ellipsis":0,"rparen":0}]},{"children":[],"start":615,"end":674,"code":"if err := decoder.Decode(obj); err != nil {\n\treturn err\n}","nodeType":"IfStatement","column":0,"line":0,"if":615,"initialization":{"children":[],"start":618,"end":644,"code":"err := decoder.Decode(obj)","nodeType":"AssignStatement","column":0,"line":0,"lhs":[{"children":[],"start":618,"end":621,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":618,"name":"err","object":null}],"tokenPos":622,"token":47,"rhs":[{"children":[],"start":625,"end":644,"code":"decoder.Decode(obj)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":625,"end":639,"code":"decoder.Decode","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":625,"end":632,"code":"decoder","nodeType":"Identifier","column":0,"line":0,"namePos":625,"name":"decoder","object":null},"sel":{"children":[],"start":633,"end":639,"code":"Decode","nodeType":"Identifier","column":0,"line":0,"namePos":633,"name":"Decode","object":null}},"lparen":0,"args":[{"children":[],"start":640,"end":643,"code":"obj","nodeType":"Identifier","column":0,"line":0,"namePos":640,"name":"obj","object":null}],"ellipsis":0,"rparen":0}]},"condition":{"children":[],"start":646,"end":656,"code":"err != nil","nodeType":"BinaryExpression","column":0,"line":0,"leftExpression":{"children":[],"start":646,"end":649,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":646,"name":"err","object":null},"opPos":650,"op":44,"rightExpression":{"children":[],"start":653,"end":656,"code":"nil","nodeType":"Identifier","column":0,"line":0,"namePos":653,"name":"nil","object":null}},"body":{"children":[],"start":657,"end":674,"code":"{\n\treturn err\n}","nodeType":"BlockStatement","column":0,"line":0,"lbrace":657,"list":[{"children":[],"start":661,"end":671,"code":"return err","nodeType":"ReturnStatement","column":0,"line":0,"return":661,"results":[{"children":[],"start":668,"end":671,"code":"err","nodeType":"Identifier","column":0,"line":0,"namePos":668,"name":"err","object":null}]}],"rbrace":673},"else":null},{"children":[],"start":676,"end":702,"code":"return decoder.Decode(obj)","nodeType":"ReturnStatement","column":0,"line":0,"return":676,"results":[{"children":[],"start":683,"end":702,"code":"decoder.Decode(obj)","nodeType":"CallExpression","column":0,"line":0,"function":{"children":[],"start":683,"end":697,"code":"decoder.Decode","nodeType":"SelectorExpression","column":0,"line":0,"expression":{"children":[],"start":683,"end":690,"code":"decoder","nodeType":"Identifier","column":0,"line":0,"namePos":683,"name":"decoder","object":null},"sel":{"children":[],"start":691,"end":697,"code":"Decode","nodeType":"Identifier","column":0,"line":0,"namePos":691,"name":"Decode","object":null}},"lparen":0,"args":[{"children":[],"start":698,"end":701,"code":"obj","nodeType":"Identifier","column":0,"line":0,"namePos":698,"name":"obj","object":null}],"ellipsis":0,"rparen":0}]}],"rbrace":703}}],"fileStart":1,"fileEnd":705,"scope":{"outer":null,"objects":null},"imports":[],"unresolved":[],"comments":[],"goVersion":""}